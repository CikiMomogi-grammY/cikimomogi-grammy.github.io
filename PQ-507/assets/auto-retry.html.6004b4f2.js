import{_ as d,r as s,o as p,c as m,b as e,a,w as t,d as n,e as o}from"./app.9a621f1c.js";const k={},g=a("h1",{id:"pengulang-request-api-auto-retry",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#pengulang-request-api-auto-retry","aria-hidden":"true"},"#"),n(" Pengulang Request API ("),a("code",null,[n("auto"),a("wbr"),n("-retry")]),n(")")],-1),b=n("Pertimbangkan untuk menggunakan "),h=n("plugin throttler"),_=n(" alih-alih menggunakan plugin ini."),y=n("Plugin ini adalah sebuah "),w=n("API transformer function"),f=n(". Artinya, ia dapat mencegat dan memodifikasi HTTP request yang keluar secara langsung. Lebih tepatnya, plugin ini akan secara otomatis mendeteksi jika suatu API request gagal dilakukan dengan membawa value "),v=a("code",null,[n("retry"),a("wbr"),n("_after")],-1),j=n(", misal dikarenakan rate limit. Ia akan menangkap error tersebut, lalu menunggu beberapa saat, kemudian mengirim request tersebut kembali."),x=o('<div class="custom-container warning"><p class="custom-container-title">Gunakan Server API Bot dengan Bijak</p><p>Telegram dengan baik hati menyediakan informasi berapa lama bot kamu harus menunggu sebelum request selanjutnya boleh dikirim. Saat terkena flood limit, plugin <code>auto<wbr>-retry</code> akan menjaga performa bot kamu dengan cara mengirim kembali request yang gagal dikirim. Namun, <strong>auto-retry sebaiknya tidak dipakai</strong> untuk menghindari rate limit yang terjadi pada operasi sehari-hari. Jika kamu terus-menerus melanggar batas rate limit, Telegram akan mengambil tindakan berupa pembatasan bot atau bahkan memblokir bot kamu sepenuhnya.</p></div><p>Kamu bisa menginstal plugin ini di object <code>bot<wbr>.api</code>:</p>',2),R=a("div",{class:"language-typescript ext-ts line-numbers-mode"},[a("pre",{class:"language-typescript"},[a("code",null,[a("span",{class:"token keyword"},"import"),n(),a("span",{class:"token punctuation"},"{"),n(" autoRetry "),a("span",{class:"token punctuation"},"}"),n(),a("span",{class:"token keyword"},"from"),n(),a("span",{class:"token string"},'"@grammyjs/auto-retry"'),a("span",{class:"token punctuation"},";"),n(`

`),a("span",{class:"token comment"},"// Pasang plugin-nya"),n(`
bot`),a("span",{class:"token punctuation"},"."),n("api"),a("span",{class:"token punctuation"},"."),n("config"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"use"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"autoRetry"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),n(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"})])],-1),q=a("div",{class:"language-javascript ext-js line-numbers-mode"},[a("pre",{class:"language-javascript"},[a("code",null,[a("span",{class:"token keyword"},"const"),n(),a("span",{class:"token punctuation"},"{"),n(" autoRetry "),a("span",{class:"token punctuation"},"}"),n(),a("span",{class:"token operator"},"="),n(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},'"@grammyjs/auto-retry"'),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),n(`

`),a("span",{class:"token comment"},"// Pasang plugin-nya"),n(`
bot`),a("span",{class:"token punctuation"},"."),n("api"),a("span",{class:"token punctuation"},"."),n("config"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"use"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"autoRetry"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),n(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"})])],-1),P=a("div",{class:"language-typescript ext-ts line-numbers-mode"},[a("pre",{class:"language-typescript"},[a("code",null,[a("span",{class:"token keyword"},"import"),n(),a("span",{class:"token punctuation"},"{"),n(" autoRetry "),a("span",{class:"token punctuation"},"}"),n(),a("span",{class:"token keyword"},"from"),n(),a("span",{class:"token string"},'"https://esm.sh/@grammyjs/auto-retry"'),a("span",{class:"token punctuation"},";"),n(`

`),a("span",{class:"token comment"},"// Pasang plugin-nya"),n(`
bot`),a("span",{class:"token punctuation"},"."),n("api"),a("span",{class:"token punctuation"},"."),n("config"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"use"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"autoRetry"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),n(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"})])],-1),I=o("<p>Sekarang, anggaplah kamu sedang memanggil <code>send<wbr>Message</code>, lalu terkena rate limit, maka ia akan tampak seperti sebuah request yang diproses dengan sangat lama. Di balik layar, beberapa HTTP request sedang dilakukan dengan jeda waktu yang sesuai\u2014berdasarkan durasi flood limit\u2014di antara kedua request. Oleh sebab itu, durasi pemrosesan terasa lama karena adanya jeda waktu tersebut.</p><p>Kamu bisa menentukan sebuah opsi <code>max<wbr>Retry<wbr>Attempts</code> untuk menentukan jumlah maksimal pengulangan yang boleh dilakukan (bawaanya: 3) atau opsi <code>max<wbr>Delay<wbr>Seconds</code> untuk menentukan batas maksimal durasi tunggu (bawaanya: 1 jam).</p>",2),T=n("Segera setelah jumlah maksimal pengulangan terlampaui, request-request berikutnya yang mengalami error tidak akan diulang kembali. Object error tersebut akan tetap diteruskan yang kemudian menghasilkan sebuah "),A=a("code",null,[n("Grammy"),a("wbr"),n("Error")],-1),E=n("."),S=o(`<p>Hal yang sama juga berlaku ketika request gagal dijalankan dengan <code>retry<wbr>_after</code> lebih besar dari nilai <code>max<wbr>Delay<wbr>Seconds</code> yang telah ditentukan. Request tersebut akan digagalkan saat itu juga.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token function">autoRetry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  maxRetryAttempts<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// Hanya mengulangi sekali</span>
  maxDelaySeconds<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// Langsung gagalkan jika kita harus menunggu lebih dari 5 detik</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Kamu bisa menggunakan <code>retry<wbr>OnInternal<wbr>Server<wbr>Errors</code> untuk menyertakan error-error server internal Telegram lainnya (kode status &gt;= 500). Error tersebut akan langsung diulang kembali dengan tetap mematuhi opsi <code>max<wbr>Retry<wbr>Attempts</code> yang telah ditentukan.</p><h2 id="ringkasan-plugin" tabindex="-1"><a class="header-anchor" href="#ringkasan-plugin" aria-hidden="true">#</a> Ringkasan Plugin</h2>`,4),D=a("li",null,[n("Nama: "),a("code",null,[n("auto"),a("wbr"),n("-retry")])],-1),N=n("Sumber: "),C={href:"https://github.com/grammyjs/auto-retry",target:"_blank",rel:"noopener noreferrer"},L=n("https://"),G=a("wbr",null,null,-1),K=n("github"),z=a("wbr",null,null,-1),H=n(".com"),O=a("wbr",null,null,-1),B=n("/grammyjs"),Y=a("wbr",null,null,-1),V=n("/auto"),F=a("wbr",null,null,-1),J=n("-retry"),M=n("Referensi: "),Q={href:"https://doc.deno.land/https://raw.githubusercontent.com/grammyjs/auto-retry/main/src/index.ts",target:"_blank",rel:"noopener noreferrer"},U=o("https://<wbr>doc<wbr>.deno<wbr>.land<wbr>/https://<wbr>raw<wbr>.githubusercontent<wbr>.com<wbr>/grammyjs<wbr>/auto<wbr>-retry<wbr>/main<wbr>/src<wbr>/index<wbr>.ts",29);function W(X,Z){const l=s("AutotagPage"),i=s("RouterLink"),r=s("CodeGroupItem"),c=s("CodeGroup"),u=s("ExternalLinkIcon");return p(),m("div",null,[g,e(l,{config:'[{"url":["/plugins"],"exclude":["console-time","middlewares","autoquote","guide","session","keyboard","/"],"tag":[{"template":"official","text":"OFFICIAL","desc":"This plugin is published and maintained by grammY","locale":{"es":{"text":"OFICIAL","desc":"Este plugin es publicado y mantenido por grammY"},"id":{"text":"RESMI","desc":"Plugin ini dipublikasi dan dikelola oleh grammY"},"zh":{"text":"\u5B98\u65B9\u7EF4\u62A4","desc":"\u8FD9\u4E2A\u63D2\u4EF6\u662F\u7531grammY\u53D1\u5E03\u548C\u7EF4\u62A4\u7684"}}}]},{"url":["/plugins"],"include":["console-time","middlewares","autoquote"],"tag":[{"template":"thirdparty","text":"THIRD-PARTY","desc":"This plugin is maintained by third-party","locale":{"es":{"text":"DE TERCEROS","desc":"Este plugin es mantenido por terceros"},"id":{"text":"PIHAK KETIGA","desc":"Plugin ini dikelola oleh pihak ketiga"},"zh":{"text":"\u7B2C\u4E09\u65B9","desc":"\u8FD9\u4E2A\u63D2\u4EF6\u662F\u7531\u7B2C\u4E09\u65B9\u7EF4\u62A4\u7684"}}}]},{"url":["/hosting"],"exclude":["gcf","comparison"],"tag":[{"template":"deno","desc":"This setup is able to run Deno bots","locale":{"es":{"desc":"Esta configuraci\xF3n es capaz de ejecutar bots Deno"},"id":{"desc":"Konfigurasi ini dapat dijalankan di bot Deno"},"zh":{"desc":"\u8FD9\u4E2A\u8BBE\u7F6E\u80FD\u591F\u8FD0\u884CDeno\u673A\u5668\u4EBA"}}}]},{"url":["/hosting"],"include":["heroku","vps"],"tag":[{"template":"nodejs","desc":"This setup is able to run Node.js bots","locale":{"es":{"desc":"Esta configuraci\xF3n es capaz de ejecutar bots Node.js"},"id":{"desc":"Konfigurasi ini dapat dijalankan di bot Node.js"},"zh":{"desc":"\u8FD9\u4E2A\u8BBE\u7F6E\u80FD\u591F\u8FD0\u884CNode.js\u673A\u5668\u4EBA"}}}]}]'}),a("blockquote",null,[a("p",null,[b,e(i,{to:"/id/plugins/transformer-throttler.html"},{default:t(()=>[h]),_:1}),_])]),a("p",null,[y,e(i,{to:"/id/advanced/transformers.html"},{default:t(()=>[w]),_:1}),f,v,j]),x,e(c,null,{default:t(()=>[e(r,{title:"TypeScript",active:""},{default:t(()=>[R]),_:1}),e(r,{title:"JavaScript"},{default:t(()=>[q]),_:1}),e(r,{title:"Deno"},{default:t(()=>[P]),_:1})]),_:1}),I,a("p",null,[T,e(i,{to:"/id/guide/errors.html#object-grammyerror"},{default:t(()=>[A]),_:1}),E]),S,a("ul",null,[D,a("li",null,[N,a("a",C,[L,G,K,z,H,O,B,Y,V,F,J,e(u)])]),a("li",null,[M,a("a",Q,[U,e(u)])])])])}const aa=d(k,[["render",W],["__file","auto-retry.html.vue"]]);export{aa as default};
