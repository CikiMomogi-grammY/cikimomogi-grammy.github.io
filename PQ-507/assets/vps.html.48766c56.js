import{_ as l,r as n,o as d,c as r,b as s,a,d as e,e as o}from"./app.9a621f1c.js";const c={},u=a("h1",{id:"hosting-vps",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#hosting-vps","aria-hidden":"true"},"#"),e(" Hosting: VPS")],-1),p=o(`<p>Virtual Private Server, atau biasa dikenal dengan VPS, adalah sebuah perangkat virtual yang berjalan di cloud, dimana pemiliknya memiliki kendali penuh atas perangkat tersebut.</p><p>Di panduan kali ini, kamu akan mempelajari bagaimana menjalankan bot di sebuah VPS, menjaga bot agar tetap online 24/7, serta memulai bot secara otomatis ketika VPS kamu mengalami crash.</p><h2 id="systemd" tabindex="-1"><a class="header-anchor" href="#systemd" aria-hidden="true">#</a> systemd</h2><p>systemd adalah sebuah service manager yang sudah terinstal secara bawaan di berbagai distribusi Linux, khususnya yang berbasis Debian.</p><h3 id="menyiapkan-command-start" tabindex="-1"><a class="header-anchor" href="#menyiapkan-command-start" aria-hidden="true">#</a> Menyiapkan Command Start</h3><ol><li>Memperoleh path lengkap runtime:</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Jika menggunakan Deno</span>
<span class="token function">which</span> deno

<span class="token comment"># Jika menggunakan Node.js</span>
<span class="token function">which</span> <span class="token function">node</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><p>Kamu harus tahu path lengkap file entry-nya juga.</p></li><li><p>Command start kamu kurang lebih terlihat seperti ini:</p></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token operator">&lt;</span>path_lengkap_runtime<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>opsi<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>path_lengkap_file_entry<span class="token operator">&gt;</span>

<span class="token comment"># Contoh untuk Deno:</span>
<span class="token comment"># /home/user/.deno/bin/deno --allow-all /home/user/bot1/mod.ts</span>

<span class="token comment"># Contoh untuk Node.js:</span>
<span class="token comment"># /home/user/.nvm/versions/node/v16.9.1/bin/node /home/user/bot1/index.js</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="membuat-service" tabindex="-1"><a class="header-anchor" href="#membuat-service" aria-hidden="true">#</a> Membuat Service</h3><ol><li>Arahkan pointer ke direktori service-nya:</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /etc/systemd/system
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>Buka file service baru kamu di sebuah text editor:</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">nano</span> bot1.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>Isi dengan konten berikut:</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[Service]
ExecStart=&lt;start_command&gt;
Restart=on-failure

[Install]
WantedBy=multi-user.target
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Ganti <code>&lt;start<wbr>_command&gt;</code> dengan command yang telah kamu buat di atas tadi.</p></blockquote><ol start="3"><li>Mulai ulang systemd setiap kali service mengalami perubahan:</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl daemon-reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="mengelola-service" tabindex="-1"><a class="header-anchor" href="#mengelola-service" aria-hidden="true">#</a> Mengelola Service</h3><h4 id="start" tabindex="-1"><a class="header-anchor" href="#start" aria-hidden="true">#</a> Start</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl start <span class="token operator">&lt;</span>service_name<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>Ganti <code>&lt;service<wbr>_name&gt;</code> dengan nama file service-nya. Contoh: <code>systemctl start bot1</code></p></blockquote><h4 id="jalankan-setiap-kali-melakukan-boot" tabindex="-1"><a class="header-anchor" href="#jalankan-setiap-kali-melakukan-boot" aria-hidden="true">#</a> Jalankan Setiap Kali Melakukan Boot</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl <span class="token builtin class-name">enable</span> <span class="token operator">&lt;</span>service_name<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="cek-log" tabindex="-1"><a class="header-anchor" href="#cek-log" aria-hidden="true">#</a> Cek Log</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl status <span class="token operator">&lt;</span>service_name<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="restart" tabindex="-1"><a class="header-anchor" href="#restart" aria-hidden="true">#</a> Restart</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl restart <span class="token operator">&lt;</span>service_name<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="stop" tabindex="-1"><a class="header-anchor" href="#stop" aria-hidden="true">#</a> Stop</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl stop <span class="token operator">&lt;</span>service_name<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="jangan-dijalankan-ketika-boot-dilakukan" tabindex="-1"><a class="header-anchor" href="#jangan-dijalankan-ketika-boot-dilakukan" aria-hidden="true">#</a> Jangan Dijalankan ketika Boot Dilakukan</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl disable <span class="token operator">&lt;</span>service_name<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="pm2-khusus-node-js" tabindex="-1"><a class="header-anchor" href="#pm2-khusus-node-js" aria-hidden="true">#</a> PM2 (Khusus Node.js)</h2><p>PM2 adalah sebuah daemon process manager untuk Node.js yang berfungsi untuk menjaga aplikasi kamu online 24/7.</p><h3 id="pemasangan" tabindex="-1"><a class="header-anchor" href="#pemasangan" aria-hidden="true">#</a> Pemasangan</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> pm2@latest <span class="token parameter variable">-g</span>

<span class="token comment"># Jika menggunakan Yarn</span>
<span class="token function">yarn</span> global <span class="token function">add</span> pm2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mengatur-aplikasi" tabindex="-1"><a class="header-anchor" href="#mengatur-aplikasi" aria-hidden="true">#</a> Mengatur Aplikasi</h3><h4 id="start-1" tabindex="-1"><a class="header-anchor" href="#start-1" aria-hidden="true">#</a> Start</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>pm2 start <span class="token parameter variable">--name</span> <span class="token operator">&lt;</span>app_name<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>entry_point<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p><code>&lt;app<wbr>_name&gt;</code> diisi dengan nama id dari aplikasimu, misalnya: <code>bot1</code>. <code>&lt;entry<wbr>_point&gt;</code> diisi dengan path index file kamu (file yang menjalankan bot kamu).</p></blockquote><h4 id="restart-1" tabindex="-1"><a class="header-anchor" href="#restart-1" aria-hidden="true">#</a> Restart</h4><p>Dengan melakukan restart, aplikasimu akan dihentikan, lalu dimulai ulang kembali.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>pm2 restart <span class="token operator">&lt;</span>app_name<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="reload" tabindex="-1"><a class="header-anchor" href="#reload" aria-hidden="true">#</a> Reload</h4><p>Dengan melakukan reload, kamu akan mengganti proses aplikasi yang sedang berjalan dengan yang baru. Aksi ini tidak menghasilkan waktu downtime sedikitpun (0 detik waktu downtime). Langkah ini direkomendasikan untuk aplikasi stateless.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>pm2 reload <span class="token operator">&lt;</span>app_name<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="stop-1" tabindex="-1"><a class="header-anchor" href="#stop-1" aria-hidden="true">#</a> Stop</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Satu aplikasi</span>
pm2 stop <span class="token operator">&lt;</span>app_name<span class="token operator">&gt;</span>

<span class="token comment"># Semua aplikasi</span>
pm2 stop all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="delete" tabindex="-1"><a class="header-anchor" href="#delete" aria-hidden="true">#</a> Delete</h4><p>Dengan melakukan delete, kamu akan menghentikan aplikasi lalu menghapus semua log beserta metric-nya.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>pm2 del <span class="token operator">&lt;</span>app_name<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="informasi-lanjutan" tabindex="-1"><a class="header-anchor" href="#informasi-lanjutan" aria-hidden="true">#</a> Informasi Lanjutan</h3>`,53),m=e("Untuk informasi lebih lanjut, silahkan lihat "),h={href:"https://pm2.keymetrics.io/docs",target:"_blank",rel:"noopener noreferrer"},b=e("https://"),g=a("wbr",null,null,-1),k=e("pm2"),v=a("wbr",null,null,-1),_=e(".keymetrics"),x=a("wbr",null,null,-1),f=e(".io"),y=a("wbr",null,null,-1),j=e("/docs"),S=e(".");function w(D,P){const i=n("AutotagPage"),t=n("ExternalLinkIcon");return d(),r("div",null,[u,s(i,{config:'[{"url":["/plugins"],"exclude":["console-time","middlewares","autoquote","guide","session","keyboard","/"],"tag":[{"template":"official","text":"OFFICIAL","desc":"This plugin is published and maintained by grammY","locale":{"es":{"text":"OFICIAL","desc":"Este plugin es publicado y mantenido por grammY"},"id":{"text":"RESMI","desc":"Plugin ini dipublikasi dan dikelola oleh grammY"},"zh":{"text":"\u5B98\u65B9\u7EF4\u62A4","desc":"\u8FD9\u4E2A\u63D2\u4EF6\u662F\u7531grammY\u53D1\u5E03\u548C\u7EF4\u62A4\u7684"}}}]},{"url":["/plugins"],"include":["console-time","middlewares","autoquote"],"tag":[{"template":"thirdparty","text":"THIRD-PARTY","desc":"This plugin is maintained by third-party","locale":{"es":{"text":"DE TERCEROS","desc":"Este plugin es mantenido por terceros"},"id":{"text":"PIHAK KETIGA","desc":"Plugin ini dikelola oleh pihak ketiga"},"zh":{"text":"\u7B2C\u4E09\u65B9","desc":"\u8FD9\u4E2A\u63D2\u4EF6\u662F\u7531\u7B2C\u4E09\u65B9\u7EF4\u62A4\u7684"}}}]},{"url":["/hosting"],"exclude":["gcf","comparison"],"tag":[{"template":"deno","desc":"This setup is able to run Deno bots","locale":{"es":{"desc":"Esta configuraci\xF3n es capaz de ejecutar bots Deno"},"id":{"desc":"Konfigurasi ini dapat dijalankan di bot Deno"},"zh":{"desc":"\u8FD9\u4E2A\u8BBE\u7F6E\u80FD\u591F\u8FD0\u884CDeno\u673A\u5668\u4EBA"}}}]},{"url":["/hosting"],"include":["heroku","vps"],"tag":[{"template":"nodejs","desc":"This setup is able to run Node.js bots","locale":{"es":{"desc":"Esta configuraci\xF3n es capaz de ejecutar bots Node.js"},"id":{"desc":"Konfigurasi ini dapat dijalankan di bot Node.js"},"zh":{"desc":"\u8FD9\u4E2A\u8BBE\u7F6E\u80FD\u591F\u8FD0\u884CNode.js\u673A\u5668\u4EBA"}}}]}]'}),p,a("p",null,[m,a("a",h,[b,g,k,v,_,x,f,y,j,s(t)]),S])])}const I=l(c,[["render",w],["__file","vps.html.vue"]]);export{I as default};
