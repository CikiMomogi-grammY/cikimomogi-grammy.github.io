import{_ as c,r as a,o as l,c as p,b as e,a as s,w as r,d as n,e as u}from"./app.9a621f1c.js";const d={},m=s("h1",{id:"inline-queries",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#inline-queries","aria-hidden":"true"},"#"),n(" Inline Queries")],-1),h=s("p",null,[n("With inline queries, users can search for, browse, and send content suggested by your bot in any chat, even if it is not a member there. To do this, they start a message with "),s("code",null,[n("@your"),s("wbr"),n("_bot"),s("wbr"),n("_name")]),n(" and choose one of the results.")],-1),k={class:"custom-container tip"},_=s("p",{class:"custom-container-title"},"Enable Inline Mode",-1),g=n("By default, support for inline mode is disabled. You must contact "),b={href:"https://t.me/BotFather",target:"_blank",rel:"noopener noreferrer"},v=n("@Bot"),f=s("wbr",null,null,-1),y=n("Father"),q=n(" and enable inline mode for your bot, to start receiving inline queries."),w=n("Revisit the Inline mode section in the "),x={href:"https://core.telegram.org/bots#inline-mode",target:"_blank",rel:"noopener noreferrer"},I=n("Introduction for Developers"),T=n(" written by the Telegram team. Further resources are their "),E={href:"https://core.telegram.org/bots/inline",target:"_blank",rel:"noopener noreferrer"},R=n("detailed description"),A=n(" of inline bots, as well as the "),Y={href:"https://telegram.org/blog/inline-bots",target:"_blank",rel:"noopener noreferrer"},j=n("original blog post"),P=n(" announcing the feature, and the Inline mode section in the "),B={href:"https://core.telegram.org/bots/api#inline-mode",target:"_blank",rel:"noopener noreferrer"},N=n("Telegram Bot API Reference"),F=n(". They are all worth a read before implementing inline queries for your bot."),C=n("Once a user triggers an inline query, i.e. starts a message by typing \u201C@your_bot_name \u2026\u201D in the text input field, your bot will receive updates about this. grammY has special support for handling inline queries via the "),D=s("code",null,[n("bot"),s("wbr"),n(".inline"),s("wbr"),n("Query()")],-1),L=n(" method, as documented on the "),Q=s("code",null,"Composer",-1),z=n(" class in the "),K={href:"https://doc.deno.land/https://deno.land/x/grammy/mod.ts/~/Composer#inlineQuery",target:"_blank",rel:"noopener noreferrer"},O=n("grammY API Reference"),S=n(". It allows you to listen for specific inline queries that match strings or regular expressions. If you want to handle all inline queries generically, use "),V=s("code",null,[n("bot"),s("wbr"),n('.on("inline'),s("wbr"),n('_query")')],-1),H=n("."),M=u(`<div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// Shameless self-advertising in one project&#39;s documentation</span>
<span class="token comment">// is the best kind of advertising.</span>
bot<span class="token punctuation">.</span><span class="token function">inlineQuery</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">best bot (framework|library)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">answerInlineQuery</span><span class="token punctuation">(</span>
    <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">&quot;article&quot;</span><span class="token punctuation">,</span>
        id<span class="token operator">:</span> <span class="token string">&quot;grammy-website&quot;</span><span class="token punctuation">,</span>
        title<span class="token operator">:</span> <span class="token string">&quot;grammY&quot;</span><span class="token punctuation">,</span>
        input_message_content<span class="token operator">:</span> <span class="token punctuation">{</span>
          message_text<span class="token operator">:</span>
<span class="token string">&quot;&lt;b&gt;grammY&lt;/b&gt; is the best way to create your own Telegram bots. \\
They even have a pretty website! \u{1F447}&quot;</span><span class="token punctuation">,</span>
          parse_mode<span class="token operator">:</span> <span class="token string">&quot;HTML&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        reply_markup<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">InlineKeyboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span>
          <span class="token string">&quot;grammY website&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;https://grammy.dev/&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        url<span class="token operator">:</span> <span class="token string">&quot;https://grammy.dev/&quot;</span><span class="token punctuation">,</span>
        description<span class="token operator">:</span> <span class="token string">&quot;The Telegram Bot Framework.&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> cache_time<span class="token operator">:</span> <span class="token number">30</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">3600</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// one month in seconds</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Return empty result list for other queries.</span>
bot<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;inline_query&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ctx<span class="token punctuation">.</span><span class="token function">answerInlineQuery</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),G=n("Remember"),W=n(" that you can always specify further options when calling API methods by using the options object of type "),J=s("code",null,"Other",-1),U=n(". For example, this allows you to perform pagination for inline queries via an offset."),X=n("Note that grammY can auto-complete all of the fields in the above structure for you. Also, be sure to check out the exact specifications for inline results in the "),Z={href:"https://core.telegram.org/bots/api#inlinequeryresult",target:"_blank",rel:"noopener noreferrer"},$=n("Telegram Bot API Reference"),nn=n(".");function sn(en,tn){const o=a("AutotagPage"),t=a("ExternalLinkIcon"),i=a("RouterLink");return l(),p("div",null,[m,e(o,{config:'[{"url":["/plugins"],"exclude":["console-time","middlewares","autoquote","guide","session","keyboard","/"],"tag":[{"template":"official","text":"OFFICIAL","desc":"This plugin is published and maintained by grammY","locale":{"es":{"text":"OFICIAL","desc":"Este plugin es publicado y mantenido por grammY"},"id":{"text":"RESMI","desc":"Plugin ini dipublikasi dan dikelola oleh grammY"},"zh":{"text":"\u5B98\u65B9\u7EF4\u62A4","desc":"\u8FD9\u4E2A\u63D2\u4EF6\u662F\u7531grammY\u53D1\u5E03\u548C\u7EF4\u62A4\u7684"}}}]},{"url":["/plugins"],"include":["console-time","middlewares","autoquote"],"tag":[{"template":"thirdparty","text":"THIRD-PARTY","desc":"This plugin is maintained by third-party","locale":{"es":{"text":"DE TERCEROS","desc":"Este plugin es mantenido por terceros"},"id":{"text":"PIHAK KETIGA","desc":"Plugin ini dikelola oleh pihak ketiga"},"zh":{"text":"\u7B2C\u4E09\u65B9","desc":"\u8FD9\u4E2A\u63D2\u4EF6\u662F\u7531\u7B2C\u4E09\u65B9\u7EF4\u62A4\u7684"}}}]},{"url":["/hosting"],"exclude":["gcf","comparison"],"tag":[{"template":"deno","desc":"This setup is able to run Deno bots","locale":{"es":{"desc":"Esta configuraci\xF3n es capaz de ejecutar bots Deno"},"id":{"desc":"Konfigurasi ini dapat dijalankan di bot Deno"},"zh":{"desc":"\u8FD9\u4E2A\u8BBE\u7F6E\u80FD\u591F\u8FD0\u884CDeno\u673A\u5668\u4EBA"}}}]},{"url":["/hosting"],"include":["heroku","vps"],"tag":[{"template":"nodejs","desc":"This setup is able to run Node.js bots","locale":{"es":{"desc":"Esta configuraci\xF3n es capaz de ejecutar bots Node.js"},"id":{"desc":"Konfigurasi ini dapat dijalankan di bot Node.js"},"zh":{"desc":"\u8FD9\u4E2A\u8BBE\u7F6E\u80FD\u591F\u8FD0\u884CNode.js\u673A\u5668\u4EBA"}}}]}]'}),h,s("div",k,[_,s("p",null,[g,s("a",b,[v,f,y,e(t)]),q])]),s("blockquote",null,[s("p",null,[w,s("a",x,[I,e(t)]),T,s("a",E,[R,e(t)]),A,s("a",Y,[j,e(t)]),P,s("a",B,[N,e(t)]),F])]),s("p",null,[C,D,L,Q,z,s("a",K,[O,e(t)]),S,V,H]),M,s("blockquote",null,[s("p",null,[e(i,{to:"/guide/basics.html#sending-messages"},{default:r(()=>[G]),_:1}),W,J,U])]),s("p",null,[X,s("a",Z,[$,e(t)]),nn])])}const on=c(d,[["render",sn],["__file","inline-queries.html.vue"]]);export{on as default};
