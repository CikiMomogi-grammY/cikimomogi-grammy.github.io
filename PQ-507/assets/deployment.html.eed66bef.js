import{_ as l,r as i,o as r,c as u,b as t,a as n,w as o,d as e}from"./app.9837a88d.js";const _={},h=n("h1",{id:"daftar-periksa-deployment",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#daftar-periksa-deployment","aria-hidden":"true"},"#"),e(" Daftar Periksa Deployment")],-1),c=n("p",null,"Berikut hal-hal yang perlu diperhatikan ketika meng-hosting bot dengan skala yang besar.",-1),m=n("blockquote",null,[n("p",null,[e("Kamu mungkin juga tertarik dengan panduan kami mengenai hosting sebuah bot. Lihat tab "),n("strong",null,"Hosting / Tutorial"),e(" di bagian atas halaman untuk melihat beberapa platform yang sudah memiliki panduan khusus.")])],-1),g=n("h2",{id:"error",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#error","aria-hidden":"true"},"#"),e(" Error")],-1),k=e("Pasang "),p=n("code",null,"error handler",-1),b=e(" menggunakan "),f=n("code",null,[e("bot"),n("wbr"),e(".catch")],-1),y=e(" (long polling) atau pada web framework-mu (webhooks)."),w=n("li",null,[e("Gunakan "),n("code",null,"await"),e(" di semua "),n("code",null,"promise"),e(" dan install "),n("strong",null,"linting"),e(" yang mewajibkan penerapan aturan tersebut agar kamu tidak lupa untuk menggunakan dua syntax ini.")],-1),x=n("h2",{id:"pengiriman-pesan",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#pengiriman-pesan","aria-hidden":"true"},"#"),e(" Pengiriman Pesan")],-1),j=e("Kirim file mengunakan "),P=n("code",null,"path",-1),v=e(" atau "),I=n("code",null,"buffer",-1),E=e(", bukan dengan "),T=n("code",null,"stream",-1),A=e(", atau setidaknya kamu "),q=e("tahu jebakan"),z=n("wbr",null,null,-1),B=e("-jebakannya"),G=e("."),L=e("Gunakan "),R=n("code",null,[e("bot"),n("wbr"),e('.on("callback'),n("wbr"),e("_query:"),n("wbr"),e('data")')],-1),C=e(" sebagai penanganan "),D=n("em",null,"fallback",-1),K=e(" untuk "),S=e("menanggapi semua callback query"),Y=e("."),N=e("Gunakan "),H=e("plugin "),U=n("code",null,[e("transformer"),n("wbr"),e("-throttler")],-1),F=e(" agar terhindari dari rate limit."),M=n("strong",null,"Opsional.",-1),O=e(" Gunakan "),J=e("plugin "),V=n("code",null,[e("auto"),n("wbr"),e("-retry")],-1),W=e(" untuk menangani error "),Q=n("code",null,"flood wait",-1),X=e(" secara otomatis."),Z=n("h2",{id:"penskalaan",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#penskalaan","aria-hidden":"true"},"#"),e(" Penskalaan")],-1),$=n("p",null,"Ini tergantung dari jenis deployment kamu.",-1),ee=n("h3",{id:"long-polling",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#long-polling","aria-hidden":"true"},"#"),e(" Long Polling")],-1),ne=e("Gunakan grammY runner"),te=e("."),ae=e("Gunakan "),oe=n("code",null,"sequentialize",-1),se=e(" dengan "),ie=n("em",null,"session key",-1),de=e(" dari "),le=n("em",null,"resolver function",-1),re=e(" yang sama sebagai "),ue=n("em",null,"session middleware",-1),_e=e(" kamu"),he=e("."),ce=e("Periksa konfigurasi "),me=n("code",null,"run",-1),ge=e(" ("),ke={href:"https://doc.deno.land/https://deno.land/x/grammy_runner/mod.ts/~/run",target:"_blank",rel:"noopener noreferrer"},pe=e("Referensi API"),be=e(") dan pastikan sesuai dengan kebutuhanmu, atau bahkan pertimbangkan untuk membuat runner-mu sendiri dari "),fe={href:"https://doc.deno.land/https://deno.land/x/grammy_runner/mod.ts/~/UpdateSource",target:"_blank",rel:"noopener noreferrer"},ye=e("source"),we=e(" dan "),xe={href:"https://doc.deno.land/https://deno.land/x/grammy_runner/mod.ts/~/UpdateSink",target:"_blank",rel:"noopener noreferrer"},je=e("sink"),Pe=e(". Hal utama yang perlu dipertimbangkan adalah beban maksimum yang ingin diterapkan ke servermu, misal: berapa banyak update yang dapat diproses secara bersamaan."),ve=e("Implementasikan "),Ie=e("graceful shutdown"),Ee=e(" ketika hendak menghentikan bot (misalnya untuk beralih ke versi baru)."),Te=n("h3",{id:"webhooks",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#webhooks","aria-hidden":"true"},"#"),e(" Webhooks")],-1),Ae=e("Pastikan tidak melakukan operasi yang berjalan lama di middleware, seperti pengiriman file dalam jumlah besar. "),qe=e("Hal ini akan mengakibatkan error timeout"),ze=e(" pada webhooks serta pemrosesan update yang sama berulang kali karena Telegram terus mengirim kembali update yang tidak direspon. Untuk menghindari hal tersebut, sebaiknya gunakan sistem "),Be=n("em",null,"task queuing",-1),Ge=e("."),Le=e("Buat dirimu terbiasa dengan konfigurasi "),Re=n("code",null,[e("webhook"),n("wbr"),e("Callback")],-1),Ce=e(" ("),De={href:"https://doc.deno.land/https://deno.land/x/grammy/mod.ts/~/webhookCallback",target:"_blank",rel:"noopener noreferrer"},Ke=e("Referensi API"),Se=e(")."),Ye=e("Jika hendak mengatur opsi "),Ne=n("code",null,[e("get"),n("wbr"),e("Session"),n("wbr"),e("Key")],-1),He=e(" untuk session, "),Ue=e("Gunakan "),Fe=n("code",null,"sequentialize",-1),Me=e(" dengan "),Oe=n("em",null,"session key",-1),Je=e(" dari "),Ve=n("em",null,"resolver function",-1),We=e(" yang sama sebagai "),Qe=n("em",null,"session middleware",-1),Xe=e(" kamu."),Ze=e("."),$e=e("Jika menjalankan bot di platform serverless atau autoscaling, "),en={href:"https://doc.deno.land/https://deno.land/x/grammy/mod.ts/~/BotConfig",target:"_blank",rel:"noopener noreferrer"},nn=e("atur informasi bot"),tn=e(" untuk mencegah panggilan "),an=n("code",null,[e("get"),n("wbr"),e("Me")],-1),on=e(" yang berlebihan."),sn=e("Pertimbangkan untuk menggunakan "),dn=e("webhook reply"),ln=e("."),rn=n("h2",{id:"session",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#session","aria-hidden":"true"},"#"),e(" Session")],-1),un=e("Pertimbangkan menggunakan "),_n=n("code",null,[e("lazy"),n("wbr"),e("Sessions")],-1),hn=e(" seperti yang sudah dijelaskan "),cn=e("di sini"),mn=e("."),gn=n("li",null,[e("Gunakan opsi "),n("code",null,"storage"),e(" untuk mengatur tempat penyimpanan. Jika tidak dilakukan, semua data akan hilang ketika bot berhenti bekerja.")],-1),kn=n("h2",{id:"pengujian",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#pengujian","aria-hidden":"true"},"#"),e(" Pengujian")],-1),pn=n("p",null,"Lakukan berbagai pengujian untuk bot. Berikut cara melakukannya dengan grammY:",-1),bn=n("em",null,"Mock",-1),fn=e(" request API yang keluar menggunakan "),yn=e("function transformer"),wn=e("."),xn=e("Tentukan dan kirim berbagai sampel object update ke bot melalui "),jn=n("code",null,[e("bot"),n("wbr"),e(".handle"),n("wbr"),e("Update")],-1),Pn=e(" ("),vn={href:"https://doc.deno.land/https://deno.land/x/grammy/mod.ts/~/Bot#handleUpdate",target:"_blank",rel:"noopener noreferrer"},In=e("referensi API"),En=e("). Pertimbangkan untuk mengambil beberapa inspirasi dari "),Tn={href:"https://core.telegram.org/bots/webhooks#testing-your-bot-with-updates",target:"_blank",rel:"noopener noreferrer"},An=e("object update"),qn=e(" yang telah disediakan oleh tim Telegram."),zn={class:"custom-container tip"},Bn=n("p",{class:"custom-container-title"},"Berkontribusi untuk Pengujian Framework",-1),Gn=n("p",null,"Meskipun grammY sudah menyediakan sarana yang diperlukan untuk membuat pengujian, tetapi akan sangat membantu jika kita memiliki framework pengujian tersendiri untuk berbagai bot. Ini adalah wilayah baru, framework pengujian secara masal seperti itu belum pernah ada. Kami menantikan kontribusimu!",-1),Ln=e("Salah satu contoh bagaimana pengujian dilakukan "),Rn={href:"https://github.com/PavelPolyakov/grammy-with-tests",target:"_blank",rel:"noopener noreferrer"},Cn=e("bisa ditemukan di sini"),Dn=e(".");function Kn(Sn,Yn){const d=i("AutotagPage"),a=i("RouterLink"),s=i("ExternalLinkIcon");return r(),u("div",null,[h,t(d,{config:'[{"url":["/plugins"],"exclude":["console-time","middlewares","autoquote","guide","session","keyboard","/"],"tag":[{"template":"official","text":"OFFICIAL","desc":"This plugin is published and maintained by grammY","locale":{"es":{"text":"OFICIAL","desc":"Este plugin es publicado y mantenido por grammY"},"id":{"text":"RESMI","desc":"Plugin ini dipublikasi dan dikelola oleh grammY"},"zh":{"text":"\u5B98\u65B9\u7EF4\u62A4","desc":"\u8FD9\u4E2A\u63D2\u4EF6\u662F\u7531grammY\u53D1\u5E03\u548C\u7EF4\u62A4\u7684"}}}]},{"url":["/plugins"],"include":["console-time","middlewares","autoquote"],"tag":[{"template":"thirdparty","text":"THIRD-PARTY","desc":"This plugin is maintained by third-party","locale":{"es":{"text":"DE TERCEROS","desc":"Este plugin es mantenido por terceros"},"id":{"text":"PIHAK KETIGA","desc":"Plugin ini dikelola oleh pihak ketiga"},"zh":{"text":"\u7B2C\u4E09\u65B9","desc":"\u8FD9\u4E2A\u63D2\u4EF6\u662F\u7531\u7B2C\u4E09\u65B9\u7EF4\u62A4\u7684"}}}]},{"url":["/hosting"],"exclude":["gcf","comparison"],"tag":[{"template":"deno","desc":"This setup is able to run Deno bots","locale":{"es":{"desc":"Esta configuraci\xF3n es capaz de ejecutar bots Deno"},"id":{"desc":"Konfigurasi ini dapat dijalankan di bot Deno"},"zh":{"desc":"\u8FD9\u4E2A\u8BBE\u7F6E\u80FD\u591F\u8FD0\u884CDeno\u673A\u5668\u4EBA"}}}]},{"url":["/hosting"],"include":["heroku","vps"],"tag":[{"template":"nodejs","desc":"This setup is able to run Node.js bots","locale":{"es":{"desc":"Esta configuraci\xF3n es capaz de ejecutar bots Node.js"},"id":{"desc":"Konfigurasi ini dapat dijalankan di bot Node.js"},"zh":{"desc":"\u8FD9\u4E2A\u8BBE\u7F6E\u80FD\u591F\u8FD0\u884CNode.js\u673A\u5668\u4EBA"}}}]}]'}),c,m,g,n("ol",null,[n("li",null,[t(a,{to:"/id/guide/errors.html"},{default:o(()=>[k,p,b,f,y]),_:1})]),w]),x,n("ol",null,[n("li",null,[j,P,v,I,E,T,A,t(a,{to:"/id/advanced/transformers.html#penggunaan-function-transformer"},{default:o(()=>[q,z,B]),_:1}),G]),n("li",null,[L,R,C,D,K,t(a,{to:"/id/plugins/keyboard.html#merespon-ketika-tombol-ditekan"},{default:o(()=>[S]),_:1}),Y]),n("li",null,[N,t(a,{to:"/id/plugins/transformer-throttler.html"},{default:o(()=>[H,U]),_:1}),F]),n("li",null,[M,O,t(a,{to:"/id/plugins/auto-retry.html"},{default:o(()=>[J,V]),_:1}),W,Q,X])]),Z,$,ee,n("ol",null,[n("li",null,[t(a,{to:"/id/plugins/runner.html"},{default:o(()=>[ne]),_:1}),te]),n("li",null,[t(a,{to:"/id/advanced/scaling.html#concurrency-itu-sulit"},{default:o(()=>[ae,oe,se,ie,de,le,re,ue,_e]),_:1}),he]),n("li",null,[ce,me,ge,n("a",ke,[pe,t(s)]),be,n("a",fe,[ye,t(s)]),we,n("a",xe,[je,t(s)]),Pe]),n("li",null,[ve,t(a,{to:"/id/advanced/reliability.html#graceful-shutdown"},{default:o(()=>[Ie]),_:1}),Ee])]),Te,n("ol",null,[n("li",null,[Ae,t(a,{to:"/id/guide/deployment-types.html#mengakhiri-request-webhook-tepat-waktu"},{default:o(()=>[qe]),_:1}),ze,Be,Ge]),n("li",null,[Le,Re,Ce,n("a",De,[Ke,t(s)]),Se]),n("li",null,[Ye,Ne,He,t(a,{to:"/id/advanced/scaling.html#concurrency-itu-sulit"},{default:o(()=>[Ue,Fe,Me,Oe,Je,Ve,We,Qe,Xe]),_:1}),Ze]),n("li",null,[$e,n("a",en,[nn,t(s)]),tn,an,on]),n("li",null,[sn,t(a,{to:"/id/guide/deployment-types.html#webhook-reply"},{default:o(()=>[dn]),_:1}),ln])]),rn,n("ol",null,[n("li",null,[un,_n,hn,t(a,{to:"/id/plugins/session.html#lazy-session"},{default:o(()=>[cn]),_:1}),mn]),gn]),kn,pn,n("ol",null,[n("li",null,[bn,fn,t(a,{to:"/id/advanced/transformers.html"},{default:o(()=>[yn]),_:1}),wn]),n("li",null,[xn,jn,Pn,n("a",vn,[In,t(s)]),En,n("a",Tn,[An,t(s)]),qn])]),n("div",zn,[Bn,Gn,n("p",null,[Ln,n("a",Rn,[Cn,t(s)]),Dn])])])}const Hn=l(_,[["render",Kn],["__file","deployment.html.vue"]]);export{Hn as default};
