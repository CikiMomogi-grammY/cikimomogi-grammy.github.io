import{_ as l,a as u,b as d,c as r,d as k,e as m}from"./keyboard-example-3.7d7d06ab.js";import{_ as b,r as c,o as h,c as v,b as s,a,w as p,d as n,e}from"./app.9a621f1c.js";const g={},y=a("h1",{id:"inline-y-custom-keyboards-incorporados",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#inline-y-custom-keyboards-incorporados","aria-hidden":"true"},"#"),n(" Inline y Custom Keyboards (incorporados)")],-1),q=e('<p>Tu bot puede enviar una serie de botones, ya sea para ser <a href="#inline-keyboards">mostrados debajo de un mensaje</a>, o para <a href="#custom-keyboards">reemplazar el teclado del usuario</a>. Se denominan <em>inline keyboards</em> y <em>custom keyboards</em>, respectivamente. Si crees que esto es confuso, es porque lo es. Gracias, Telegram, por este solapamiento terminol\xF3gico.</p><p>Vamos a intentar aclararlo un poco:</p><table><thead><tr><th>T\xE9rmino</th><th>Definici\xF3n</th></tr></thead><tbody><tr><td><a href="#inline-keyboards"><strong>Inline Keyboard</strong></a></td><td>un conjunto de botones que se muestra debajo de un mensaje dentro del chat.</td></tr><tr><td><a href="#custom-keyboards"><strong>Custom Keyboard</strong></a></td><td>un conjunto de botones que se muestra en lugar del teclado del sistema del usuario.</td></tr><tr><td><strong>Inline Keyboard button</strong></td><td>un bot\xF3n en un inline keyboard, env\xEDa una consulta de devoluci\xF3n de llamada no visible para el usuario cuando se pulsa, a veces s\xF3lo se llama <em>inline button</em>.</td></tr><tr><td><strong>Custom Keyboard button</strong></td><td>un bot\xF3n en un keyboard, env\xEDa un mensaje de texto con su etiqueta cuando se pulsa, a veces s\xF3lo se llama <em>keyboard button</em>.</td></tr><tr><td><strong><code>Inline<wbr>Keyboard</code></strong></td><td>clase de grammY para crear inline keyboards.</td></tr><tr><td><strong><code>Keyboard</code></strong></td><td>clase de grammY para crear custom keyboards.</td></tr></tbody></table><blockquote><p>Tenga en cuenta que tanto los botones de teclado personalizados como los botones de teclado en l\xEDnea tambi\xE9n pueden tener otras funciones, como solicitar la ubicaci\xF3n del usuario, abrir un sitio web, etc. Esto se ha omitido por razones de brevedad.</p></blockquote><p>No es posible especificar tanto un teclado personalizado como un teclado en l\xEDnea en el mismo mensaje. Ambos son mutuamente excluyentes. Adem\xE1s, el tipo de marcado de respuesta enviado no puede cambiarse posteriormente editando el mensaje. Por ejemplo, no es posible enviar primero un teclado personalizado junto con un mensaje, y luego editar el mensaje para utilizar un teclado en l\xEDnea.</p><h1 id="inline-keyboards" tabindex="-1"><a class="header-anchor" href="#inline-keyboards" aria-hidden="true">#</a> Inline Keyboards</h1>',6),f=n("Revisa la secci\xF3n del teclado en l\xEDnea en la "),_={href:"https://core.telegram.org/bots#inline-keyboards-and-on-the-fly-updating",target:"_blank",rel:"noopener noreferrer"},x=n("Introducci\xF3n para Desarrolladores"),w=n(" escrita por el equipo de Telegram."),j=a("p",null,[n("grammY tiene una forma sencilla e intuitiva de construir los teclados en l\xEDnea que tu bot puede enviar junto con un mensaje. Proporciona una clase llamada "),a("code",null,[n("Inline"),a("wbr"),n("Keyboard")]),n(" para esto.")],-1),E=n("Tanto los botones "),K=a("code",null,[n("switch"),a("wbr"),n("Inline")],-1),I=n(" como "),T=a("code",null,[n("switch"),a("wbr"),n("Inline"),a("wbr"),n("Current")],-1),z=n(" inician consultas en l\xEDnea. Consulta la secci\xF3n sobre "),C=n("Inline Queries"),R=n(" para m\xE1s informaci\xF3n sobre su funcionamiento."),P=a("h3",{id:"construyendo-un-inline-keyboard",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#construyendo-un-inline-keyboard","aria-hidden":"true"},"#"),n(" Construyendo un Inline Keyboard")],-1),N=a("p",null,[n("Aqu\xED hay tres ejemplos de c\xF3mo construir un teclado en l\xEDnea con botones de "),a("code",null,"texto"),n(".")],-1),A=n("Tambi\xE9n puedes usar otros m\xE9todos como "),S=a("code",null,"url",-1),Y=n(" para permitir que los clientes de Telegram abran una URL, y muchas m\xE1s opciones como se listan en la "),D={href:"https://doc.deno.land/https://deno.land/x/grammy/mod.ts/~/InlineKeyboard#Methods",target:"_blank",rel:"noopener noreferrer"},L=n("Referencia de la API de grammY"),M=n(" as\xED como en la "),Q={href:"https://core.telegram.org/bots/api#inlinekeyboardbutton",target:"_blank",rel:"noopener noreferrer"},B=n("Referencia de la API de Telegram Bot"),F=n(" para "),H=a("code",null,[n("Inline"),a("wbr"),n("Keyboard")],-1),O=n("."),U=e(`<h4 id="ejemplo-1" tabindex="-1"><a class="header-anchor" href="#ejemplo-1" aria-hidden="true">#</a> Ejemplo 1</h4><p>Los botones para una navegaci\xF3n de paginaci\xF3n se pueden construir as\xED:</p><h5 id="codigo" tabindex="-1"><a class="header-anchor" href="#codigo" aria-hidden="true">#</a> C\xF3digo</h5><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> inlineKeyboard <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InlineKeyboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;\xAB 1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;first&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;\u2039 3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;prev&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;\xB7 4 \xB7&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;stay&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;5 \u203A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;next&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;31 \xBB&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;last&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="resultado" tabindex="-1"><a class="header-anchor" href="#resultado" aria-hidden="true">#</a> Resultado</h5><p><img src="`+l+`" alt="Ejemplo 1"></p><h4 id="ejemplo-2" tabindex="-1"><a class="header-anchor" href="#ejemplo-2" aria-hidden="true">#</a> Ejemplo 2</h4><p>Un teclado en l\xEDnea con bot\xF3n de compartir puede ser construido as\xED:</p><h5 id="codigo-1" tabindex="-1"><a class="header-anchor" href="#codigo-1" aria-hidden="true">#</a> C\xF3digo</h5><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> inlineKeyboard <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InlineKeyboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;Get random music&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;random&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">switchInline</span><span class="token punctuation">(</span><span class="token string">&quot;Send music to friends&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="resultado-1" tabindex="-1"><a class="header-anchor" href="#resultado-1" aria-hidden="true">#</a> Resultado</h5><p><img src="`+u+`" alt="Ejemplo 2"></p><h4 id="ejemplo-3" tabindex="-1"><a class="header-anchor" href="#ejemplo-3" aria-hidden="true">#</a> Ejemplo 3</h4><p>Los botones de la URL se pueden construir as\xED:</p><h5 id="codigo-2" tabindex="-1"><a class="header-anchor" href="#codigo-2" aria-hidden="true">#</a> C\xF3digo</h5><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> inlineKeyboard <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InlineKeyboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span>
  <span class="token string">&quot;Read on TechCrunch&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;https://techcrunch.com/2016/04/11/this-is-the-htc-10/&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="resultado-2" tabindex="-1"><a class="header-anchor" href="#resultado-2" aria-hidden="true">#</a> Resultado</h5><p><img src="`+d+`" alt="Ejemplo 3"></p><h3 id="envio-de-un-inline-keyboard" tabindex="-1"><a class="header-anchor" href="#envio-de-un-inline-keyboard" aria-hidden="true">#</a> Env\xEDo de un Inline Keyboard</h3><p>Puedes enviar un teclado en l\xEDnea directamente a lo largo de un mensaje, sin importar si usas <code>bot<wbr>.api<wbr>.send<wbr>Message</code>, <code>ctx<wbr>.api<wbr>.send<wbr>Message</code>, o <code>ctx<wbr>.reply</code>:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// Enviar teclado en l\xEDnea con el mensaje.</span>
<span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  reply_markup<span class="token operator">:</span> inlineKeyboard<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,21),V=n("Naturalmente, todos los dem\xE1s m\xE9todos que env\xEDan mensajes que no sean de texto soportan las mismas opciones, como se especifica en la "),G={href:"https://core.telegram.org/bots/api",target:"_blank",rel:"noopener noreferrer"},J=n("Referencia de la API de Telegram Bot"),W=e(". Por ejemplo, puedes editar un teclado llamando a <code>edit<wbr>Message<wbr>Reply<wbr>Markup</code>, y pasando la nueva instancia de <code>Inline<wbr>Keyboard</code> como <code>reply<wbr>_markup</code>. Especifique un teclado en l\xEDnea vac\xEDo para eliminar todos los botones debajo de un mensaje.",7),X=a("h3",{id:"respondiendo-a-los-clics",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#respondiendo-a-los-clics","aria-hidden":"true"},"#"),n(" Respondiendo a los clics")],-1),Z={class:"custom-container tip"},$=a("p",{class:"custom-container-title"},"Menu Plugin",-1),nn=n("El plugin de teclado te da acceso directo a los objetos de actualizaci\xF3n que env\xEDa Telegram. Sin embargo, responder a los clics de esta manera puede ser tedioso. Si buscas una implementaci\xF3n de m\xE1s alto nivel de los teclados en l\xEDnea, echa un vistazo a el "),an=n("plugin de men\xFAs"),sn=n(". Hace que sea sencillo crear men\xFAs interactivos."),en=e(`<p>Cada bot\xF3n de <code>texto</code> tiene adjuntada una cadena como dato de callback. Si no se adjuntan datos de devoluci\xF3n de llamada, grammY utilizar\xE1 el texto del bot\xF3n como datos.</p><p>Una vez que un usuario hace clic en un bot\xF3n de <code>texto</code>, tu bot recibir\xE1 una actualizaci\xF3n que contiene los datos de callback del bot\xF3n correspondiente. Puedes escuchar los datos del callback a trav\xE9s de <code>bot<wbr>.callback<wbr>Query()</code>.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// Construye un teclado.</span>
<span class="token keyword">const</span> inlineKeyboard <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InlineKeyboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;click-payload&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Env\xEDa un teclado junto con un mensaje.</span>
bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">&quot;\xBFTienes curiosidad? Haz clic en m\xED.&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    reply_markup<span class="token operator">:</span> inlineKeyboard<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Esperar eventos de clic con datos de devoluci\xF3n de llamada espec\xEDficos.</span>
bot<span class="token punctuation">.</span><span class="token function">callbackQuery</span><span class="token punctuation">(</span><span class="token string">&quot;click-payload&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">answerCallbackQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    text<span class="token operator">:</span> <span class="token string">&quot;\xA1Eres curioso, en efecto!&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Responder a todas las consultas de devoluci\xF3n de llamada</p><p><code>bot<wbr>.callback<wbr>Query()</code> es \xFAtil para escuchar los eventos de clic de botones espec\xEDficos. Puedes usar <code>bot<wbr>.on(&quot;callback<wbr>_query:<wbr>data&quot;)</code> para escuchar los eventos de cualquier bot\xF3n.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>bot<span class="token punctuation">.</span><span class="token function">callbackQuery</span><span class="token punctuation">(</span><span class="token string">&quot;click-payload&quot;</span> <span class="token comment">/* , ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;callback_query:data&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    <span class="token string">&quot;Evento de bot\xF3n desconocido con payload&quot;</span><span class="token punctuation">,</span>
    ctx<span class="token punctuation">.</span>callbackQuery<span class="token punctuation">.</span>data<span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">answerCallbackQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// eliminar la animaci\xF3n de carga</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Tiene sentido definir <code>bot<wbr>.on(&quot;callback<wbr>_query:<wbr>data&quot;)</code> al final para responder siempre a todas las dem\xE1s consultas de devoluci\xF3n de llamada que sus oyentes anteriores no manejaron. De lo contrario, algunos clientes pueden mostrar una animaci\xF3n de carga durante un minuto cuando un usuario pulsa un bot\xF3n al que tu bot no quiere reaccionar.</p></div><h2 id="custom-keyboards" tabindex="-1"><a class="header-anchor" href="#custom-keyboards" aria-hidden="true">#</a> Custom Keyboards</h2><p>Lo primero es lo primero: los teclados a veces se llaman simplemente keyboards, a veces se llaman reply keyboards, e incluso la propia documentaci\xF3n de Telegram no es consistente a este respecto. Como simple regla general, cuando no es absolutamente obvio por el contexto y no se llama inline keyboard, probablemente es un custom keyboard. Esto se refiere a una forma de reemplazar el teclado del sistema por un conjunto de botones que puedes definir.</p>`,6),tn=n("Revisa la secci\xF3n de teclados en la "),on={href:"https://core.telegram.org/bots#keyboards",target:"_blank",rel:"noopener noreferrer"},cn=n("Introducci\xF3n para Desarrolladores"),pn=n(" escrita por el equipo de Telegram."),ln=e(`<p>grammY tiene una manera simple e intuitiva de construir los teclados de respuesta que tu bot puede usar para reemplazar el teclado del usuario. Proporciona una clase llamada <code>Keyboard</code> para esto.</p><p>Una vez que el usuario hace clic en un bot\xF3n de <code>texto</code>, tu bot recibir\xE1 el texto enviado como un mensaje de texto plano. Recuerda que puedes escuchar los mensajes de texto a trav\xE9s de <code>bot<wbr>.on(&quot;message:<wbr>text&quot;)</code>.</p><h3 id="construyendo-un-custom-keyboard" tabindex="-1"><a class="header-anchor" href="#construyendo-un-custom-keyboard" aria-hidden="true">#</a> Construyendo un Custom Keyboard</h3><p>Aqu\xED hay tres ejemplos de c\xF3mo construir un teclado con botones de <code>texto</code>.</p><p>Tambi\xE9n puedes solicitar el n\xFAmero de tel\xE9fono con <code>request<wbr>Contact</code>, la ubicaci\xF3n con <code>request<wbr>Location</code>, y un sondeo con <code>request<wbr>Poll</code>.</p><h4 id="ejemplo-1-1" tabindex="-1"><a class="header-anchor" href="#ejemplo-1-1" aria-hidden="true">#</a> Ejemplo 1</h4><p>Tres botones en una columna pueden ser construidos as\xED:</p><h5 id="codigo-3" tabindex="-1"><a class="header-anchor" href="#codigo-3" aria-hidden="true">#</a> C\xF3digo</h5><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> keyboard <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Keyboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;Yes, they certainly are&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;I&#39;m not quite sure&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;No. \u{1F608}&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">resized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="resultado-3" tabindex="-1"><a class="header-anchor" href="#resultado-3" aria-hidden="true">#</a> Resultado</h5><p><img src="`+r+`" alt="Ejemplo 1"></p><h4 id="ejemplo-2-1" tabindex="-1"><a class="header-anchor" href="#ejemplo-2-1" aria-hidden="true">#</a> Ejemplo 2</h4><p>Un teclado de calculadora se puede construir as\xED:</p><h5 id="codigo-4" tabindex="-1"><a class="header-anchor" href="#codigo-4" aria-hidden="true">#</a> C\xF3digo</h5><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> keyboard <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Keyboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;7&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;9&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="resultado-4" tabindex="-1"><a class="header-anchor" href="#resultado-4" aria-hidden="true">#</a> Resultado</h5><p><img src="`+k+`" alt="Ejemplo 2"></p><h4 id="ejemplo-3-1" tabindex="-1"><a class="header-anchor" href="#ejemplo-3-1" aria-hidden="true">#</a> Ejemplo 3</h4><p>Cuatro botones en una cuadr\xEDcula pueden ser construidos as\xED:</p><h5 id="codigo-5" tabindex="-1"><a class="header-anchor" href="#codigo-5" aria-hidden="true">#</a> C\xF3digo</h5><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> keyboard <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Keyboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;D&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="resultado-5" tabindex="-1"><a class="header-anchor" href="#resultado-5" aria-hidden="true">#</a> Resultado</h5><p><img src="`+m+`" alt="Ejemplo 3"></p><h3 id="envio-de-un-custom-keyboard" tabindex="-1"><a class="header-anchor" href="#envio-de-un-custom-keyboard" aria-hidden="true">#</a> Env\xEDo de un Custom Keyboard</h3><p>Puedes enviar un teclado directamente a lo largo de un mensaje, sin importar si usas <code>bot<wbr>.api<wbr>.send<wbr>Message</code>, <code>ctx<wbr>.api<wbr>.send<wbr>Message</code>, o <code>ctx<wbr>.reply</code>:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// Env\xEDa el teclado con el mensaje.</span>
<span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  reply_markup<span class="token operator">:</span> keyboard<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,26),un=n("Naturalmente, todos los dem\xE1s m\xE9todos que env\xEDan mensajes que no sean de texto soportan las mismas opciones, tal y como se especifica en la "),dn={href:"https://core.telegram.org/bots/api",target:"_blank",rel:"noopener noreferrer"},rn=n("Referencia de la API de Telegram Bot"),kn=n("."),mn=e(`<p>Tambi\xE9n puede dar a su teclado una o m\xE1s propiedades adicionales llamando a m\xE9todos especiales sobre \xE9l. Estos no a\xF1adir\xE1n ning\xFAn bot\xF3n, sino que definir\xE1n el comportamiento del teclado.</p><h4 id="cambiar-el-tamano-del-custom-keyboard" tabindex="-1"><a class="header-anchor" href="#cambiar-el-tamano-del-custom-keyboard" aria-hidden="true">#</a> Cambiar el tama\xF1o del Custom Keyboard</h4><p>Puedes llamar a <code>resized</code> si quieres que el teclado personalizado se redimensione en funci\xF3n de los botones que contiene. Esto har\xE1 que el teclado sea m\xE1s peque\xF1o. (Normalmente, el teclado siempre tendr\xE1 el tama\xF1o del teclado est\xE1ndar de la aplicaci\xF3n).</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">new</span> <span class="token class-name">Keyboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;Si&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;No&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">resized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>No importa si llama a <code>resized</code> primero, \xFAltimo o en alg\xFAn punto intermedio. El resultado ser\xE1 siempre el mismo.</p><h4 id="custom-keyboard-de-un-solo-uso" tabindex="-1"><a class="header-anchor" href="#custom-keyboard-de-un-solo-uso" aria-hidden="true">#</a> Custom Keyboard de un solo uso</h4><p>Puede llamar a <code>one<wbr>Time</code> si quiere que el teclado personalizado se oculte inmediatamente despu\xE9s de que se pulse el primer bot\xF3n.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">new</span> <span class="token class-name">Keyboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;Si&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;No&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">oneTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>No importa si se llama a <code>one<wbr>Time</code> primero, \xFAltimo o en alg\xFAn punto intermedio. El resultado ser\xE1 siempre el mismo.</p><h4 id="marcador-de-posicion-del-campo-de-entrada" tabindex="-1"><a class="header-anchor" href="#marcador-de-posicion-del-campo-de-entrada" aria-hidden="true">#</a> Marcador de posici\xF3n del campo de entrada</h4><p>Puede llamar a <code>placeholder</code> si quiere que se muestre un marcador de posici\xF3n en el campo de entrada mientras el teclado personalizado est\xE9 visible.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">new</span> <span class="token class-name">Keyboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;Si&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;No&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">placeholder</span><span class="token punctuation">(</span><span class="token string">&quot;\xA1Decide ahora!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>No importa si se llama a <code>placeholder</code> primero, \xFAltimo o en alg\xFAn punto intermedio. El resultado ser\xE1 siempre el mismo.</p><h4 id="enviar-selectivamente-un-custom-keyboard" tabindex="-1"><a class="header-anchor" href="#enviar-selectivamente-un-custom-keyboard" aria-hidden="true">#</a> Enviar selectivamente un Custom Keyboard</h4>`,14),bn=n("Puedes llamar a "),hn=a("code",null,"selected",-1),vn=n(" si quieres mostrar el teclado personalizado s\xF3lo a aquellos usuarios que sean @mencionados en el texto del objeto mensaje, y al remitente del mensaje original en caso de que tu mensaje sea una "),gn=n("respuesta"),yn=n("."),qn=e(`<div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">new</span> <span class="token class-name">Keyboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;Si&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">&quot;No&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">selected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>No importa si llama a <code>selected</code> primero, \xFAltimo o en alg\xFAn punto intermedio. El resultado ser\xE1 siempre el mismo.</p><h3 id="respondiendo-a-los-clics-1" tabindex="-1"><a class="header-anchor" href="#respondiendo-a-los-clics-1" aria-hidden="true">#</a> Respondiendo a los clics</h3><p>Como se mencion\xF3 anteriormente, todo lo que hacen los custom keyboards es enviar mensajes de texto normales. Tu bot no puede diferenciar entre los mensajes de texto ordinarios, y los mensajes de texto que fueron enviados al hacer clic en un bot\xF3n.</p><p>Adem\xE1s, los botones siempre enviar\xE1n exactamente el mensaje que est\xE1 escrito en ellos. Telegram no te permite crear botones que muestren un texto, pero que env\xEDen otro. Si necesitas hacer esto, deber\xEDas usar un <a href="#inline-keyboards">inline<wbr>-keyboards</a> en su lugar.</p><p>Para manejar el clic de un bot\xF3n espec\xEDfico, puedes usar <code>bot<wbr>.hears</code> con el mismo texto que pusiste en el bot\xF3n. Si quieres manejar todos los clics de los botones a la vez, utiliza <code>bot<wbr>.on(&quot;message:<wbr>text&quot;)</code> e inspecciona <code>ctx<wbr>.msg<wbr>.text</code> para averiguar qu\xE9 bot\xF3n se ha pulsado, o si se ha enviado un mensaje de texto ordinario.</p><h3 id="eliminacion-de-un-custom-keyboard" tabindex="-1"><a class="header-anchor" href="#eliminacion-de-un-custom-keyboard" aria-hidden="true">#</a> Eliminaci\xF3n de un Custom Keyboard</h3><p>A menos que especifique <code>one<wbr>_time<wbr>_keyboard</code> como se describe <a href="#custom-keyboard-de-un-solo-uso">arriba</a>, el teclado personalizado permanecer\xE1 abierto para el usuario (pero el usuario puede minimizarlo).</p><p>S\xF3lo puedes eliminar un teclado personalizado cuando env\xEDas un nuevo mensaje en el chat, al igual que s\xF3lo puedes especificar un nuevo teclado al enviar un mensaje.</p><p>Pasar <code>{ remove<wbr>_keyboard:<wbr> true }</code> como <code>reply<wbr>_markup</code> as\xED:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  reply_markup<span class="token operator">:</span> <span class="token punctuation">{</span> remove_keyboard<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Junto a <code>remove<wbr>_keyboard</code>, puede establecer <code>selective:<wbr> true</code> para eliminar el teclado personalizado s\xF3lo para los usuarios seleccionados.</p><p>Esto funciona de forma an\xE1loga a <a href="#enviar-selectivamente-un-custom-keyboard">enviar selectivamente un custom keyboard</a>.</p><h2 id="resumen-del-plugin" tabindex="-1"><a class="header-anchor" href="#resumen-del-plugin" aria-hidden="true">#</a> Resumen del plugin</h2><p>Este plugin est\xE1 incorporado en el n\xFAcleo de grammY. No necesitas instalar nada para usarlo. Simplemente importa todo desde el propio grammY.</p><p>Adem\xE1s, tanto la documentaci\xF3n como la referencia de la API de este plugin est\xE1n unificadas con el paquete del n\xFAcleo.</p>`,16);function fn(_n,xn){const i=c("AutotagPage"),t=c("ExternalLinkIcon"),o=c("RouterLink");return h(),v("div",null,[y,s(i,{config:'[{"url":["/plugins"],"exclude":["console-time","middlewares","autoquote","guide","session","keyboard","/"],"tag":[{"template":"official","text":"OFFICIAL","desc":"This plugin is published and maintained by grammY","locale":{"es":{"text":"OFICIAL","desc":"Este plugin es publicado y mantenido por grammY"},"id":{"text":"RESMI","desc":"Plugin ini dipublikasi dan dikelola oleh grammY"},"zh":{"text":"\u5B98\u65B9\u7EF4\u62A4","desc":"\u8FD9\u4E2A\u63D2\u4EF6\u662F\u7531grammY\u53D1\u5E03\u548C\u7EF4\u62A4\u7684"}}}]},{"url":["/plugins"],"include":["console-time","middlewares","autoquote"],"tag":[{"template":"thirdparty","text":"THIRD-PARTY","desc":"This plugin is maintained by third-party","locale":{"es":{"text":"DE TERCEROS","desc":"Este plugin es mantenido por terceros"},"id":{"text":"PIHAK KETIGA","desc":"Plugin ini dikelola oleh pihak ketiga"},"zh":{"text":"\u7B2C\u4E09\u65B9","desc":"\u8FD9\u4E2A\u63D2\u4EF6\u662F\u7531\u7B2C\u4E09\u65B9\u7EF4\u62A4\u7684"}}}]},{"url":["/hosting"],"exclude":["gcf","comparison"],"tag":[{"template":"deno","desc":"This setup is able to run Deno bots","locale":{"es":{"desc":"Esta configuraci\xF3n es capaz de ejecutar bots Deno"},"id":{"desc":"Konfigurasi ini dapat dijalankan di bot Deno"},"zh":{"desc":"\u8FD9\u4E2A\u8BBE\u7F6E\u80FD\u591F\u8FD0\u884CDeno\u673A\u5668\u4EBA"}}}]},{"url":["/hosting"],"include":["heroku","vps"],"tag":[{"template":"nodejs","desc":"This setup is able to run Node.js bots","locale":{"es":{"desc":"Esta configuraci\xF3n es capaz de ejecutar bots Node.js"},"id":{"desc":"Konfigurasi ini dapat dijalankan di bot Node.js"},"zh":{"desc":"\u8FD9\u4E2A\u8BBE\u7F6E\u80FD\u591F\u8FD0\u884CNode.js\u673A\u5668\u4EBA"}}}]}]'}),q,s(i,{config:'[{"url":["/plugins"],"exclude":["console-time","middlewares","autoquote","guide","session","keyboard","/"],"tag":[{"template":"official","text":"OFFICIAL","desc":"This plugin is published and maintained by grammY","locale":{"es":{"text":"OFICIAL","desc":"Este plugin es publicado y mantenido por grammY"},"id":{"text":"RESMI","desc":"Plugin ini dipublikasi dan dikelola oleh grammY"},"zh":{"text":"\u5B98\u65B9\u7EF4\u62A4","desc":"\u8FD9\u4E2A\u63D2\u4EF6\u662F\u7531grammY\u53D1\u5E03\u548C\u7EF4\u62A4\u7684"}}}]},{"url":["/plugins"],"include":["console-time","middlewares","autoquote"],"tag":[{"template":"thirdparty","text":"THIRD-PARTY","desc":"This plugin is maintained by third-party","locale":{"es":{"text":"DE TERCEROS","desc":"Este plugin es mantenido por terceros"},"id":{"text":"PIHAK KETIGA","desc":"Plugin ini dikelola oleh pihak ketiga"},"zh":{"text":"\u7B2C\u4E09\u65B9","desc":"\u8FD9\u4E2A\u63D2\u4EF6\u662F\u7531\u7B2C\u4E09\u65B9\u7EF4\u62A4\u7684"}}}]},{"url":["/hosting"],"exclude":["gcf","comparison"],"tag":[{"template":"deno","desc":"This setup is able to run Deno bots","locale":{"es":{"desc":"Esta configuraci\xF3n es capaz de ejecutar bots Deno"},"id":{"desc":"Konfigurasi ini dapat dijalankan di bot Deno"},"zh":{"desc":"\u8FD9\u4E2A\u8BBE\u7F6E\u80FD\u591F\u8FD0\u884CDeno\u673A\u5668\u4EBA"}}}]},{"url":["/hosting"],"include":["heroku","vps"],"tag":[{"template":"nodejs","desc":"This setup is able to run Node.js bots","locale":{"es":{"desc":"Esta configuraci\xF3n es capaz de ejecutar bots Node.js"},"id":{"desc":"Konfigurasi ini dapat dijalankan di bot Node.js"},"zh":{"desc":"\u8FD9\u4E2A\u8BBE\u7F6E\u80FD\u591F\u8FD0\u884CNode.js\u673A\u5668\u4EBA"}}}]}]'}),a("blockquote",null,[a("p",null,[f,a("a",_,[x,s(t)]),w])]),j,a("blockquote",null,[a("p",null,[E,K,I,T,z,s(o,{to:"/es/guide/inline-queries.html"},{default:p(()=>[C]),_:1}),R])]),P,N,a("p",null,[A,S,Y,a("a",D,[L,s(t)]),M,a("a",Q,[B,s(t)]),F,H,O]),U,a("p",null,[V,a("a",G,[J,s(t)]),W]),X,a("div",Z,[$,a("p",null,[nn,s(o,{to:"/es/plugins/menu.html"},{default:p(()=>[an]),_:1}),sn])]),en,a("blockquote",null,[a("p",null,[tn,a("a",on,[cn,s(t)]),pn])]),ln,a("p",null,[un,a("a",dn,[rn,s(t)]),kn]),mn,a("p",null,[bn,hn,vn,s(o,{to:"/es/guide/basics.html#enviando-mensajes-con-respuesta"},{default:p(()=>[gn]),_:1}),yn]),qn])}const En=b(g,[["render",fn],["__file","keyboard.html.vue"]]);export{En as default};
