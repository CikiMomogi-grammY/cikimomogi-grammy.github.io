<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>国际化 (i18n) | grammY</title><meta name="description" content="Telegram Bot 框架">
    <link rel="modulepreload" href="/main/assets/app.2f873437.js"><link rel="modulepreload" href="/main/assets/i18n.html.2fe7b7a7.js"><link rel="modulepreload" href="/main/assets/i18n.html.dd40c4cc.js"><link rel="prefetch" href="/main/assets/index.html.0429b483.js"><link rel="prefetch" href="/main/assets/index.html.fb39b504.js"><link rel="prefetch" href="/main/assets/examples.html.4b7b6125.js"><link rel="prefetch" href="/main/assets/index.html.172886ab.js"><link rel="prefetch" href="/main/assets/api.html.d34afc0f.js"><link rel="prefetch" href="/main/assets/basics.html.65923044.js"><link rel="prefetch" href="/main/assets/commands.html.c2610c77.js"><link rel="prefetch" href="/main/assets/context.html.d7289dc7.js"><link rel="prefetch" href="/main/assets/deployment-types.html.346b4d4f.js"><link rel="prefetch" href="/main/assets/errors.html.d567f2e9.js"><link rel="prefetch" href="/main/assets/files.html.5df1fdf3.js"><link rel="prefetch" href="/main/assets/filter-queries.html.ff3c15e1.js"><link rel="prefetch" href="/main/assets/games.html.ebb92d65.js"><link rel="prefetch" href="/main/assets/getting-started.html.3aad9f5a.js"><link rel="prefetch" href="/main/assets/inline-queries.html.9fa5435e.js"><link rel="prefetch" href="/main/assets/introduction.html.d062e0ed.js"><link rel="prefetch" href="/main/assets/middleware.html.c32c1afb.js"><link rel="prefetch" href="/main/assets/index.html.2401d292.js"><link rel="prefetch" href="/main/assets/deployment.html.820945fa.js"><link rel="prefetch" href="/main/assets/flood.html.064205fe.js"><link rel="prefetch" href="/main/assets/middleware.html.992dcb0e.js"><link rel="prefetch" href="/main/assets/proxy.html.c404e72a.js"><link rel="prefetch" href="/main/assets/reliability.html.5a572dfa.js"><link rel="prefetch" href="/main/assets/scaling.html.fe634161.js"><link rel="prefetch" href="/main/assets/structuring.html.1e8ebd48.js"><link rel="prefetch" href="/main/assets/transformers.html.3e1cae77.js"><link rel="prefetch" href="/main/assets/index.html.e45b3ea7.js"><link rel="prefetch" href="/main/assets/comparison.html.864b515f.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.f68bc233.js"><link rel="prefetch" href="/main/assets/gcf.html.94978e12.js"><link rel="prefetch" href="/main/assets/heroku.html.c66e9d56.js"><link rel="prefetch" href="/main/assets/supabase.html.da73eb5d.js"><link rel="prefetch" href="/main/assets/vps.html.8c98b206.js"><link rel="prefetch" href="/main/assets/about.html.e9ce3575.js"><link rel="prefetch" href="/main/assets/comparison.html.5589e0a7.js"><link rel="prefetch" href="/main/assets/faq.html.4a46d2bc.js"><link rel="prefetch" href="/main/assets/index.html.cc711d93.js"><link rel="prefetch" href="/main/assets/auto-retry.html.dcc5774e.js"><link rel="prefetch" href="/main/assets/autoquote.html.6b2ec3fa.js"><link rel="prefetch" href="/main/assets/command-filter.html.12deb6e8.js"><link rel="prefetch" href="/main/assets/console-time.html.71373d0a.js"><link rel="prefetch" href="/main/assets/conversations.html.3fa37598.js"><link rel="prefetch" href="/main/assets/emoji.html.3004d918.js"><link rel="prefetch" href="/main/assets/files.html.2d391f38.js"><link rel="prefetch" href="/main/assets/fluent.html.a46983be.js"><link rel="prefetch" href="/main/assets/guide.html.4a675f4a.js"><link rel="prefetch" href="/main/assets/hydrate.html.f749cccd.js"><link rel="prefetch" href="/main/assets/i18n.html.8e382739.js"><link rel="prefetch" href="/main/assets/keyboard.html.5d3ef392.js"><link rel="prefetch" href="/main/assets/menu.html.1c9951dc.js"><link rel="prefetch" href="/main/assets/middlewares.html.9f97e6d3.js"><link rel="prefetch" href="/main/assets/parse-mode.html.7e162a71.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.92d0808d.js"><link rel="prefetch" href="/main/assets/router.html.b46a9b17.js"><link rel="prefetch" href="/main/assets/runner.html.0d4fc86e.js"><link rel="prefetch" href="/main/assets/session.html.a3ebd553.js"><link rel="prefetch" href="/main/assets/stateless-question.html.673f33c3.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.0118bbb0.js"><link rel="prefetch" href="/main/assets/index.html.0ea21131.js"><link rel="prefetch" href="/main/assets/deployment.html.947cfd03.js"><link rel="prefetch" href="/main/assets/flood.html.adb704f3.js"><link rel="prefetch" href="/main/assets/middleware.html.62700685.js"><link rel="prefetch" href="/main/assets/proxy.html.d9e32858.js"><link rel="prefetch" href="/main/assets/reliability.html.214116d2.js"><link rel="prefetch" href="/main/assets/scaling.html.17ebd1a5.js"><link rel="prefetch" href="/main/assets/structuring.html.b2cc831f.js"><link rel="prefetch" href="/main/assets/transformers.html.0d715264.js"><link rel="prefetch" href="/main/assets/index.html.8d516f91.js"><link rel="prefetch" href="/main/assets/index.html.564f39e8.js"><link rel="prefetch" href="/main/assets/index.html.b68e7c4e.js"><link rel="prefetch" href="/main/assets/api.html.864221a5.js"><link rel="prefetch" href="/main/assets/basics.html.d83b67aa.js"><link rel="prefetch" href="/main/assets/commands.html.0c654628.js"><link rel="prefetch" href="/main/assets/context.html.684cfc10.js"><link rel="prefetch" href="/main/assets/deployment-types.html.66bb2eb6.js"><link rel="prefetch" href="/main/assets/errors.html.3bd197a1.js"><link rel="prefetch" href="/main/assets/files.html.b3f5719d.js"><link rel="prefetch" href="/main/assets/filter-queries.html.2fc848b9.js"><link rel="prefetch" href="/main/assets/games.html.ed2eeb11.js"><link rel="prefetch" href="/main/assets/getting-started.html.bee7700c.js"><link rel="prefetch" href="/main/assets/inline-queries.html.3dd234a2.js"><link rel="prefetch" href="/main/assets/introduction.html.2c38a111.js"><link rel="prefetch" href="/main/assets/middleware.html.956472a4.js"><link rel="prefetch" href="/main/assets/index.html.655275db.js"><link rel="prefetch" href="/main/assets/examples.html.4da510e2.js"><link rel="prefetch" href="/main/assets/index.html.45898178.js"><link rel="prefetch" href="/main/assets/deployment.html.75afc00d.js"><link rel="prefetch" href="/main/assets/flood.html.71e88b3b.js"><link rel="prefetch" href="/main/assets/middleware.html.afa5db3b.js"><link rel="prefetch" href="/main/assets/proxy.html.b70254e4.js"><link rel="prefetch" href="/main/assets/reliability.html.2858f460.js"><link rel="prefetch" href="/main/assets/scaling.html.ae951df2.js"><link rel="prefetch" href="/main/assets/structuring.html.d2ff17dd.js"><link rel="prefetch" href="/main/assets/transformers.html.6f5b57b6.js"><link rel="prefetch" href="/main/assets/index.html.74522b16.js"><link rel="prefetch" href="/main/assets/examples.html.24e682eb.js"><link rel="prefetch" href="/main/assets/index.html.d277051d.js"><link rel="prefetch" href="/main/assets/auto-retry.html.1f23e8f1.js"><link rel="prefetch" href="/main/assets/autoquote.html.42fbacdc.js"><link rel="prefetch" href="/main/assets/command-filter.html.24250ac2.js"><link rel="prefetch" href="/main/assets/console-time.html.388fd635.js"><link rel="prefetch" href="/main/assets/conversations.html.348212b4.js"><link rel="prefetch" href="/main/assets/emoji.html.328c7f5d.js"><link rel="prefetch" href="/main/assets/files.html.a0a7b203.js"><link rel="prefetch" href="/main/assets/fluent.html.3f0052df.js"><link rel="prefetch" href="/main/assets/guide.html.cdc01534.js"><link rel="prefetch" href="/main/assets/hydrate.html.e1cdd16f.js"><link rel="prefetch" href="/main/assets/i18n.html.d42b0b26.js"><link rel="prefetch" href="/main/assets/keyboard.html.6c1187da.js"><link rel="prefetch" href="/main/assets/menu.html.6318ffc5.js"><link rel="prefetch" href="/main/assets/middlewares.html.e2a902a1.js"><link rel="prefetch" href="/main/assets/parse-mode.html.cd0be863.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.ff1d0a8b.js"><link rel="prefetch" href="/main/assets/router.html.81629bbc.js"><link rel="prefetch" href="/main/assets/runner.html.afc71826.js"><link rel="prefetch" href="/main/assets/session.html.bc00753b.js"><link rel="prefetch" href="/main/assets/stateless-question.html.832cc882.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.270476d5.js"><link rel="prefetch" href="/main/assets/about.html.6acc59e5.js"><link rel="prefetch" href="/main/assets/comparison.html.19d2b82f.js"><link rel="prefetch" href="/main/assets/faq.html.525026ef.js"><link rel="prefetch" href="/main/assets/comparison.html.62a530ba.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.4bbb93fe.js"><link rel="prefetch" href="/main/assets/gcf.html.dbb08649.js"><link rel="prefetch" href="/main/assets/heroku.html.6b84f4cd.js"><link rel="prefetch" href="/main/assets/supabase.html.9c4eb234.js"><link rel="prefetch" href="/main/assets/vps.html.0d4578fa.js"><link rel="prefetch" href="/main/assets/comparison.html.65d3d0d9.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.58bef10b.js"><link rel="prefetch" href="/main/assets/gcf.html.8a35f9f5.js"><link rel="prefetch" href="/main/assets/heroku.html.19121e3e.js"><link rel="prefetch" href="/main/assets/supabase.html.aa532eae.js"><link rel="prefetch" href="/main/assets/vps.html.d879cd9d.js"><link rel="prefetch" href="/main/assets/index.html.9de295a7.js"><link rel="prefetch" href="/main/assets/api.html.8ed7866f.js"><link rel="prefetch" href="/main/assets/basics.html.7afbeb28.js"><link rel="prefetch" href="/main/assets/commands.html.131d044b.js"><link rel="prefetch" href="/main/assets/context.html.f1f04579.js"><link rel="prefetch" href="/main/assets/deployment-types.html.6efb3c25.js"><link rel="prefetch" href="/main/assets/errors.html.0c95dbb6.js"><link rel="prefetch" href="/main/assets/files.html.c53a8155.js"><link rel="prefetch" href="/main/assets/filter-queries.html.dab2ea34.js"><link rel="prefetch" href="/main/assets/games.html.60a32e8c.js"><link rel="prefetch" href="/main/assets/getting-started.html.7d3308dc.js"><link rel="prefetch" href="/main/assets/inline-queries.html.c644e6f2.js"><link rel="prefetch" href="/main/assets/introduction.html.2b2e7021.js"><link rel="prefetch" href="/main/assets/middleware.html.8e8a095a.js"><link rel="prefetch" href="/main/assets/index.html.c671af3a.js"><link rel="prefetch" href="/main/assets/deployment.html.890ba700.js"><link rel="prefetch" href="/main/assets/flood.html.99fc87f0.js"><link rel="prefetch" href="/main/assets/middleware.html.93e739dc.js"><link rel="prefetch" href="/main/assets/proxy.html.a206407d.js"><link rel="prefetch" href="/main/assets/reliability.html.77f11b74.js"><link rel="prefetch" href="/main/assets/scaling.html.b0186def.js"><link rel="prefetch" href="/main/assets/structuring.html.431bf13f.js"><link rel="prefetch" href="/main/assets/transformers.html.76eb6336.js"><link rel="prefetch" href="/main/assets/index.html.629ca643.js"><link rel="prefetch" href="/main/assets/examples.html.cea54aec.js"><link rel="prefetch" href="/main/assets/index.html.374cf0b5.js"><link rel="prefetch" href="/main/assets/api.html.a789ac69.js"><link rel="prefetch" href="/main/assets/basics.html.a5f54cb2.js"><link rel="prefetch" href="/main/assets/commands.html.f5bc337a.js"><link rel="prefetch" href="/main/assets/context.html.e94c9f2e.js"><link rel="prefetch" href="/main/assets/deployment-types.html.d3d220f8.js"><link rel="prefetch" href="/main/assets/errors.html.cb531b7a.js"><link rel="prefetch" href="/main/assets/files.html.1cbd9c21.js"><link rel="prefetch" href="/main/assets/filter-queries.html.18865e77.js"><link rel="prefetch" href="/main/assets/games.html.019dc6f4.js"><link rel="prefetch" href="/main/assets/getting-started.html.cdb13cc0.js"><link rel="prefetch" href="/main/assets/inline-queries.html.02267dd2.js"><link rel="prefetch" href="/main/assets/introduction.html.e8487eb7.js"><link rel="prefetch" href="/main/assets/middleware.html.beeb4db0.js"><link rel="prefetch" href="/main/assets/about.html.41287b90.js"><link rel="prefetch" href="/main/assets/comparison.html.162bdf02.js"><link rel="prefetch" href="/main/assets/faq.html.abba6af1.js"><link rel="prefetch" href="/main/assets/index.html.f9a366b7.js"><link rel="prefetch" href="/main/assets/auto-retry.html.14c9246a.js"><link rel="prefetch" href="/main/assets/autoquote.html.7631a3c2.js"><link rel="prefetch" href="/main/assets/command-filter.html.d5692cab.js"><link rel="prefetch" href="/main/assets/console-time.html.02bcf31d.js"><link rel="prefetch" href="/main/assets/conversations.html.720733fe.js"><link rel="prefetch" href="/main/assets/emoji.html.80cfa07a.js"><link rel="prefetch" href="/main/assets/files.html.233bac34.js"><link rel="prefetch" href="/main/assets/fluent.html.03a89032.js"><link rel="prefetch" href="/main/assets/guide.html.6086fd79.js"><link rel="prefetch" href="/main/assets/hydrate.html.0306f173.js"><link rel="prefetch" href="/main/assets/keyboard.html.9ccac385.js"><link rel="prefetch" href="/main/assets/menu.html.434bf22c.js"><link rel="prefetch" href="/main/assets/middlewares.html.94c8c1e9.js"><link rel="prefetch" href="/main/assets/parse-mode.html.5072ecbd.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.c72dcd26.js"><link rel="prefetch" href="/main/assets/router.html.98428e85.js"><link rel="prefetch" href="/main/assets/runner.html.7681c085.js"><link rel="prefetch" href="/main/assets/session.html.79028198.js"><link rel="prefetch" href="/main/assets/stateless-question.html.b4c1ec42.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.f05311c2.js"><link rel="prefetch" href="/main/assets/comparison.html.ece5207a.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.abccf389.js"><link rel="prefetch" href="/main/assets/gcf.html.bf1ad988.js"><link rel="prefetch" href="/main/assets/heroku.html.57ef7871.js"><link rel="prefetch" href="/main/assets/supabase.html.d19b224e.js"><link rel="prefetch" href="/main/assets/vps.html.b53fc72a.js"><link rel="prefetch" href="/main/assets/index.html.567ecd8c.js"><link rel="prefetch" href="/main/assets/auto-retry.html.62a31d40.js"><link rel="prefetch" href="/main/assets/autoquote.html.cc9522e4.js"><link rel="prefetch" href="/main/assets/command-filter.html.fa1f4413.js"><link rel="prefetch" href="/main/assets/console-time.html.a5c56dc8.js"><link rel="prefetch" href="/main/assets/conversations.html.c30ab8ca.js"><link rel="prefetch" href="/main/assets/emoji.html.cb014872.js"><link rel="prefetch" href="/main/assets/files.html.d69c6677.js"><link rel="prefetch" href="/main/assets/fluent.html.3604c2fc.js"><link rel="prefetch" href="/main/assets/guide.html.381a5a51.js"><link rel="prefetch" href="/main/assets/hydrate.html.e3b6d0df.js"><link rel="prefetch" href="/main/assets/i18n.html.10283dc9.js"><link rel="prefetch" href="/main/assets/keyboard.html.19037e93.js"><link rel="prefetch" href="/main/assets/menu.html.ea47e487.js"><link rel="prefetch" href="/main/assets/middlewares.html.b0c00aea.js"><link rel="prefetch" href="/main/assets/parse-mode.html.d7623f03.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.1a461d12.js"><link rel="prefetch" href="/main/assets/router.html.f310225d.js"><link rel="prefetch" href="/main/assets/runner.html.43f20cdb.js"><link rel="prefetch" href="/main/assets/session.html.fe8e3213.js"><link rel="prefetch" href="/main/assets/stateless-question.html.eb4a26cc.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.07a40fbf.js"><link rel="prefetch" href="/main/assets/about.html.4abcfa07.js"><link rel="prefetch" href="/main/assets/comparison.html.8ed17bd9.js"><link rel="prefetch" href="/main/assets/faq.html.0dd6c2c4.js"><link rel="prefetch" href="/main/assets/404.html.d2dc3323.js"><link rel="prefetch" href="/main/assets/index.html.03c0a82a.js"><link rel="prefetch" href="/main/assets/index.html.1125e4c6.js"><link rel="prefetch" href="/main/assets/examples.html.b6fee481.js"><link rel="prefetch" href="/main/assets/index.html.b88cd9eb.js"><link rel="prefetch" href="/main/assets/api.html.b0192953.js"><link rel="prefetch" href="/main/assets/basics.html.92643f2a.js"><link rel="prefetch" href="/main/assets/commands.html.23586f95.js"><link rel="prefetch" href="/main/assets/context.html.062b41f3.js"><link rel="prefetch" href="/main/assets/deployment-types.html.dd4a7f49.js"><link rel="prefetch" href="/main/assets/errors.html.2711b58e.js"><link rel="prefetch" href="/main/assets/files.html.709f4192.js"><link rel="prefetch" href="/main/assets/filter-queries.html.63f866ff.js"><link rel="prefetch" href="/main/assets/games.html.d9d3422c.js"><link rel="prefetch" href="/main/assets/getting-started.html.87a2ff42.js"><link rel="prefetch" href="/main/assets/inline-queries.html.0db1c609.js"><link rel="prefetch" href="/main/assets/introduction.html.55c81d48.js"><link rel="prefetch" href="/main/assets/middleware.html.2961fb0a.js"><link rel="prefetch" href="/main/assets/index.html.b796aff1.js"><link rel="prefetch" href="/main/assets/deployment.html.7546da69.js"><link rel="prefetch" href="/main/assets/flood.html.ead13273.js"><link rel="prefetch" href="/main/assets/middleware.html.399fb0ff.js"><link rel="prefetch" href="/main/assets/proxy.html.f2c28922.js"><link rel="prefetch" href="/main/assets/reliability.html.5bd8cb1f.js"><link rel="prefetch" href="/main/assets/scaling.html.2b22e811.js"><link rel="prefetch" href="/main/assets/structuring.html.214d6c5d.js"><link rel="prefetch" href="/main/assets/transformers.html.9e17cb24.js"><link rel="prefetch" href="/main/assets/index.html.80f210b7.js"><link rel="prefetch" href="/main/assets/comparison.html.ed3c97be.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.ce6ea84e.js"><link rel="prefetch" href="/main/assets/gcf.html.ab9c9a71.js"><link rel="prefetch" href="/main/assets/heroku.html.0c6fb991.js"><link rel="prefetch" href="/main/assets/supabase.html.de5043f7.js"><link rel="prefetch" href="/main/assets/vps.html.aefdb07d.js"><link rel="prefetch" href="/main/assets/about.html.5a000375.js"><link rel="prefetch" href="/main/assets/comparison.html.4c19c65f.js"><link rel="prefetch" href="/main/assets/faq.html.2894ccab.js"><link rel="prefetch" href="/main/assets/index.html.59413bab.js"><link rel="prefetch" href="/main/assets/auto-retry.html.ba868155.js"><link rel="prefetch" href="/main/assets/autoquote.html.6d6eb529.js"><link rel="prefetch" href="/main/assets/command-filter.html.c0461b21.js"><link rel="prefetch" href="/main/assets/console-time.html.bac9907e.js"><link rel="prefetch" href="/main/assets/conversations.html.f74dd1e5.js"><link rel="prefetch" href="/main/assets/emoji.html.31d7ad42.js"><link rel="prefetch" href="/main/assets/files.html.9138e683.js"><link rel="prefetch" href="/main/assets/fluent.html.265d53b1.js"><link rel="prefetch" href="/main/assets/guide.html.370d6677.js"><link rel="prefetch" href="/main/assets/hydrate.html.d2a12ec4.js"><link rel="prefetch" href="/main/assets/i18n.html.c2aef176.js"><link rel="prefetch" href="/main/assets/keyboard.html.f26b2fcc.js"><link rel="prefetch" href="/main/assets/menu.html.d01b33b5.js"><link rel="prefetch" href="/main/assets/middlewares.html.96918df8.js"><link rel="prefetch" href="/main/assets/parse-mode.html.1e7d702f.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.aa3fd1a9.js"><link rel="prefetch" href="/main/assets/router.html.f906b884.js"><link rel="prefetch" href="/main/assets/runner.html.cb62191e.js"><link rel="prefetch" href="/main/assets/session.html.5e8fb6e8.js"><link rel="prefetch" href="/main/assets/stateless-question.html.31b372fa.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.c5722a46.js"><link rel="prefetch" href="/main/assets/index.html.e419fd6b.js"><link rel="prefetch" href="/main/assets/deployment.html.ded4fe2d.js"><link rel="prefetch" href="/main/assets/flood.html.fc1485c6.js"><link rel="prefetch" href="/main/assets/middleware.html.819dc297.js"><link rel="prefetch" href="/main/assets/proxy.html.5b019de7.js"><link rel="prefetch" href="/main/assets/reliability.html.6b8bc54a.js"><link rel="prefetch" href="/main/assets/scaling.html.ee2bd285.js"><link rel="prefetch" href="/main/assets/structuring.html.cbfa48d7.js"><link rel="prefetch" href="/main/assets/transformers.html.cb09a111.js"><link rel="prefetch" href="/main/assets/index.html.f1987ef9.js"><link rel="prefetch" href="/main/assets/index.html.c1b535a4.js"><link rel="prefetch" href="/main/assets/index.html.c0ecbdf7.js"><link rel="prefetch" href="/main/assets/api.html.55df4cc8.js"><link rel="prefetch" href="/main/assets/basics.html.5842fe7d.js"><link rel="prefetch" href="/main/assets/commands.html.4dd4b7ae.js"><link rel="prefetch" href="/main/assets/context.html.242a3fda.js"><link rel="prefetch" href="/main/assets/deployment-types.html.e72f31a1.js"><link rel="prefetch" href="/main/assets/errors.html.2053123f.js"><link rel="prefetch" href="/main/assets/files.html.3194b27c.js"><link rel="prefetch" href="/main/assets/filter-queries.html.89018f2a.js"><link rel="prefetch" href="/main/assets/games.html.25d4d61a.js"><link rel="prefetch" href="/main/assets/getting-started.html.1a41dfcd.js"><link rel="prefetch" href="/main/assets/inline-queries.html.800fcf06.js"><link rel="prefetch" href="/main/assets/introduction.html.f896b1db.js"><link rel="prefetch" href="/main/assets/middleware.html.ff2f5bad.js"><link rel="prefetch" href="/main/assets/index.html.da90f36b.js"><link rel="prefetch" href="/main/assets/examples.html.853b10e1.js"><link rel="prefetch" href="/main/assets/index.html.930984ec.js"><link rel="prefetch" href="/main/assets/deployment.html.825693ce.js"><link rel="prefetch" href="/main/assets/flood.html.f8ab277d.js"><link rel="prefetch" href="/main/assets/middleware.html.c6fde8ff.js"><link rel="prefetch" href="/main/assets/proxy.html.619e8165.js"><link rel="prefetch" href="/main/assets/reliability.html.868583e9.js"><link rel="prefetch" href="/main/assets/scaling.html.f625ba20.js"><link rel="prefetch" href="/main/assets/structuring.html.585a2641.js"><link rel="prefetch" href="/main/assets/transformers.html.47dd8baa.js"><link rel="prefetch" href="/main/assets/index.html.f6c5489d.js"><link rel="prefetch" href="/main/assets/examples.html.1b6522a0.js"><link rel="prefetch" href="/main/assets/index.html.75dfbcb5.js"><link rel="prefetch" href="/main/assets/auto-retry.html.53dedbdf.js"><link rel="prefetch" href="/main/assets/autoquote.html.6f885162.js"><link rel="prefetch" href="/main/assets/command-filter.html.222cd9f4.js"><link rel="prefetch" href="/main/assets/console-time.html.2792947a.js"><link rel="prefetch" href="/main/assets/conversations.html.e09d1757.js"><link rel="prefetch" href="/main/assets/emoji.html.4c9ff502.js"><link rel="prefetch" href="/main/assets/files.html.6618722a.js"><link rel="prefetch" href="/main/assets/fluent.html.28f9961f.js"><link rel="prefetch" href="/main/assets/guide.html.79faf446.js"><link rel="prefetch" href="/main/assets/hydrate.html.7d672763.js"><link rel="prefetch" href="/main/assets/i18n.html.9b498806.js"><link rel="prefetch" href="/main/assets/keyboard.html.eb799ab9.js"><link rel="prefetch" href="/main/assets/menu.html.d6d0230f.js"><link rel="prefetch" href="/main/assets/middlewares.html.4499e404.js"><link rel="prefetch" href="/main/assets/parse-mode.html.43b2007f.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.f7e3e226.js"><link rel="prefetch" href="/main/assets/router.html.416b4a6f.js"><link rel="prefetch" href="/main/assets/runner.html.e7e6183c.js"><link rel="prefetch" href="/main/assets/session.html.62c0f147.js"><link rel="prefetch" href="/main/assets/stateless-question.html.5cbe1b4d.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.511e62e6.js"><link rel="prefetch" href="/main/assets/about.html.8ec77b3b.js"><link rel="prefetch" href="/main/assets/comparison.html.96cb7362.js"><link rel="prefetch" href="/main/assets/faq.html.23e00674.js"><link rel="prefetch" href="/main/assets/comparison.html.386eb5d6.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.96e543c2.js"><link rel="prefetch" href="/main/assets/gcf.html.580af024.js"><link rel="prefetch" href="/main/assets/heroku.html.473bc385.js"><link rel="prefetch" href="/main/assets/supabase.html.a68cdfb8.js"><link rel="prefetch" href="/main/assets/vps.html.abd8e508.js"><link rel="prefetch" href="/main/assets/comparison.html.7485f8f0.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.ef8c08b2.js"><link rel="prefetch" href="/main/assets/gcf.html.a8c95329.js"><link rel="prefetch" href="/main/assets/heroku.html.5182c2c6.js"><link rel="prefetch" href="/main/assets/supabase.html.087c3e5e.js"><link rel="prefetch" href="/main/assets/vps.html.6be801f6.js"><link rel="prefetch" href="/main/assets/index.html.ffdf3c7b.js"><link rel="prefetch" href="/main/assets/api.html.69cc17ab.js"><link rel="prefetch" href="/main/assets/basics.html.8d46729c.js"><link rel="prefetch" href="/main/assets/commands.html.93024e09.js"><link rel="prefetch" href="/main/assets/context.html.338c4649.js"><link rel="prefetch" href="/main/assets/deployment-types.html.a8f8c60a.js"><link rel="prefetch" href="/main/assets/errors.html.8a1b1087.js"><link rel="prefetch" href="/main/assets/files.html.0f982b55.js"><link rel="prefetch" href="/main/assets/filter-queries.html.2482e31a.js"><link rel="prefetch" href="/main/assets/games.html.2cca6225.js"><link rel="prefetch" href="/main/assets/getting-started.html.2244e61d.js"><link rel="prefetch" href="/main/assets/inline-queries.html.d6c249f9.js"><link rel="prefetch" href="/main/assets/introduction.html.2f221633.js"><link rel="prefetch" href="/main/assets/middleware.html.c87f976e.js"><link rel="prefetch" href="/main/assets/index.html.340eb910.js"><link rel="prefetch" href="/main/assets/deployment.html.f576ab00.js"><link rel="prefetch" href="/main/assets/flood.html.461704fb.js"><link rel="prefetch" href="/main/assets/middleware.html.978e29fc.js"><link rel="prefetch" href="/main/assets/proxy.html.60d1791c.js"><link rel="prefetch" href="/main/assets/reliability.html.5198a336.js"><link rel="prefetch" href="/main/assets/scaling.html.3fb65272.js"><link rel="prefetch" href="/main/assets/structuring.html.ce2b84cb.js"><link rel="prefetch" href="/main/assets/transformers.html.3b49bf9a.js"><link rel="prefetch" href="/main/assets/index.html.3303196b.js"><link rel="prefetch" href="/main/assets/examples.html.ae06b719.js"><link rel="prefetch" href="/main/assets/index.html.e70d9310.js"><link rel="prefetch" href="/main/assets/api.html.be515827.js"><link rel="prefetch" href="/main/assets/basics.html.c3f1a68a.js"><link rel="prefetch" href="/main/assets/commands.html.b49785b6.js"><link rel="prefetch" href="/main/assets/context.html.e85f7adb.js"><link rel="prefetch" href="/main/assets/deployment-types.html.4bc68a49.js"><link rel="prefetch" href="/main/assets/errors.html.0206fe15.js"><link rel="prefetch" href="/main/assets/files.html.fe0ff429.js"><link rel="prefetch" href="/main/assets/filter-queries.html.b79cefe7.js"><link rel="prefetch" href="/main/assets/games.html.790f74bc.js"><link rel="prefetch" href="/main/assets/getting-started.html.33750226.js"><link rel="prefetch" href="/main/assets/inline-queries.html.41f8237e.js"><link rel="prefetch" href="/main/assets/introduction.html.e17293d2.js"><link rel="prefetch" href="/main/assets/middleware.html.73491839.js"><link rel="prefetch" href="/main/assets/about.html.e36f1b73.js"><link rel="prefetch" href="/main/assets/comparison.html.a2bb3de4.js"><link rel="prefetch" href="/main/assets/faq.html.e558db86.js"><link rel="prefetch" href="/main/assets/index.html.ad48d769.js"><link rel="prefetch" href="/main/assets/auto-retry.html.14d0fe6a.js"><link rel="prefetch" href="/main/assets/autoquote.html.92f82beb.js"><link rel="prefetch" href="/main/assets/command-filter.html.65b78fa6.js"><link rel="prefetch" href="/main/assets/console-time.html.5a749802.js"><link rel="prefetch" href="/main/assets/conversations.html.fbe1dd11.js"><link rel="prefetch" href="/main/assets/emoji.html.21d8cef1.js"><link rel="prefetch" href="/main/assets/files.html.2a36f497.js"><link rel="prefetch" href="/main/assets/fluent.html.aa26104d.js"><link rel="prefetch" href="/main/assets/guide.html.b01ae573.js"><link rel="prefetch" href="/main/assets/hydrate.html.020178d0.js"><link rel="prefetch" href="/main/assets/keyboard.html.e40111c3.js"><link rel="prefetch" href="/main/assets/menu.html.190b8e20.js"><link rel="prefetch" href="/main/assets/middlewares.html.a8a8ed23.js"><link rel="prefetch" href="/main/assets/parse-mode.html.c8861f33.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.eec0f47c.js"><link rel="prefetch" href="/main/assets/router.html.56ac8eed.js"><link rel="prefetch" href="/main/assets/runner.html.eab4afce.js"><link rel="prefetch" href="/main/assets/session.html.fba3dac5.js"><link rel="prefetch" href="/main/assets/stateless-question.html.d7503f02.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.9240415f.js"><link rel="prefetch" href="/main/assets/comparison.html.b430d4d8.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.e84c5445.js"><link rel="prefetch" href="/main/assets/gcf.html.476447b1.js"><link rel="prefetch" href="/main/assets/heroku.html.90a40863.js"><link rel="prefetch" href="/main/assets/supabase.html.df62c7bd.js"><link rel="prefetch" href="/main/assets/vps.html.16181c06.js"><link rel="prefetch" href="/main/assets/index.html.d3b0157e.js"><link rel="prefetch" href="/main/assets/auto-retry.html.f219e85a.js"><link rel="prefetch" href="/main/assets/autoquote.html.88deb958.js"><link rel="prefetch" href="/main/assets/command-filter.html.7cf697f5.js"><link rel="prefetch" href="/main/assets/console-time.html.40d31d22.js"><link rel="prefetch" href="/main/assets/conversations.html.7eec40d4.js"><link rel="prefetch" href="/main/assets/emoji.html.4650f805.js"><link rel="prefetch" href="/main/assets/files.html.36cfbe82.js"><link rel="prefetch" href="/main/assets/fluent.html.2855a59d.js"><link rel="prefetch" href="/main/assets/guide.html.2352c616.js"><link rel="prefetch" href="/main/assets/hydrate.html.278f0627.js"><link rel="prefetch" href="/main/assets/i18n.html.e01278a7.js"><link rel="prefetch" href="/main/assets/keyboard.html.76ded04e.js"><link rel="prefetch" href="/main/assets/menu.html.6fcd48d0.js"><link rel="prefetch" href="/main/assets/middlewares.html.89b819fb.js"><link rel="prefetch" href="/main/assets/parse-mode.html.13a7df81.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.9dbde658.js"><link rel="prefetch" href="/main/assets/router.html.dea27e15.js"><link rel="prefetch" href="/main/assets/runner.html.8fc52056.js"><link rel="prefetch" href="/main/assets/session.html.6f49692c.js"><link rel="prefetch" href="/main/assets/stateless-question.html.29c3a2fe.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.f817d212.js"><link rel="prefetch" href="/main/assets/about.html.dca0cbb5.js"><link rel="prefetch" href="/main/assets/comparison.html.7cc189b6.js"><link rel="prefetch" href="/main/assets/faq.html.06b0e01d.js"><link rel="prefetch" href="/main/assets/404.html.4d9f984a.js">
    <link rel="stylesheet" href="/main/assets/style.39efc01d.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/main/zh/" class=""><img class="logo" src="/main/Y.png" alt="grammY"><span class="site-name can-hide">grammY</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/main/zh/guide/" class="" aria-label="基础"><!--[--><!--]--> 基础 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="了解"><span class="title">了解</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="了解"><span class="title">了解</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>基础</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/" class="" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/introduction.html" class="" aria-label="简介"><!--[--><!--]--> 简介 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/getting-started.html" class="" aria-label="入门"><!--[--><!--]--> 入门 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/basics.html" class="" aria-label="发送和接收消息"><!--[--><!--]--> 发送和接收消息 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/context.html" class="" aria-label="上下文"><!--[--><!--]--> 上下文 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/api.html" class="" aria-label="Bot API"><!--[--><!--]--> Bot API <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/filter-queries.html" class="" aria-label="Filter 查询与 bot.on()"><!--[--><!--]--> Filter 查询与 bot.on() <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/commands.html" class="" aria-label="Commands"><!--[--><!--]--> Commands <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/middleware.html" class="" aria-label="中间件"><!--[--><!--]--> 中间件 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/errors.html" class="" aria-label="错误处理"><!--[--><!--]--> 错误处理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/inline-queries.html" class="" aria-label="Inline Queries"><!--[--><!--]--> Inline Queries <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/files.html" class="" aria-label="文件管理"><!--[--><!--]--> 文件管理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/games.html" class="" aria-label="游戏"><!--[--><!--]--> 游戏 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/deployment-types.html" class="" aria-label="长轮询 vs. Webhooks"><!--[--><!--]--> 长轮询 vs. Webhooks <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>进阶</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/" class="" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/middleware.html" class="" aria-label="重构中间件"><!--[--><!--]--> 重构中间件 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/structuring.html" class="" aria-label="I: 代码组织"><!--[--><!--]--> I: 代码组织 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/scaling.html" class="" aria-label="II: 高负载"><!--[--><!--]--> II: 高负载 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/reliability.html" class="" aria-label="III: 可靠性"><!--[--><!--]--> III: 可靠性 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/flood.html" class="" aria-label="IV: 流量限制"><!--[--><!--]--> IV: 流量限制 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/transformers.html" class="" aria-label="Bot API Transformers"><!--[--><!--]--> Bot API Transformers <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/proxy.html" class="" aria-label="代理支持"><!--[--><!--]--> 代理支持 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/deployment.html" class="" aria-label="部署"><!--[--><!--]--> 部署 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="插件"><span class="title">插件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="插件"><span class="title">插件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>简介</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/" class="" aria-label="关于插件"><!--[--><!--]--> 关于插件 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/guide.html" class="" aria-label="如何编写一个插件"><!--[--><!--]--> 如何编写一个插件 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>内置插件</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/session.html" class="" aria-label="会话与数据储存"><!--[--><!--]--> 会话与数据储存 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/keyboard.html" class="" aria-label="Inline 与自定义 Keyboards"><!--[--><!--]--> Inline 与自定义 Keyboards <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>官方维护</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/conversations.html" class="" aria-label="对话 (conversations)"><!--[--><!--]--> 对话 (conversations) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/menu.html" class="" aria-label="互动菜单 (menu)"><!--[--><!--]--> 互动菜单 (menu) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/stateless-question.html" class="" aria-label="无状态问题 (stateless-question)"><!--[--><!--]--> 无状态问题 (stateless-question) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/runner.html" class="" aria-label="并发 (runner)"><!--[--><!--]--> 并发 (runner) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/hydrate.html" class="" aria-label="Hydration (hydrate)"><!--[--><!--]--> Hydration (hydrate) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/auto-retry.html" class="" aria-label="重试 API 请求 (auto-retry)"><!--[--><!--]--> 重试 API 请求 (auto-retry) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/transformer-throttler.html" class="" aria-label="流量控制 (transformer-throttler)"><!--[--><!--]--> 流量控制 (transformer-throttler) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/ratelimiter.html" class="" aria-label="限制用户速率 (ratelimiter)"><!--[--><!--]--> 限制用户速率 (ratelimiter) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/files.html" class="" aria-label="文件助手 (files)"><!--[--><!--]--> 文件助手 (files) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a aria-current="page" href="/main/zh/plugins/i18n.html" class="router-link-active router-link-exact-active router-link-active" aria-label="国际化 (i18n)"><!--[--><!--]--> 国际化 (i18n) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/fluent.html" class="" aria-label="国际化 (fluent)"><!--[--><!--]--> 国际化 (fluent) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/router.html" class="" aria-label="路由器 (router)"><!--[--><!--]--> 路由器 (router) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/emoji.html" class="" aria-label="Emoji (emoji)"><!--[--><!--]--> Emoji (emoji) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/parse-mode.html" class="" aria-label="解析模式 (parse-mode)"><!--[--><!--]--> 解析模式 (parse-mode) <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>第三方</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/console-time.html" class="" aria-label="调试时输出日志"><!--[--><!--]--> 调试时输出日志 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/middlewares.html" class="" aria-label="有用的中间件"><!--[--><!--]--> 有用的中间件 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/autoquote.html" class="" aria-label="自动引用"><!--[--><!--]--> 自动引用 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/#创建你自己的插件" class="" aria-label="[等待你的 PR!]"><!--[--><!--]--> [等待你的 PR!] <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="示例"><span class="title">示例</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="示例"><span class="title">示例</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>示例</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://github.com/grammyjs/awesome-grammY" rel="noopener noreferrer" target="_blank" aria-label="Awesome grammY"><!--[--><!--]--> Awesome grammY <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://github.com/grammyjs/examples" rel="noopener noreferrer" target="_blank" aria-label="示例 Bots 仓库"><!--[--><!--]--> 示例 Bots 仓库 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="资源"><span class="title">资源</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="资源"><span class="title">资源</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>grammY</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/resources/about.html" class="" aria-label="关于 grammY"><!--[--><!--]--> 关于 grammY <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://t.me/grammyjs" rel="noopener noreferrer" target="_blank" aria-label="社区聊天（英语）"><!--[--><!--]--> 社区聊天（英语） <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://t.me/grammyjs_ru" rel="noopener noreferrer" target="_blank" aria-label="社区聊天（俄语）"><!--[--><!--]--> 社区聊天（俄语） <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://t.me/grammyjs_news" rel="noopener noreferrer" target="_blank" aria-label="咨询"><!--[--><!--]--> 咨询 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://twitter.com/grammy_js" rel="noopener noreferrer" target="_blank" aria-label="Twitter"><!--[--><!--]--> Twitter <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/resources/faq.html" class="" aria-label="FAQ"><!--[--><!--]--> FAQ <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/resources/comparison.html" class="" aria-label="与其他框架的比较"><!--[--><!--]--> 与其他框架的比较 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Telegram</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots" rel="noopener noreferrer" target="_blank" aria-label="面向开发者的介绍"><!--[--><!--]--> 面向开发者的介绍 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots/faq" rel="noopener noreferrer" target="_blank" aria-label="Bots FAQ"><!--[--><!--]--> Bots FAQ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots/api" rel="noopener noreferrer" target="_blank" aria-label="Bot API 概览"><!--[--><!--]--> Bot API 概览 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots/webhooks#testing-your-bot-with-updates" rel="noopener noreferrer" target="_blank" aria-label="Updates 示例"><!--[--><!--]--> Updates 示例 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="托管服务"><span class="title">托管服务</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="托管服务"><span class="title">托管服务</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>总览</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/hosting/comparison.html" class="" aria-label="对比"><!--[--><!--]--> 对比 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>教程</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/hosting/deno-deploy.html" class="" aria-label="Deno Deploy"><!--[--><!--]--> Deno Deploy <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/hosting/supabase.html" class="" aria-label="Supabase Edge Functions"><!--[--><!--]--> Supabase Edge Functions <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/hosting/heroku.html" class="" aria-label="Heroku"><!--[--><!--]--> Heroku <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/hosting/gcf.html" class="" aria-label="Google Cloud Functions"><!--[--><!--]--> Google Cloud Functions <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/hosting/vps.html" class="" aria-label="Virtual Private Server"><!--[--><!--]--> Virtual Private Server <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://doc.deno.land/https://deno.land/x/grammy/mod.ts" rel="noopener noreferrer" target="_blank" aria-label="API 参考"><!--[--><!--]--> API 参考 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">语言</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/main/plugins/i18n.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/main/es/plugins/i18n.html" class="" aria-label="Español"><!--[--><!--]--> Español <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/main/id/plugins/i18n.html" class="" aria-label="Indonesia"><!--[--><!--]--> Indonesia <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/main/zh/plugins/i18n.html" class="router-link-active router-link-exact-active router-link-active" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/grammyjs/grammY" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/main/zh/guide/" class="" aria-label="基础"><!--[--><!--]--> 基础 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="了解"><span class="title">了解</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="了解"><span class="title">了解</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>基础</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/" class="" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/introduction.html" class="" aria-label="简介"><!--[--><!--]--> 简介 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/getting-started.html" class="" aria-label="入门"><!--[--><!--]--> 入门 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/basics.html" class="" aria-label="发送和接收消息"><!--[--><!--]--> 发送和接收消息 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/context.html" class="" aria-label="上下文"><!--[--><!--]--> 上下文 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/api.html" class="" aria-label="Bot API"><!--[--><!--]--> Bot API <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/filter-queries.html" class="" aria-label="Filter 查询与 bot.on()"><!--[--><!--]--> Filter 查询与 bot.on() <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/commands.html" class="" aria-label="Commands"><!--[--><!--]--> Commands <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/middleware.html" class="" aria-label="中间件"><!--[--><!--]--> 中间件 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/errors.html" class="" aria-label="错误处理"><!--[--><!--]--> 错误处理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/inline-queries.html" class="" aria-label="Inline Queries"><!--[--><!--]--> Inline Queries <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/files.html" class="" aria-label="文件管理"><!--[--><!--]--> 文件管理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/games.html" class="" aria-label="游戏"><!--[--><!--]--> 游戏 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/guide/deployment-types.html" class="" aria-label="长轮询 vs. Webhooks"><!--[--><!--]--> 长轮询 vs. Webhooks <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>进阶</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/" class="" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/middleware.html" class="" aria-label="重构中间件"><!--[--><!--]--> 重构中间件 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/structuring.html" class="" aria-label="I: 代码组织"><!--[--><!--]--> I: 代码组织 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/scaling.html" class="" aria-label="II: 高负载"><!--[--><!--]--> II: 高负载 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/reliability.html" class="" aria-label="III: 可靠性"><!--[--><!--]--> III: 可靠性 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/flood.html" class="" aria-label="IV: 流量限制"><!--[--><!--]--> IV: 流量限制 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/transformers.html" class="" aria-label="Bot API Transformers"><!--[--><!--]--> Bot API Transformers <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/proxy.html" class="" aria-label="代理支持"><!--[--><!--]--> 代理支持 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/advanced/deployment.html" class="" aria-label="部署"><!--[--><!--]--> 部署 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="插件"><span class="title">插件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="插件"><span class="title">插件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>简介</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/" class="" aria-label="关于插件"><!--[--><!--]--> 关于插件 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/guide.html" class="" aria-label="如何编写一个插件"><!--[--><!--]--> 如何编写一个插件 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>内置插件</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/session.html" class="" aria-label="会话与数据储存"><!--[--><!--]--> 会话与数据储存 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/keyboard.html" class="" aria-label="Inline 与自定义 Keyboards"><!--[--><!--]--> Inline 与自定义 Keyboards <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>官方维护</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/conversations.html" class="" aria-label="对话 (conversations)"><!--[--><!--]--> 对话 (conversations) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/menu.html" class="" aria-label="互动菜单 (menu)"><!--[--><!--]--> 互动菜单 (menu) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/stateless-question.html" class="" aria-label="无状态问题 (stateless-question)"><!--[--><!--]--> 无状态问题 (stateless-question) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/runner.html" class="" aria-label="并发 (runner)"><!--[--><!--]--> 并发 (runner) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/hydrate.html" class="" aria-label="Hydration (hydrate)"><!--[--><!--]--> Hydration (hydrate) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/auto-retry.html" class="" aria-label="重试 API 请求 (auto-retry)"><!--[--><!--]--> 重试 API 请求 (auto-retry) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/transformer-throttler.html" class="" aria-label="流量控制 (transformer-throttler)"><!--[--><!--]--> 流量控制 (transformer-throttler) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/ratelimiter.html" class="" aria-label="限制用户速率 (ratelimiter)"><!--[--><!--]--> 限制用户速率 (ratelimiter) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/files.html" class="" aria-label="文件助手 (files)"><!--[--><!--]--> 文件助手 (files) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a aria-current="page" href="/main/zh/plugins/i18n.html" class="router-link-active router-link-exact-active router-link-active" aria-label="国际化 (i18n)"><!--[--><!--]--> 国际化 (i18n) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/fluent.html" class="" aria-label="国际化 (fluent)"><!--[--><!--]--> 国际化 (fluent) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/router.html" class="" aria-label="路由器 (router)"><!--[--><!--]--> 路由器 (router) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/emoji.html" class="" aria-label="Emoji (emoji)"><!--[--><!--]--> Emoji (emoji) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/parse-mode.html" class="" aria-label="解析模式 (parse-mode)"><!--[--><!--]--> 解析模式 (parse-mode) <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>第三方</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/console-time.html" class="" aria-label="调试时输出日志"><!--[--><!--]--> 调试时输出日志 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/middlewares.html" class="" aria-label="有用的中间件"><!--[--><!--]--> 有用的中间件 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/autoquote.html" class="" aria-label="自动引用"><!--[--><!--]--> 自动引用 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/plugins/#创建你自己的插件" class="" aria-label="[等待你的 PR!]"><!--[--><!--]--> [等待你的 PR!] <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="示例"><span class="title">示例</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="示例"><span class="title">示例</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>示例</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://github.com/grammyjs/awesome-grammY" rel="noopener noreferrer" target="_blank" aria-label="Awesome grammY"><!--[--><!--]--> Awesome grammY <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://github.com/grammyjs/examples" rel="noopener noreferrer" target="_blank" aria-label="示例 Bots 仓库"><!--[--><!--]--> 示例 Bots 仓库 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="资源"><span class="title">资源</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="资源"><span class="title">资源</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>grammY</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/resources/about.html" class="" aria-label="关于 grammY"><!--[--><!--]--> 关于 grammY <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://t.me/grammyjs" rel="noopener noreferrer" target="_blank" aria-label="社区聊天（英语）"><!--[--><!--]--> 社区聊天（英语） <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://t.me/grammyjs_ru" rel="noopener noreferrer" target="_blank" aria-label="社区聊天（俄语）"><!--[--><!--]--> 社区聊天（俄语） <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://t.me/grammyjs_news" rel="noopener noreferrer" target="_blank" aria-label="咨询"><!--[--><!--]--> 咨询 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://twitter.com/grammy_js" rel="noopener noreferrer" target="_blank" aria-label="Twitter"><!--[--><!--]--> Twitter <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/resources/faq.html" class="" aria-label="FAQ"><!--[--><!--]--> FAQ <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/resources/comparison.html" class="" aria-label="与其他框架的比较"><!--[--><!--]--> 与其他框架的比较 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Telegram</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots" rel="noopener noreferrer" target="_blank" aria-label="面向开发者的介绍"><!--[--><!--]--> 面向开发者的介绍 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots/faq" rel="noopener noreferrer" target="_blank" aria-label="Bots FAQ"><!--[--><!--]--> Bots FAQ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots/api" rel="noopener noreferrer" target="_blank" aria-label="Bot API 概览"><!--[--><!--]--> Bot API 概览 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots/webhooks#testing-your-bot-with-updates" rel="noopener noreferrer" target="_blank" aria-label="Updates 示例"><!--[--><!--]--> Updates 示例 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="托管服务"><span class="title">托管服务</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="托管服务"><span class="title">托管服务</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>总览</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/hosting/comparison.html" class="" aria-label="对比"><!--[--><!--]--> 对比 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>教程</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/zh/hosting/deno-deploy.html" class="" aria-label="Deno Deploy"><!--[--><!--]--> Deno Deploy <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/hosting/supabase.html" class="" aria-label="Supabase Edge Functions"><!--[--><!--]--> Supabase Edge Functions <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/hosting/heroku.html" class="" aria-label="Heroku"><!--[--><!--]--> Heroku <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/hosting/gcf.html" class="" aria-label="Google Cloud Functions"><!--[--><!--]--> Google Cloud Functions <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/zh/hosting/vps.html" class="" aria-label="Virtual Private Server"><!--[--><!--]--> Virtual Private Server <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://doc.deno.land/https://deno.land/x/grammy/mod.ts" rel="noopener noreferrer" target="_blank" aria-label="API 参考"><!--[--><!--]--> API 参考 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">语言</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/main/plugins/i18n.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/main/es/plugins/i18n.html" class="" aria-label="Español"><!--[--><!--]--> Español <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/main/id/plugins/i18n.html" class="" aria-label="Indonesia"><!--[--><!--]--> Indonesia <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/main/zh/plugins/i18n.html" class="router-link-active router-link-exact-active router-link-active" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/grammyjs/grammY" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">国际化 (i18n) <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/main/zh/plugins/i18n.html#国际化的解释" class="router-link-active router-link-exact-active sidebar-item" aria-label="国际化的解释"><!--[--><!--]--> 国际化的解释 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/main/zh/plugins/i18n.html#什么是本地化" class="router-link-active router-link-exact-active sidebar-item" aria-label="什么是本地化？"><!--[--><!--]--> 什么是本地化？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/zh/plugins/i18n.html#什么是国际化" class="router-link-active router-link-exact-active sidebar-item" aria-label="什么是国际化？"><!--[--><!--]--> 什么是国际化？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/zh/plugins/i18n.html#你为什么需要这个插件" class="router-link-active router-link-exact-active sidebar-item" aria-label="你为什么需要这个插件？"><!--[--><!--]--> 你为什么需要这个插件？ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/main/zh/plugins/i18n.html#现在开始" class="router-link-active router-link-exact-active sidebar-item" aria-label="现在开始"><!--[--><!--]--> 现在开始 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/zh/plugins/i18n.html#使用方式" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用方式"><!--[--><!--]--> 使用方式 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/main/zh/plugins/i18n.html#不使用会话" class="router-link-active router-link-exact-active sidebar-item" aria-label="不使用会话"><!--[--><!--]--> 不使用会话 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/zh/plugins/i18n.html#使用会话" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用会话"><!--[--><!--]--> 使用会话 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/main/zh/plugins/i18n.html#自定义地区协商" class="router-link-active router-link-exact-active sidebar-item" aria-label="自定义地区协商"><!--[--><!--]--> 自定义地区协商 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/zh/plugins/i18n.html#渲染翻译后的消息" class="router-link-active router-link-exact-active sidebar-item" aria-label="渲染翻译后的消息"><!--[--><!--]--> 渲染翻译后的消息 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/main/zh/plugins/i18n.html#占位符" class="router-link-active router-link-exact-active sidebar-item" aria-label="占位符"><!--[--><!--]--> 占位符 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/zh/plugins/i18n.html#全局占位符" class="router-link-active router-link-exact-active sidebar-item" aria-label="全局占位符"><!--[--><!--]--> 全局占位符 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/main/zh/plugins/i18n.html#添加翻译" class="router-link-active router-link-exact-active sidebar-item" aria-label="添加翻译"><!--[--><!--]--> 添加翻译 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/main/zh/plugins/i18n.html#使用-directory-选项加载翻译" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用 directory 选项加载翻译"><!--[--><!--]--> 使用 directory 选项加载翻译 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/zh/plugins/i18n.html#从目录中加载翻译" class="router-link-active router-link-exact-active sidebar-item" aria-label="从目录中加载翻译"><!--[--><!--]--> 从目录中加载翻译 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/zh/plugins/i18n.html#加载单一翻译文件" class="router-link-active router-link-exact-active sidebar-item" aria-label="加载单一翻译文件"><!--[--><!--]--> 加载单一翻译文件 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/main/zh/plugins/i18n.html#监听本地化文本" class="router-link-active router-link-exact-active sidebar-item" aria-label="监听本地化文本"><!--[--><!--]--> 监听本地化文本 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/zh/plugins/i18n.html#更进一步" class="router-link-active router-link-exact-active sidebar-item" aria-label="更进一步"><!--[--><!--]--> 更进一步 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/zh/plugins/i18n.html#插件概述" class="router-link-active router-link-exact-active sidebar-item" aria-label="插件概述"><!--[--><!--]--> 插件概述 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="国际化-i18n" tabindex="-1"><a class="header-anchor" href="#国际化-i18n" aria-hidden="true">#</a> 国际化 (<code>i18n</code>)</h1><p>这个国际化插件可以让你的 bot 使用多种不同的语言。</p><div class="custom-container tip"><p class="custom-container-title">不要困惑</p><p>不要将它与 <a href="/main/zh/plugins/fluent.html" class="">fluent</a> 混淆。</p><p>这个插件是 <a href="/main/zh/plugins/fluent.html" class="">fluent</a> 的改进版，它可以在 Deno 和 Node.js 上使用。</p></div><h2 id="国际化的解释" tabindex="-1"><a class="header-anchor" href="#国际化的解释" aria-hidden="true">#</a> 国际化的解释</h2><blockquote><p>本节解释了什么是国际化，为什么需要它，它有什么复杂之处，它和本地化有什么关系，以及你为什么需要一个插件来做这些事情。 如果你已经知道这些事情，请直接滚动到 <a href="#%E7%8E%B0%E5%9C%A8%E5%BC%80%E5%A7%8B">现在开始</a>。</p></blockquote><p>首先，国际化（internationalization）是一个非常长的单词。 因此，人们喜欢写首字母（i）和末字母（n）。 然后他们再计算所有剩余的字母（nternationalizatio，18个字母），并将这个数字放在 i 和 n 之间，所以他们最后会写成 <em>i18n</em>。 不要问为什么。 所以，i18n 就是一个国际化（internationalization）的奇怪缩写。</p><p>本地化（localization）也是一样的情况，我们用 <em>l10n</em> 来称呼它。</p><h3 id="什么是本地化" tabindex="-1"><a class="header-anchor" href="#什么是本地化" aria-hidden="true">#</a> 什么是本地化？</h3><p>本地化意味着创建一个能说多种语言的 bot。 它应该根据用户使用的语言自动调整语言。</p><p>除了语言之外，还有很多其他需要本地化的东西。 你也需要考虑文化和标准差异，比如日期和时间格式。 下面是一些例子，这些东西在全球范围内有不同的表示方式：</p><ol><li>日期</li><li>时间</li><li>数字</li><li>单位</li><li>复数</li><li>性别</li><li>分隔符</li><li>大小写</li><li>对齐</li><li>符号和图标</li><li>排序</li></ol><p>… 以及 <a href="https://youtu.be/0j74jcxSunY" target="_blank" rel="noopener noreferrer">更多<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p>所有这些东西共同定义了用户的 <em>地区</em>。 每个 <em>地区</em> 通常会有一个两个字母的代码，例如 <code>en</code> 表示英语，<code>de</code> 表示德语，以此类推。 如果你想找到你所在地区的代码，请查看 <a href="https://en.wikipedia.org/wiki/IETF_language_tag#List_of_common_primary_language_subtags" target="_blank" rel="noopener noreferrer">这个列表<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><h3 id="什么是国际化" tabindex="-1"><a class="header-anchor" href="#什么是国际化" aria-hidden="true">#</a> 什么是国际化？</h3><p>简而言之，国际化意味着编写可以根据用户的所在地区进行调整的代码。 换句话说，国际化是实现本地化的方式（见<a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%9C%AC%E5%9C%B0%E5%8C%96">上面</a>）。 这意味着，虽然你的 bot 对每个人来说，它的工作逻辑基本上是相同的，但它发送的具体消息会根据用户的语言不同而不同，所以它可以说不同的语言。</p><p>如果你不是对你的 bot 发送的文本在代码中进行硬编码，而是从文件中动态地进行读取，那么你就是在做国际化。 如果你不对日期和时间进行硬编码，而是使用一个库，根据不同地标准来调整这些值，那么你就是在做国际化。 所以你应该能理解这个意思了：不要硬编码那些应该根据用户所在地区或语言来变化的东西。</p><h3 id="你为什么需要这个插件" tabindex="-1"><a class="header-anchor" href="#你为什么需要这个插件" aria-hidden="true">#</a> 你为什么需要这个插件？</h3><p>这个插件可以在国际化的过程中帮助你。 它基于 [Fluent](https://projectfluent.org/）——一个由 <a href="https://mozilla.org/" target="_blank" rel="noopener noreferrer">Mozilla<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 开发的本地化系统。 这个系统有一个非常强大的和优雅的语法，可以让你以高效的方式写出自然的翻译。</p><p>从本质上讲，你可以把这些应该根据用户所在地区或语言来变化的东西提取到一些文本文件中，并将这些文件放在和代码相同的目录中。 然后使用这个插件来加载这些本地化的内容。 这个插件会自动确定用户的地区，并让你的 bot 选择正确的语言来说话。</p><p>下面，我们将这些文本文件称为 <em>翻译文件</em>。 它们需要遵循 Fluent 的语法。</p><h2 id="现在开始" tabindex="-1"><a class="header-anchor" href="#现在开始" aria-hidden="true">#</a> 现在开始</h2><blockquote><p>本节描述了设置项目结构和放置翻译文件的位置。 如果你熟悉这些，<a href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F">跳到这里</a>，看看如何安装和使用插件。</p></blockquote><p>这里有 <a href="#%E6%B7%BB%E5%8A%A0%E7%BF%BB%E8%AF%91">很多种方法</a> 来为你的 bot 添加更多的语言。 最佳但的方法是为你的 Fluent 翻译文件创建一个文件夹。 通常情况下，这个文件夹的名字为 <code>locales<wbr>/</code>。 翻译文件的扩展名为 <code>.ftl</code>（fluent）。</p><p>以下是一个项目结构的例子：</p><div class="language-asciiart ext-asciiart"><pre class="language-asciiart"><code>.
├── bot.ts
└── locales/
    ├── de.ftl
    ├── en.ftl
    ├── it.ftl
    └── ru.ftl
</code></pre></div><p>如果你不熟悉 Fluent 的语法，你可以阅读他们的指南：<a href="https://projectfluent.org/fluent/guide" target="_blank" rel="noopener noreferrer">https://<wbr>projectfluent<wbr>.org<wbr>/fluent<wbr>/guide<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>这是一个英语的示例翻译文件，名为 <code>locales<wbr>/en<wbr>.ftl</code>：</p><div class="language-fluent ext-fluent line-numbers-mode"><pre class="language-fluent"><code>start = Hi, how can I /help you?
help =
    Send me some text, and I can make it bold for you.
    You can change my language using the /language command.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>德语的等效翻译文件名为 <code>locales<wbr>/de<wbr>.ftl</code>，并且看起来像这样：</p><div class="language-fluent ext-fluent line-numbers-mode"><pre class="language-fluent"><code>start = Hallo, wie kann ich dir helfen? /help
help =
    Schick eine Textnachricht, die ich für dich fett schreiben soll.
    Du kannst mit dem Befehl /language die Spache ändern.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在你的 bot 中，你可以通过插件使用这些翻译。 它们将可以通过 <code>ctx<wbr>.t</code> 访问：</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;help&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;help&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>每当你调用 <code>ctx<wbr>.t</code>，它将使用当前上下文对象 <code>ctx</code> 的语言来查找正确的翻译。 我们是通过一个 <em>地区协商者（locale negotiator）</em> 来查找正确的翻译。 在最简单的情况下，它只是返回 <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>。</p><p>因此，不同地区的用户将能够看到他们各自语言的消息。</p><h2 id="使用方式" tabindex="-1"><a class="header-anchor" href="#使用方式" aria-hidden="true">#</a> 使用方式</h2><p>这个插件从许多不同的因素中推导出用户所在的地区。 其中一个因素是来着 <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>，这将由用户的客户端提供。</p><p>然而，还有很多东西可以确定用户的地区。 例如，你可以将用户的地区保存在你的 <a href="/main/zh/plugins/session.html" class="">会话</a> 中。 因此，有两种方法可以使用这个插件：<a href="#%E4%BD%BF%E7%94%A8%E4%BC%9A%E8%AF%9D">使用会话</a> 和 <a href="#%E4%B8%8D%E4%BD%BF%E7%94%A8%E4%BC%9A%E8%AF%9D">不使用会话</a>.</p><h3 id="不使用会话" tabindex="-1"><a class="header-anchor" href="#不使用会话" aria-hidden="true">#</a> 不使用会话</h3><p>不使用会话可以更简单的使用和配置这个插件。 但它主要的缺点是，你不能存储用户选择的语言。</p><p>像上面提到的，用户使用的地区将由 <code>ctx<wbr>.from<wbr>.language<wbr>_code</code> 来决定，这是来自用户的客户端的。 但如果你没有这种语言的翻译，就会将使用默认语言。 有时候你的 bot 可能看不到用户的客户端提供的首选语言，在这种情况下，也会使用默认语言。</p><p><strong>仅当用户以前和你的 bot 进行过私人对话，<code>ctx<wbr>.from<wbr>.language<wbr>_code</code> 才会可见</strong></p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">TypeScript</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">JavaScript</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">Deno</button></li></ul></div><!--[--><div class="code-group-item code-group-item__active" aria-selected="true"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Bot<span class="token punctuation">,</span> Context <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;grammy&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> I18n<span class="token punctuation">,</span> I18nFlavor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@grammyjs/i18n&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 对于 TypeScript 和自动补全支持，</span>
<span class="token comment">// 用 I18n 的调味剂扩展上下文：</span>
<span class="token keyword">type</span> <span class="token class-name">MyContext</span> <span class="token operator">=</span> Context <span class="token operator">&amp;</span> I18nFlavor<span class="token punctuation">;</span>

<span class="token comment">// 像平常一样创建一个 bot。</span>
<span class="token comment">// 请记得扩展上下文。</span>
<span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bot<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- 把你的 bot 令牌放在这里 (https://t.me/BotFather)</span>

<span class="token comment">// 创建一个 `I18n` 实例。</span>
<span class="token comment">// 继续阅读以了解如何配置实例。</span>
<span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  defaultLocale<span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 更多信息请见下文</span>
  directory<span class="token operator">:</span> <span class="token string">&quot;locales&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 从 locales/ 加载所有翻译文件</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 最后，将 i18n 实例注册到 bot 中，</span>
<span class="token comment">// 这样消息就能被翻译了！</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>i18n<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 所有设置都已经完成了。</span>
<span class="token comment">// 你可以使用 `t` 或 `translate` 来访问翻译。</span>
bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;start-msg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Bot <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;grammy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> I18n <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@grammyjs/i18n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 像平常一样创建一个 bot。</span>
<span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bot</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- 把你的 bot 令牌放在这里 (https://t.me/BotFather)</span>

<span class="token comment">// 创建一个 `I18n` 实例。</span>
<span class="token comment">// 继续阅读以了解如何配置实例。</span>
<span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">defaultLocale</span><span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 更多信息请见下文</span>
  <span class="token literal-property property">directory</span><span class="token operator">:</span> <span class="token string">&quot;locales&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 从 locales/ 加载所有翻译文件</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 最后，将 i18n 实例注册到 bot 中，</span>
<span class="token comment">// 这样消息就能被翻译了！</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>i18n<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 所有设置都已经完成了。</span>
<span class="token comment">// 你可以使用 `t` 或 `translate` 来访问翻译。</span>
bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">ctx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;start-msg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Bot<span class="token punctuation">,</span> Context <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;https://deno.land/x/grammy@v1.11.1/mod.ts&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> I18n<span class="token punctuation">,</span> I18nFlavor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;https://deno.land/x/grammy_i18n@v1.0.1/mod.ts&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 对于 TypeScript 和自动补全支持，</span>
<span class="token comment">// 用 I18n 的调味剂扩展上下文：</span>
<span class="token keyword">type</span> <span class="token class-name">MyContext</span> <span class="token operator">=</span> Context <span class="token operator">&amp;</span> I18nFlavor<span class="token punctuation">;</span>

<span class="token comment">// 像平常一样创建一个 bot。</span>
<span class="token comment">// 请记得扩展上下文。</span>
<span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bot<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- 把你的 bot 令牌放在这里 (https://t.me/BotFather)</span>

<span class="token comment">// 创建一个 `I18n` 实例。</span>
<span class="token comment">// 继续阅读以了解如何配置实例。</span>
<span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  defaultLocale<span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 更多信息请见下文</span>
  directory<span class="token operator">:</span> <span class="token string">&quot;locales&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 从 locales/ 加载所有翻译文件</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 最后，将 i18n 实例注册到 bot 中，</span>
<span class="token comment">// 这样消息就能被翻译了！</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>i18n<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 所有设置都已经完成了。</span>
<span class="token comment">// 你可以使用 `t` 或 `translate` 来访问翻译。</span>
bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;start-msg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><code>ctx<wbr>.t</code> 返回指定 key 的翻译消息。 你不需要担心语言，因为它们将被插件自动选择。</p><p>恭喜！ 你的 bot 现在可以说多种语言了！ 🌍🎉</p><h3 id="使用会话" tabindex="-1"><a class="header-anchor" href="#使用会话" aria-hidden="true">#</a> 使用会话</h3><p>让我们假设你的 bot 有一个 <code>/language</code> 命令。 一般来说，在 grammY 中，我们可以使用 <a href="/main/zh/plugins/session.html" class="">会话</a> 来存储每次聊天的用户数据。 为了让你的国际化实例知道启用了会话，你必须在 <code>I18n</code> 的选项中把 <code>use<wbr>Session</code> 设置为 <code>true</code>。</p><p>下面是一个包含一个简单的 <code>/language</code> 命令的例子：</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">TypeScript</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">JavaScript</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">Deno</button></li></ul></div><!--[--><div class="code-group-item code-group-item__active" aria-selected="true"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Bot<span class="token punctuation">,</span> Context<span class="token punctuation">,</span> session<span class="token punctuation">,</span> SessionFlavor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;grammy&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> I18n<span class="token punctuation">,</span> I18nFlavor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@grammyjs/i18n&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">SessionData</span> <span class="token punctuation">{</span>
  __language_code<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">MyContext</span> <span class="token operator">=</span> Context <span class="token operator">&amp;</span> SessionFlavor<span class="token operator">&lt;</span>SessionData<span class="token operator">&gt;</span> <span class="token operator">&amp;</span> I18nFlavor<span class="token punctuation">;</span>

<span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  defaultLocale<span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
  useSession<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否在会话中存储用户的语言</span>
  directory<span class="token operator">:</span> <span class="token string">&quot;locales&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 从 locales/ 加载所有翻译文件</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bot<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- 把你的 bot 令牌放在这里</span>

<span class="token comment">// 请记得在注册 i18n 实例的中间件之前</span>
<span class="token comment">// 先注册 `session` 中间件。</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">initial</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 注册 i18n 中间件</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>i18n<span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;greeting&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;language&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>match <span class="token operator">===</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;language.specify-a-locale&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// `i18n.locale` 包含所有已注册的地区。</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>i18n<span class="token punctuation">.</span>locales<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>match<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;language.invalid-locale&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// `ctx.i18n.getLocale` 返回当前使用的地区。</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">===</span> ctx<span class="token punctuation">.</span>match<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;language.already-set&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">setLocale</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>match<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;language.language-set&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Bot<span class="token punctuation">,</span> session <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;grammy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> I18n <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@grammyjs/i18n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">defaultLocale</span><span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">useSession</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否在会话中存储用户的语言</span>
  <span class="token literal-property property">directory</span><span class="token operator">:</span> <span class="token string">&quot;locales&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 从 locales/ 加载所有翻译文件</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bot</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- 把你的 bot 令牌放在这里</span>

<span class="token comment">// 请记得在注册 i18n 实例的中间件之前</span>
<span class="token comment">// 先注册 `session` 中间件。</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">initial</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 注册 i18n 中间件</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>i18n<span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">ctx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;greeting&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;language&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">ctx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>match <span class="token operator">===</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;language.specify-a-locale&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// `i18n.locale` 包含所有已注册的地区。</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>i18n<span class="token punctuation">.</span>locales<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>match<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;language.invalid-locale&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// `ctx.i18n.getLocale` 返回当前使用的地区。</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">===</span> ctx<span class="token punctuation">.</span>match<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;language.already-set&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">setLocale</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>match<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;language.language-set&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  Bot<span class="token punctuation">,</span>
  Context<span class="token punctuation">,</span>
  session<span class="token punctuation">,</span>
  SessionFlavor<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;https://deno.land/x/grammy@v1.11.1/mod.ts&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> I18n<span class="token punctuation">,</span> I18nFlavor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;https://deno.land/x/grammy_i18n@v1.0.1/mod.ts&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">SessionData</span> <span class="token punctuation">{</span>
  __language_code<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">MyContext</span> <span class="token operator">=</span> Context <span class="token operator">&amp;</span> SessionFlavor<span class="token operator">&lt;</span>SessionData<span class="token operator">&gt;</span> <span class="token operator">&amp;</span> I18nFlavor<span class="token punctuation">;</span>

<span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  defaultLocale<span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
  useSession<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否在会话中存储用户的语言</span>
  directory<span class="token operator">:</span> <span class="token string">&quot;locales&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 从 locales/ 加载所有翻译文件</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bot<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- 把你的 bot 令牌放在这里</span>

<span class="token comment">// 请记得在注册 i18n 实例的中间件之前</span>
<span class="token comment">// 先注册 `session` 中间件。</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">initial</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 注册 i18n 中间件</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>i18n<span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;greeting&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;language&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>match <span class="token operator">===</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;language.specify-a-locale&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// `i18n.locales` 包含所有已注册的地区</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>i18n<span class="token punctuation">.</span>locales<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>match<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;language.invalid-locale&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// `ctx.i18n.getLocale` 返回当前使用的地区。</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">===</span> ctx<span class="token punctuation">.</span>match<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;language.already-set&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">setLocale</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>match<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;language.language-set&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p>当启用会话时，会话中的 <code>_<wbr>_language<wbr>_code</code> 属性将被用来代替 <code>ctx<wbr>.from<wbr>.language<wbr>_code</code> (由 Telegram 客户端提供)，在语言选择期间。 当你的 bot 发送消息时，会使用 <code>ctx<wbr>.session<wbr>._<wbr>_language<wbr>_code</code> 来选择语言。</p><p>有一个 <code>set<wbr>Locale</code> 方法可以用来设置你想要的语言。 它将在你的会话中保存这个值。</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">setLocale</span><span class="token punctuation">(</span><span class="token string">&quot;de&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这相当于在会话中手动设置，然后再重新协商地区：</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>__language_code <span class="token operator">=</span> <span class="token string">&quot;de&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">renegotiateLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">重新协商地区</p><p>当你使用会话或者其他东西—除了 <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>—来为用户选择一个自定义地区时，有一些情况下你可能会再处理 update 时改变语言。 例如，看一下上面使用会话的例子。</p><p>当你只做了</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code>ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>__language_code <span class="token operator">=</span> <span class="token string">&quot;de&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>它将不会更新 <code>I18n</code> 实例中当前使用的地区。 相反，它只会更新会话。 因此，变化将只会在 <em>下一个 update</em> 中生效。</p><p>如果你不能等到下一个 update，你可能需要在更新用户语言后刷新变化。 在这种情况下，请使用 <code>renegotiate<wbr>Locale</code> 方法。</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>__language_code <span class="token operator">=</span> <span class="token string">&quot;de&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">renegotiateLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>此后，当我们使用 <code>t</code> 方法时，bot 就会尝试使用这个消息的德语翻译（在 <code>locales<wbr>/de<wbr>.ftl</code> 中指定）来回复。</p><p>另外，请记住，当你使用内置会话时，你可以使用 <code>set<wbr>Locale</code> 方法来实现相同的结果。</p></div><div class="custom-container tip"><p class="custom-container-title">在不适用会话时设置地区</p><p>当你 <a href="#%E4%B8%8D%E9%80%82%E7%94%A8%E4%BC%9A%E8%AF%9D">不使用会话</a> 时，如果需要为用户设置地区，你可以使用 <code>use<wbr>Locale</code> 方法。</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">await</span> ctx<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span><span class="token function">useLocale</span><span class="token punctuation">(</span><span class="token string">&quot;de&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>它设置了指定的地区，用于后续翻译。 这个效果只会在当前的 update 中生效，不会被保留。 你可以使用这个方法来在处理 update 的过程中（例如，当用户更改语言）更改翻译地区。</p></div><h2 id="自定义地区协商" tabindex="-1"><a class="header-anchor" href="#自定义地区协商" aria-hidden="true">#</a> 自定义地区协商</h2><p>你可以使用 <code>locale<wbr>Negotiator</code> 选项来指定一个自定义的地区协商器。 如果你想根据外部来源（例如数据库）或其他情况使用控制地区，这个选项是非常有用的。</p><p>下面时这个插件的地区选择的默认顺序：</p><ol><li><p>如果会话被启用，尝试从会话中读取 <code>_<wbr>_language<wbr>_code</code>。 如果它返回一个有效的地区，它将被使用。 如果它返回空或一个未注册的地区，则继续到步骤 2。</p></li><li><p>尝试从 <code>ctx<wbr>.from<wbr>.language<wbr>_code</code> 读取。 如果它返回一个有效的地区，它将被使用。 如果它返回空或一个未注册的地区，则继续到步骤 3。</p><blockquote><p>请注意，<code>ctx<wbr>.from<wbr>.language<wbr>_code</code> 只有在用户已经开始了 bot 时才可用。 这意味着，如果 bot 在某个群组或某个地方看到用户，而这个用户之前没有启动过 bot，它将看不到 <code>ctx<wbr>.from<wbr>.language<wbr>_code</code>。</p></blockquote></li><li><p>尝试使用 <code>I18n</code> 的选项中配置的默认语言。 如果它被设置为一个有效的地区，它将被使用。 如果它没有被指定或设置为一个未注册的地区，则继续到步骤 4。</p></li><li><p>尝试使用英语（<code>en</code>）。 这个插件将英语设置为最终的后备地区。 尽管它是一个后备地区，并且我们建议提供一个翻译，但它不是必须的。 如果没有英语地区，则继续到步骤 5。</p></li><li><p>如果上面的所有方法都失败，则使用 <code>{key}</code> 来代替翻译。 我们 <strong>强烈建议</strong> 在 <code>I18n</code> 的选项中设置一个在翻译中存在的地区作为 <code>default<wbr>Locale</code>。</p></li></ol><div class="custom-container tip"><p class="custom-container-title">地区协商</p><p>在 Telegram 的 update 处理过程中，地区协商通常只会发生一次。 然而，你可以通过调用 <code>ctx<wbr>.i18n<wbr>.renegotiate<wbr>Locale()</code> 来调用协商器再次调用并确定新的地区。 这可以帮助你处理地区在单个 update 处理过程中发生了改变的情况。</p></div><p>下面是一个 <code>locale<wbr>Negotiator</code> 示例，其中我们使用会话中的 <code>locale</code> 来代替 <code>_<wbr>_language<wbr>_code</code>。 在这种情况下，你不需要在 <code>I18n</code> 的选项中设置 <code>use<wbr>Session</code> 为 <code>true</code>。</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">TypeScript</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">JavaScript</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">localeNegotiator</span><span class="token operator">:</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>locale <span class="token operator">??</span> ctx<span class="token punctuation">.</span>from<span class="token operator">?.</span>language_code <span class="token operator">??</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">localeNegotiator</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">ctx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>locale <span class="token operator">??</span> ctx<span class="token punctuation">.</span>from<span class="token operator">?.</span>language_code <span class="token operator">??</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p>如果自定义的地区协商返回一个无效的地区，它将以上面的顺序回退并选择一个地区。</p><h2 id="渲染翻译后的消息" tabindex="-1"><a class="header-anchor" href="#渲染翻译后的消息" aria-hidden="true">#</a> 渲染翻译后的消息</h2><p>让我们仔细看看消息渲染。</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 调用 &quot;translate&quot; 或 &quot;t&quot; 帮助来渲染消息，指定其 ID 和额外参数：</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;welcome&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在你可以使用 <code>/start</code> 来启动你的 bot，它应该呈现以下消息：</p><div class="language-text ext-text"><pre class="language-text"><code>Hi there!
</code></pre></div><h3 id="占位符" tabindex="-1"><a class="header-anchor" href="#占位符" aria-hidden="true">#</a> 占位符</h3><p>有时候你可能想在字符串中放置数字和名字之类的值。 你可以通过使用占位符来实现。</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;cart&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 你可以把占位符作为第二个对象传递。</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;cart-msg&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> items<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对象 <code>{ items:<wbr> 10 }</code> 被称为 <code>cart<wbr>-msg</code> 字符串的 <em>翻译上下文</em>。</p><p>现在，使用 <code>/cart</code> 命令：</p><div class="language-text ext-text"><pre class="language-text"><code>You currently have 10 items in your cart.
</code></pre></div><p>尝试更改 <code>items</code> 变量的值，看看渲染的消息会有什么变化！ 另外，请参阅 Fluent 文档，特别是 <a href="https://projectfluent.org/fluent/guide/placeables.html" target="_blank" rel="noopener noreferrer">占位符文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><h3 id="全局占位符" tabindex="-1"><a class="header-anchor" href="#全局占位符" aria-hidden="true">#</a> 全局占位符</h3><p>通过设置所有翻译中都会用到的全局占位符，可以极大的减少翻译工作量。 例如，如果你在很多消息中会重复使用用户的名字，那么在每个地方都传入 <code>{ name:<wbr> ctx<wbr>.from<wbr>.first<wbr>_name }</code> 就会变得很繁琐。</p><p>全局占位符就是救星！ 可以考虑这样使用：</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  defaultLocale<span class="token operator">:</span> <span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span>
  directory<span class="token operator">:</span> <span class="token string">&quot;locales&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 定义全局可用的占位符</span>
  <span class="token function">globalTranslationContext</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> ctx<span class="token punctuation">.</span>from<span class="token operator">?.</span>first_name <span class="token operator">??</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>i18n<span class="token punctuation">)</span><span class="token punctuation">;</span>
bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 可以不需要指定，直接使用 `name`</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;welcome&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="添加翻译" tabindex="-1"><a class="header-anchor" href="#添加翻译" aria-hidden="true">#</a> 添加翻译</h2><p>这里有三中主要的方法来加载翻译。</p><h3 id="使用-directory-选项加载翻译" tabindex="-1"><a class="header-anchor" href="#使用-directory-选项加载翻译" aria-hidden="true">#</a> 使用 <code>directory</code> 选项加载翻译</h3><p>向 <code>I18n</code> 实例添加翻译的最简单方法是将所有翻译都放在一个目录中，并在选项中指定目录名称。</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  directory<span class="token operator">:</span> <span class="token string">&quot;locales&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="从目录中加载翻译" tabindex="-1"><a class="header-anchor" href="#从目录中加载翻译" aria-hidden="true">#</a> 从目录中加载翻译</h3><p>这个方法和在选项中指定 <code>directory</code> 是相同的。 只要把它们都放在一个文件夹里，就可以像这样进行加载：</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> i18n<span class="token punctuation">.</span><span class="token function">loadLocalesDir</span><span class="token punctuation">(</span><span class="token string">&quot;locales&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 异步</span>
i18n<span class="token punctuation">.</span><span class="token function">loadLocalesDirSync</span><span class="token punctuation">(</span><span class="token string">&quot;locales-2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 同步</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="加载单一翻译文件" tabindex="-1"><a class="header-anchor" href="#加载单一翻译文件" aria-hidden="true">#</a> 加载单一翻译文件</h3><p>你也可以在实例中添加单个翻译。 使用以下方法指定翻译文件的路劲：</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> i18n<span class="token punctuation">.</span><span class="token function">loadLocale</span><span class="token punctuation">(</span><span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> filePath<span class="token operator">:</span> <span class="token string">&quot;locales/en.ftl&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 异步</span>
i18n<span class="token punctuation">.</span><span class="token function">loadLocaleSync</span><span class="token punctuation">(</span><span class="token string">&quot;de&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> filePath<span class="token operator">:</span> <span class="token string">&quot;locales/de.ftl&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 同步</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>或者你也可以像这样直接加载翻译数据：</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">I18n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 异步</span>
<span class="token keyword">await</span> i18n<span class="token punctuation">.</span><span class="token function">loadLocale</span><span class="token punctuation">(</span><span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  source<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">greeting = Hello { $name }!
language-set = Language has been set to English!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 同步</span>
i18n<span class="token punctuation">.</span><span class="token function">loadLocaleSync</span><span class="token punctuation">(</span><span class="token string">&quot;de&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  source<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">greeting = Hallo { $name }!
language-set = Die Sprache wurde zu Deutsch geändert!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="监听本地化文本" tabindex="-1"><a class="header-anchor" href="#监听本地化文本" aria-hidden="true">#</a> 监听本地化文本</h2><p>我们设法向用户发送了本地化的消息。 现在，我们来看看如何监听来自用户的消息。 在 grammY 中，我们通常使用 <code>bot<wbr>.hears</code> 处理程序来监听来自用户的消息。 但是，因为我们在这一章节中讨论了国际化，所以在这一节中我们来看看如何监听来自用户的本地化消息。</p><p>当你的 bot 有<a href="/main/zh/plugins/keyboard.html#%E8%87%AA%E5%AE%9A%E4%B9%89-keyboards" class="">自定义 Keyboards</a>，并且它包含本地化的文本时，这个特性就很有用了。</p><p>下面是一个监听使用自定义 Keyboards发送的本地化文本的简短示例。 我们没有使用 <code>bot<wbr>.hears</code>，而是使用 <code>bot<wbr>.filter</code> 和这个插件提供的 <code>hears</code> 中间件来监听。</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">TypeScript</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">JavaScript</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">Deno</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> hears <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@grammyjs/i18n&quot;</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token function">hears</span><span class="token punctuation">(</span><span class="token string">&quot;back-to-menu-btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;main-menu-msg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> hears <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&quot;@grammyjs/i18n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token function">hears</span><span class="token punctuation">(</span><span class="token string">&quot;back-to-menu-btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;main-menu-msg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> hears <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;https://deno.land/x/grammy_i18n@v1.0.1/mod.ts&quot;</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token function">hears</span><span class="token punctuation">(</span><span class="token string">&quot;back-to-menu-btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&quot;main-menu-msg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><code>hears</code> 辅助函数允许你的 bot 监听来自用户的本地化消息。</p><h2 id="更进一步" tabindex="-1"><a class="header-anchor" href="#更进一步" aria-hidden="true">#</a> 更进一步</h2><ul><li>阅读 <a href="https://projectfluent.org/" target="_blank" rel="noopener noreferrer">Fluent 文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，尤其是 <a href="https://projectfluent.org/fluent/guide/" target="_blank" rel="noopener noreferrer">语法指南<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</li><li>查看这个插件在 Deno 和 Node.js 中使用的正确 <a href="https://github.com/grammyjs/i18n/tree/main/examples" target="_blank" rel="noopener noreferrer">例子<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="插件概述" tabindex="-1"><a class="header-anchor" href="#插件概述" aria-hidden="true">#</a> 插件概述</h2><ul><li>名字：<code>i18n</code></li><li>源码：<a href="https://github.com/grammyjs/i18n" target="_blank" rel="noopener noreferrer">https://<wbr>github<wbr>.com<wbr>/grammyjs<wbr>/i18n<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>API 参考：<a href="https://doc.deno.land/https://deno.land/x/grammy_i18n/mod.ts" target="_blank" rel="noopener noreferrer">https://<wbr>doc<wbr>.deno<wbr>.land<wbr>/https://<wbr>deno<wbr>.land<wbr>/x<wbr>/grammy<wbr>_i18n<wbr>/mod<wbr>.ts<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/grammyjs/website/edit/main/site/docs/zh/plugins/i18n.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页！"><!--[--><!--]--> 在 GitHub 上编辑此页！ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">最近更新时间: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 643089849@qq.com">WingLim</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: ez@roj.im">Roj</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 70066170+dcdunkan@users.noreply.github.com">Dunkan</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: kl@sinker.ru">Kirill Loskutov</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: shtrog@gmail.com">KnorpelSenf</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: rojserbest@gmail.com">Roj</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--[--><hr class="my-divider"><footer class="my-footer footer"> Based on commit <code><a href="https://github.com/grammyjs/website/pull/main/commits/ee464dc80d531556d05e156a520f233913a115d7" target="_blank">ee464dc80d531556d05e156a520f233913a115d7</a></code></footer><!--]--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/main/assets/app.2f873437.js" defer></script>
  </body>
</html>
