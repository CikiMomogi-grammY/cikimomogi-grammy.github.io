<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Session dan Penyimpanan Data (Built-In) | grammY</title><meta name="description" content="Framework Bot Telegram.">
    <link rel="modulepreload" href="/main/assets/app.2f873437.js"><link rel="modulepreload" href="/main/assets/session.html.6f49692c.js"><link rel="modulepreload" href="/main/assets/session.html.fe8e3213.js"><link rel="prefetch" href="/main/assets/index.html.0429b483.js"><link rel="prefetch" href="/main/assets/index.html.fb39b504.js"><link rel="prefetch" href="/main/assets/examples.html.4b7b6125.js"><link rel="prefetch" href="/main/assets/index.html.172886ab.js"><link rel="prefetch" href="/main/assets/api.html.d34afc0f.js"><link rel="prefetch" href="/main/assets/basics.html.65923044.js"><link rel="prefetch" href="/main/assets/commands.html.c2610c77.js"><link rel="prefetch" href="/main/assets/context.html.d7289dc7.js"><link rel="prefetch" href="/main/assets/deployment-types.html.346b4d4f.js"><link rel="prefetch" href="/main/assets/errors.html.d567f2e9.js"><link rel="prefetch" href="/main/assets/files.html.5df1fdf3.js"><link rel="prefetch" href="/main/assets/filter-queries.html.ff3c15e1.js"><link rel="prefetch" href="/main/assets/games.html.ebb92d65.js"><link rel="prefetch" href="/main/assets/getting-started.html.3aad9f5a.js"><link rel="prefetch" href="/main/assets/inline-queries.html.9fa5435e.js"><link rel="prefetch" href="/main/assets/introduction.html.d062e0ed.js"><link rel="prefetch" href="/main/assets/middleware.html.c32c1afb.js"><link rel="prefetch" href="/main/assets/index.html.2401d292.js"><link rel="prefetch" href="/main/assets/deployment.html.820945fa.js"><link rel="prefetch" href="/main/assets/flood.html.064205fe.js"><link rel="prefetch" href="/main/assets/middleware.html.992dcb0e.js"><link rel="prefetch" href="/main/assets/proxy.html.c404e72a.js"><link rel="prefetch" href="/main/assets/reliability.html.5a572dfa.js"><link rel="prefetch" href="/main/assets/scaling.html.fe634161.js"><link rel="prefetch" href="/main/assets/structuring.html.1e8ebd48.js"><link rel="prefetch" href="/main/assets/transformers.html.3e1cae77.js"><link rel="prefetch" href="/main/assets/index.html.e45b3ea7.js"><link rel="prefetch" href="/main/assets/comparison.html.864b515f.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.f68bc233.js"><link rel="prefetch" href="/main/assets/gcf.html.94978e12.js"><link rel="prefetch" href="/main/assets/heroku.html.c66e9d56.js"><link rel="prefetch" href="/main/assets/supabase.html.da73eb5d.js"><link rel="prefetch" href="/main/assets/vps.html.8c98b206.js"><link rel="prefetch" href="/main/assets/about.html.e9ce3575.js"><link rel="prefetch" href="/main/assets/comparison.html.5589e0a7.js"><link rel="prefetch" href="/main/assets/faq.html.4a46d2bc.js"><link rel="prefetch" href="/main/assets/index.html.cc711d93.js"><link rel="prefetch" href="/main/assets/auto-retry.html.dcc5774e.js"><link rel="prefetch" href="/main/assets/autoquote.html.6b2ec3fa.js"><link rel="prefetch" href="/main/assets/command-filter.html.12deb6e8.js"><link rel="prefetch" href="/main/assets/console-time.html.71373d0a.js"><link rel="prefetch" href="/main/assets/conversations.html.3fa37598.js"><link rel="prefetch" href="/main/assets/emoji.html.3004d918.js"><link rel="prefetch" href="/main/assets/files.html.2d391f38.js"><link rel="prefetch" href="/main/assets/fluent.html.a46983be.js"><link rel="prefetch" href="/main/assets/guide.html.4a675f4a.js"><link rel="prefetch" href="/main/assets/hydrate.html.f749cccd.js"><link rel="prefetch" href="/main/assets/i18n.html.8e382739.js"><link rel="prefetch" href="/main/assets/keyboard.html.5d3ef392.js"><link rel="prefetch" href="/main/assets/menu.html.1c9951dc.js"><link rel="prefetch" href="/main/assets/middlewares.html.9f97e6d3.js"><link rel="prefetch" href="/main/assets/parse-mode.html.7e162a71.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.92d0808d.js"><link rel="prefetch" href="/main/assets/router.html.b46a9b17.js"><link rel="prefetch" href="/main/assets/runner.html.0d4fc86e.js"><link rel="prefetch" href="/main/assets/session.html.a3ebd553.js"><link rel="prefetch" href="/main/assets/stateless-question.html.673f33c3.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.0118bbb0.js"><link rel="prefetch" href="/main/assets/index.html.0ea21131.js"><link rel="prefetch" href="/main/assets/deployment.html.947cfd03.js"><link rel="prefetch" href="/main/assets/flood.html.adb704f3.js"><link rel="prefetch" href="/main/assets/middleware.html.62700685.js"><link rel="prefetch" href="/main/assets/proxy.html.d9e32858.js"><link rel="prefetch" href="/main/assets/reliability.html.214116d2.js"><link rel="prefetch" href="/main/assets/scaling.html.17ebd1a5.js"><link rel="prefetch" href="/main/assets/structuring.html.b2cc831f.js"><link rel="prefetch" href="/main/assets/transformers.html.0d715264.js"><link rel="prefetch" href="/main/assets/index.html.8d516f91.js"><link rel="prefetch" href="/main/assets/index.html.564f39e8.js"><link rel="prefetch" href="/main/assets/index.html.b68e7c4e.js"><link rel="prefetch" href="/main/assets/api.html.864221a5.js"><link rel="prefetch" href="/main/assets/basics.html.d83b67aa.js"><link rel="prefetch" href="/main/assets/commands.html.0c654628.js"><link rel="prefetch" href="/main/assets/context.html.684cfc10.js"><link rel="prefetch" href="/main/assets/deployment-types.html.66bb2eb6.js"><link rel="prefetch" href="/main/assets/errors.html.3bd197a1.js"><link rel="prefetch" href="/main/assets/files.html.b3f5719d.js"><link rel="prefetch" href="/main/assets/filter-queries.html.2fc848b9.js"><link rel="prefetch" href="/main/assets/games.html.ed2eeb11.js"><link rel="prefetch" href="/main/assets/getting-started.html.bee7700c.js"><link rel="prefetch" href="/main/assets/inline-queries.html.3dd234a2.js"><link rel="prefetch" href="/main/assets/introduction.html.2c38a111.js"><link rel="prefetch" href="/main/assets/middleware.html.956472a4.js"><link rel="prefetch" href="/main/assets/index.html.655275db.js"><link rel="prefetch" href="/main/assets/examples.html.4da510e2.js"><link rel="prefetch" href="/main/assets/index.html.45898178.js"><link rel="prefetch" href="/main/assets/deployment.html.75afc00d.js"><link rel="prefetch" href="/main/assets/flood.html.71e88b3b.js"><link rel="prefetch" href="/main/assets/middleware.html.afa5db3b.js"><link rel="prefetch" href="/main/assets/proxy.html.b70254e4.js"><link rel="prefetch" href="/main/assets/reliability.html.2858f460.js"><link rel="prefetch" href="/main/assets/scaling.html.ae951df2.js"><link rel="prefetch" href="/main/assets/structuring.html.d2ff17dd.js"><link rel="prefetch" href="/main/assets/transformers.html.6f5b57b6.js"><link rel="prefetch" href="/main/assets/index.html.74522b16.js"><link rel="prefetch" href="/main/assets/examples.html.24e682eb.js"><link rel="prefetch" href="/main/assets/index.html.d277051d.js"><link rel="prefetch" href="/main/assets/auto-retry.html.1f23e8f1.js"><link rel="prefetch" href="/main/assets/autoquote.html.42fbacdc.js"><link rel="prefetch" href="/main/assets/command-filter.html.24250ac2.js"><link rel="prefetch" href="/main/assets/console-time.html.388fd635.js"><link rel="prefetch" href="/main/assets/conversations.html.348212b4.js"><link rel="prefetch" href="/main/assets/emoji.html.328c7f5d.js"><link rel="prefetch" href="/main/assets/files.html.a0a7b203.js"><link rel="prefetch" href="/main/assets/fluent.html.3f0052df.js"><link rel="prefetch" href="/main/assets/guide.html.cdc01534.js"><link rel="prefetch" href="/main/assets/hydrate.html.e1cdd16f.js"><link rel="prefetch" href="/main/assets/i18n.html.d42b0b26.js"><link rel="prefetch" href="/main/assets/keyboard.html.6c1187da.js"><link rel="prefetch" href="/main/assets/menu.html.6318ffc5.js"><link rel="prefetch" href="/main/assets/middlewares.html.e2a902a1.js"><link rel="prefetch" href="/main/assets/parse-mode.html.cd0be863.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.ff1d0a8b.js"><link rel="prefetch" href="/main/assets/router.html.81629bbc.js"><link rel="prefetch" href="/main/assets/runner.html.afc71826.js"><link rel="prefetch" href="/main/assets/session.html.bc00753b.js"><link rel="prefetch" href="/main/assets/stateless-question.html.832cc882.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.270476d5.js"><link rel="prefetch" href="/main/assets/about.html.6acc59e5.js"><link rel="prefetch" href="/main/assets/comparison.html.19d2b82f.js"><link rel="prefetch" href="/main/assets/faq.html.525026ef.js"><link rel="prefetch" href="/main/assets/comparison.html.62a530ba.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.4bbb93fe.js"><link rel="prefetch" href="/main/assets/gcf.html.dbb08649.js"><link rel="prefetch" href="/main/assets/heroku.html.6b84f4cd.js"><link rel="prefetch" href="/main/assets/supabase.html.9c4eb234.js"><link rel="prefetch" href="/main/assets/vps.html.0d4578fa.js"><link rel="prefetch" href="/main/assets/comparison.html.65d3d0d9.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.58bef10b.js"><link rel="prefetch" href="/main/assets/gcf.html.8a35f9f5.js"><link rel="prefetch" href="/main/assets/heroku.html.19121e3e.js"><link rel="prefetch" href="/main/assets/supabase.html.aa532eae.js"><link rel="prefetch" href="/main/assets/vps.html.d879cd9d.js"><link rel="prefetch" href="/main/assets/index.html.9de295a7.js"><link rel="prefetch" href="/main/assets/api.html.8ed7866f.js"><link rel="prefetch" href="/main/assets/basics.html.7afbeb28.js"><link rel="prefetch" href="/main/assets/commands.html.131d044b.js"><link rel="prefetch" href="/main/assets/context.html.f1f04579.js"><link rel="prefetch" href="/main/assets/deployment-types.html.6efb3c25.js"><link rel="prefetch" href="/main/assets/errors.html.0c95dbb6.js"><link rel="prefetch" href="/main/assets/files.html.c53a8155.js"><link rel="prefetch" href="/main/assets/filter-queries.html.dab2ea34.js"><link rel="prefetch" href="/main/assets/games.html.60a32e8c.js"><link rel="prefetch" href="/main/assets/getting-started.html.7d3308dc.js"><link rel="prefetch" href="/main/assets/inline-queries.html.c644e6f2.js"><link rel="prefetch" href="/main/assets/introduction.html.2b2e7021.js"><link rel="prefetch" href="/main/assets/middleware.html.8e8a095a.js"><link rel="prefetch" href="/main/assets/index.html.c671af3a.js"><link rel="prefetch" href="/main/assets/deployment.html.890ba700.js"><link rel="prefetch" href="/main/assets/flood.html.99fc87f0.js"><link rel="prefetch" href="/main/assets/middleware.html.93e739dc.js"><link rel="prefetch" href="/main/assets/proxy.html.a206407d.js"><link rel="prefetch" href="/main/assets/reliability.html.77f11b74.js"><link rel="prefetch" href="/main/assets/scaling.html.b0186def.js"><link rel="prefetch" href="/main/assets/structuring.html.431bf13f.js"><link rel="prefetch" href="/main/assets/transformers.html.76eb6336.js"><link rel="prefetch" href="/main/assets/index.html.629ca643.js"><link rel="prefetch" href="/main/assets/examples.html.cea54aec.js"><link rel="prefetch" href="/main/assets/index.html.374cf0b5.js"><link rel="prefetch" href="/main/assets/api.html.a789ac69.js"><link rel="prefetch" href="/main/assets/basics.html.a5f54cb2.js"><link rel="prefetch" href="/main/assets/commands.html.f5bc337a.js"><link rel="prefetch" href="/main/assets/context.html.e94c9f2e.js"><link rel="prefetch" href="/main/assets/deployment-types.html.d3d220f8.js"><link rel="prefetch" href="/main/assets/errors.html.cb531b7a.js"><link rel="prefetch" href="/main/assets/files.html.1cbd9c21.js"><link rel="prefetch" href="/main/assets/filter-queries.html.18865e77.js"><link rel="prefetch" href="/main/assets/games.html.019dc6f4.js"><link rel="prefetch" href="/main/assets/getting-started.html.cdb13cc0.js"><link rel="prefetch" href="/main/assets/inline-queries.html.02267dd2.js"><link rel="prefetch" href="/main/assets/introduction.html.e8487eb7.js"><link rel="prefetch" href="/main/assets/middleware.html.beeb4db0.js"><link rel="prefetch" href="/main/assets/about.html.41287b90.js"><link rel="prefetch" href="/main/assets/comparison.html.162bdf02.js"><link rel="prefetch" href="/main/assets/faq.html.abba6af1.js"><link rel="prefetch" href="/main/assets/index.html.f9a366b7.js"><link rel="prefetch" href="/main/assets/auto-retry.html.14c9246a.js"><link rel="prefetch" href="/main/assets/autoquote.html.7631a3c2.js"><link rel="prefetch" href="/main/assets/command-filter.html.d5692cab.js"><link rel="prefetch" href="/main/assets/console-time.html.02bcf31d.js"><link rel="prefetch" href="/main/assets/conversations.html.720733fe.js"><link rel="prefetch" href="/main/assets/emoji.html.80cfa07a.js"><link rel="prefetch" href="/main/assets/files.html.233bac34.js"><link rel="prefetch" href="/main/assets/fluent.html.03a89032.js"><link rel="prefetch" href="/main/assets/guide.html.6086fd79.js"><link rel="prefetch" href="/main/assets/hydrate.html.0306f173.js"><link rel="prefetch" href="/main/assets/i18n.html.dd40c4cc.js"><link rel="prefetch" href="/main/assets/keyboard.html.9ccac385.js"><link rel="prefetch" href="/main/assets/menu.html.434bf22c.js"><link rel="prefetch" href="/main/assets/middlewares.html.94c8c1e9.js"><link rel="prefetch" href="/main/assets/parse-mode.html.5072ecbd.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.c72dcd26.js"><link rel="prefetch" href="/main/assets/router.html.98428e85.js"><link rel="prefetch" href="/main/assets/runner.html.7681c085.js"><link rel="prefetch" href="/main/assets/session.html.79028198.js"><link rel="prefetch" href="/main/assets/stateless-question.html.b4c1ec42.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.f05311c2.js"><link rel="prefetch" href="/main/assets/comparison.html.ece5207a.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.abccf389.js"><link rel="prefetch" href="/main/assets/gcf.html.bf1ad988.js"><link rel="prefetch" href="/main/assets/heroku.html.57ef7871.js"><link rel="prefetch" href="/main/assets/supabase.html.d19b224e.js"><link rel="prefetch" href="/main/assets/vps.html.b53fc72a.js"><link rel="prefetch" href="/main/assets/index.html.567ecd8c.js"><link rel="prefetch" href="/main/assets/auto-retry.html.62a31d40.js"><link rel="prefetch" href="/main/assets/autoquote.html.cc9522e4.js"><link rel="prefetch" href="/main/assets/command-filter.html.fa1f4413.js"><link rel="prefetch" href="/main/assets/console-time.html.a5c56dc8.js"><link rel="prefetch" href="/main/assets/conversations.html.c30ab8ca.js"><link rel="prefetch" href="/main/assets/emoji.html.cb014872.js"><link rel="prefetch" href="/main/assets/files.html.d69c6677.js"><link rel="prefetch" href="/main/assets/fluent.html.3604c2fc.js"><link rel="prefetch" href="/main/assets/guide.html.381a5a51.js"><link rel="prefetch" href="/main/assets/hydrate.html.e3b6d0df.js"><link rel="prefetch" href="/main/assets/i18n.html.10283dc9.js"><link rel="prefetch" href="/main/assets/keyboard.html.19037e93.js"><link rel="prefetch" href="/main/assets/menu.html.ea47e487.js"><link rel="prefetch" href="/main/assets/middlewares.html.b0c00aea.js"><link rel="prefetch" href="/main/assets/parse-mode.html.d7623f03.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.1a461d12.js"><link rel="prefetch" href="/main/assets/router.html.f310225d.js"><link rel="prefetch" href="/main/assets/runner.html.43f20cdb.js"><link rel="prefetch" href="/main/assets/stateless-question.html.eb4a26cc.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.07a40fbf.js"><link rel="prefetch" href="/main/assets/about.html.4abcfa07.js"><link rel="prefetch" href="/main/assets/comparison.html.8ed17bd9.js"><link rel="prefetch" href="/main/assets/faq.html.0dd6c2c4.js"><link rel="prefetch" href="/main/assets/404.html.d2dc3323.js"><link rel="prefetch" href="/main/assets/index.html.03c0a82a.js"><link rel="prefetch" href="/main/assets/index.html.1125e4c6.js"><link rel="prefetch" href="/main/assets/examples.html.b6fee481.js"><link rel="prefetch" href="/main/assets/index.html.b88cd9eb.js"><link rel="prefetch" href="/main/assets/api.html.b0192953.js"><link rel="prefetch" href="/main/assets/basics.html.92643f2a.js"><link rel="prefetch" href="/main/assets/commands.html.23586f95.js"><link rel="prefetch" href="/main/assets/context.html.062b41f3.js"><link rel="prefetch" href="/main/assets/deployment-types.html.dd4a7f49.js"><link rel="prefetch" href="/main/assets/errors.html.2711b58e.js"><link rel="prefetch" href="/main/assets/files.html.709f4192.js"><link rel="prefetch" href="/main/assets/filter-queries.html.63f866ff.js"><link rel="prefetch" href="/main/assets/games.html.d9d3422c.js"><link rel="prefetch" href="/main/assets/getting-started.html.87a2ff42.js"><link rel="prefetch" href="/main/assets/inline-queries.html.0db1c609.js"><link rel="prefetch" href="/main/assets/introduction.html.55c81d48.js"><link rel="prefetch" href="/main/assets/middleware.html.2961fb0a.js"><link rel="prefetch" href="/main/assets/index.html.b796aff1.js"><link rel="prefetch" href="/main/assets/deployment.html.7546da69.js"><link rel="prefetch" href="/main/assets/flood.html.ead13273.js"><link rel="prefetch" href="/main/assets/middleware.html.399fb0ff.js"><link rel="prefetch" href="/main/assets/proxy.html.f2c28922.js"><link rel="prefetch" href="/main/assets/reliability.html.5bd8cb1f.js"><link rel="prefetch" href="/main/assets/scaling.html.2b22e811.js"><link rel="prefetch" href="/main/assets/structuring.html.214d6c5d.js"><link rel="prefetch" href="/main/assets/transformers.html.9e17cb24.js"><link rel="prefetch" href="/main/assets/index.html.80f210b7.js"><link rel="prefetch" href="/main/assets/comparison.html.ed3c97be.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.ce6ea84e.js"><link rel="prefetch" href="/main/assets/gcf.html.ab9c9a71.js"><link rel="prefetch" href="/main/assets/heroku.html.0c6fb991.js"><link rel="prefetch" href="/main/assets/supabase.html.de5043f7.js"><link rel="prefetch" href="/main/assets/vps.html.aefdb07d.js"><link rel="prefetch" href="/main/assets/about.html.5a000375.js"><link rel="prefetch" href="/main/assets/comparison.html.4c19c65f.js"><link rel="prefetch" href="/main/assets/faq.html.2894ccab.js"><link rel="prefetch" href="/main/assets/index.html.59413bab.js"><link rel="prefetch" href="/main/assets/auto-retry.html.ba868155.js"><link rel="prefetch" href="/main/assets/autoquote.html.6d6eb529.js"><link rel="prefetch" href="/main/assets/command-filter.html.c0461b21.js"><link rel="prefetch" href="/main/assets/console-time.html.bac9907e.js"><link rel="prefetch" href="/main/assets/conversations.html.f74dd1e5.js"><link rel="prefetch" href="/main/assets/emoji.html.31d7ad42.js"><link rel="prefetch" href="/main/assets/files.html.9138e683.js"><link rel="prefetch" href="/main/assets/fluent.html.265d53b1.js"><link rel="prefetch" href="/main/assets/guide.html.370d6677.js"><link rel="prefetch" href="/main/assets/hydrate.html.d2a12ec4.js"><link rel="prefetch" href="/main/assets/i18n.html.c2aef176.js"><link rel="prefetch" href="/main/assets/keyboard.html.f26b2fcc.js"><link rel="prefetch" href="/main/assets/menu.html.d01b33b5.js"><link rel="prefetch" href="/main/assets/middlewares.html.96918df8.js"><link rel="prefetch" href="/main/assets/parse-mode.html.1e7d702f.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.aa3fd1a9.js"><link rel="prefetch" href="/main/assets/router.html.f906b884.js"><link rel="prefetch" href="/main/assets/runner.html.cb62191e.js"><link rel="prefetch" href="/main/assets/session.html.5e8fb6e8.js"><link rel="prefetch" href="/main/assets/stateless-question.html.31b372fa.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.c5722a46.js"><link rel="prefetch" href="/main/assets/index.html.e419fd6b.js"><link rel="prefetch" href="/main/assets/deployment.html.ded4fe2d.js"><link rel="prefetch" href="/main/assets/flood.html.fc1485c6.js"><link rel="prefetch" href="/main/assets/middleware.html.819dc297.js"><link rel="prefetch" href="/main/assets/proxy.html.5b019de7.js"><link rel="prefetch" href="/main/assets/reliability.html.6b8bc54a.js"><link rel="prefetch" href="/main/assets/scaling.html.ee2bd285.js"><link rel="prefetch" href="/main/assets/structuring.html.cbfa48d7.js"><link rel="prefetch" href="/main/assets/transformers.html.cb09a111.js"><link rel="prefetch" href="/main/assets/index.html.f1987ef9.js"><link rel="prefetch" href="/main/assets/index.html.c1b535a4.js"><link rel="prefetch" href="/main/assets/index.html.c0ecbdf7.js"><link rel="prefetch" href="/main/assets/api.html.55df4cc8.js"><link rel="prefetch" href="/main/assets/basics.html.5842fe7d.js"><link rel="prefetch" href="/main/assets/commands.html.4dd4b7ae.js"><link rel="prefetch" href="/main/assets/context.html.242a3fda.js"><link rel="prefetch" href="/main/assets/deployment-types.html.e72f31a1.js"><link rel="prefetch" href="/main/assets/errors.html.2053123f.js"><link rel="prefetch" href="/main/assets/files.html.3194b27c.js"><link rel="prefetch" href="/main/assets/filter-queries.html.89018f2a.js"><link rel="prefetch" href="/main/assets/games.html.25d4d61a.js"><link rel="prefetch" href="/main/assets/getting-started.html.1a41dfcd.js"><link rel="prefetch" href="/main/assets/inline-queries.html.800fcf06.js"><link rel="prefetch" href="/main/assets/introduction.html.f896b1db.js"><link rel="prefetch" href="/main/assets/middleware.html.ff2f5bad.js"><link rel="prefetch" href="/main/assets/index.html.da90f36b.js"><link rel="prefetch" href="/main/assets/examples.html.853b10e1.js"><link rel="prefetch" href="/main/assets/index.html.930984ec.js"><link rel="prefetch" href="/main/assets/deployment.html.825693ce.js"><link rel="prefetch" href="/main/assets/flood.html.f8ab277d.js"><link rel="prefetch" href="/main/assets/middleware.html.c6fde8ff.js"><link rel="prefetch" href="/main/assets/proxy.html.619e8165.js"><link rel="prefetch" href="/main/assets/reliability.html.868583e9.js"><link rel="prefetch" href="/main/assets/scaling.html.f625ba20.js"><link rel="prefetch" href="/main/assets/structuring.html.585a2641.js"><link rel="prefetch" href="/main/assets/transformers.html.47dd8baa.js"><link rel="prefetch" href="/main/assets/index.html.f6c5489d.js"><link rel="prefetch" href="/main/assets/examples.html.1b6522a0.js"><link rel="prefetch" href="/main/assets/index.html.75dfbcb5.js"><link rel="prefetch" href="/main/assets/auto-retry.html.53dedbdf.js"><link rel="prefetch" href="/main/assets/autoquote.html.6f885162.js"><link rel="prefetch" href="/main/assets/command-filter.html.222cd9f4.js"><link rel="prefetch" href="/main/assets/console-time.html.2792947a.js"><link rel="prefetch" href="/main/assets/conversations.html.e09d1757.js"><link rel="prefetch" href="/main/assets/emoji.html.4c9ff502.js"><link rel="prefetch" href="/main/assets/files.html.6618722a.js"><link rel="prefetch" href="/main/assets/fluent.html.28f9961f.js"><link rel="prefetch" href="/main/assets/guide.html.79faf446.js"><link rel="prefetch" href="/main/assets/hydrate.html.7d672763.js"><link rel="prefetch" href="/main/assets/i18n.html.9b498806.js"><link rel="prefetch" href="/main/assets/keyboard.html.eb799ab9.js"><link rel="prefetch" href="/main/assets/menu.html.d6d0230f.js"><link rel="prefetch" href="/main/assets/middlewares.html.4499e404.js"><link rel="prefetch" href="/main/assets/parse-mode.html.43b2007f.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.f7e3e226.js"><link rel="prefetch" href="/main/assets/router.html.416b4a6f.js"><link rel="prefetch" href="/main/assets/runner.html.e7e6183c.js"><link rel="prefetch" href="/main/assets/session.html.62c0f147.js"><link rel="prefetch" href="/main/assets/stateless-question.html.5cbe1b4d.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.511e62e6.js"><link rel="prefetch" href="/main/assets/about.html.8ec77b3b.js"><link rel="prefetch" href="/main/assets/comparison.html.96cb7362.js"><link rel="prefetch" href="/main/assets/faq.html.23e00674.js"><link rel="prefetch" href="/main/assets/comparison.html.386eb5d6.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.96e543c2.js"><link rel="prefetch" href="/main/assets/gcf.html.580af024.js"><link rel="prefetch" href="/main/assets/heroku.html.473bc385.js"><link rel="prefetch" href="/main/assets/supabase.html.a68cdfb8.js"><link rel="prefetch" href="/main/assets/vps.html.abd8e508.js"><link rel="prefetch" href="/main/assets/comparison.html.7485f8f0.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.ef8c08b2.js"><link rel="prefetch" href="/main/assets/gcf.html.a8c95329.js"><link rel="prefetch" href="/main/assets/heroku.html.5182c2c6.js"><link rel="prefetch" href="/main/assets/supabase.html.087c3e5e.js"><link rel="prefetch" href="/main/assets/vps.html.6be801f6.js"><link rel="prefetch" href="/main/assets/index.html.ffdf3c7b.js"><link rel="prefetch" href="/main/assets/api.html.69cc17ab.js"><link rel="prefetch" href="/main/assets/basics.html.8d46729c.js"><link rel="prefetch" href="/main/assets/commands.html.93024e09.js"><link rel="prefetch" href="/main/assets/context.html.338c4649.js"><link rel="prefetch" href="/main/assets/deployment-types.html.a8f8c60a.js"><link rel="prefetch" href="/main/assets/errors.html.8a1b1087.js"><link rel="prefetch" href="/main/assets/files.html.0f982b55.js"><link rel="prefetch" href="/main/assets/filter-queries.html.2482e31a.js"><link rel="prefetch" href="/main/assets/games.html.2cca6225.js"><link rel="prefetch" href="/main/assets/getting-started.html.2244e61d.js"><link rel="prefetch" href="/main/assets/inline-queries.html.d6c249f9.js"><link rel="prefetch" href="/main/assets/introduction.html.2f221633.js"><link rel="prefetch" href="/main/assets/middleware.html.c87f976e.js"><link rel="prefetch" href="/main/assets/index.html.340eb910.js"><link rel="prefetch" href="/main/assets/deployment.html.f576ab00.js"><link rel="prefetch" href="/main/assets/flood.html.461704fb.js"><link rel="prefetch" href="/main/assets/middleware.html.978e29fc.js"><link rel="prefetch" href="/main/assets/proxy.html.60d1791c.js"><link rel="prefetch" href="/main/assets/reliability.html.5198a336.js"><link rel="prefetch" href="/main/assets/scaling.html.3fb65272.js"><link rel="prefetch" href="/main/assets/structuring.html.ce2b84cb.js"><link rel="prefetch" href="/main/assets/transformers.html.3b49bf9a.js"><link rel="prefetch" href="/main/assets/index.html.3303196b.js"><link rel="prefetch" href="/main/assets/examples.html.ae06b719.js"><link rel="prefetch" href="/main/assets/index.html.e70d9310.js"><link rel="prefetch" href="/main/assets/api.html.be515827.js"><link rel="prefetch" href="/main/assets/basics.html.c3f1a68a.js"><link rel="prefetch" href="/main/assets/commands.html.b49785b6.js"><link rel="prefetch" href="/main/assets/context.html.e85f7adb.js"><link rel="prefetch" href="/main/assets/deployment-types.html.4bc68a49.js"><link rel="prefetch" href="/main/assets/errors.html.0206fe15.js"><link rel="prefetch" href="/main/assets/files.html.fe0ff429.js"><link rel="prefetch" href="/main/assets/filter-queries.html.b79cefe7.js"><link rel="prefetch" href="/main/assets/games.html.790f74bc.js"><link rel="prefetch" href="/main/assets/getting-started.html.33750226.js"><link rel="prefetch" href="/main/assets/inline-queries.html.41f8237e.js"><link rel="prefetch" href="/main/assets/introduction.html.e17293d2.js"><link rel="prefetch" href="/main/assets/middleware.html.73491839.js"><link rel="prefetch" href="/main/assets/about.html.e36f1b73.js"><link rel="prefetch" href="/main/assets/comparison.html.a2bb3de4.js"><link rel="prefetch" href="/main/assets/faq.html.e558db86.js"><link rel="prefetch" href="/main/assets/index.html.ad48d769.js"><link rel="prefetch" href="/main/assets/auto-retry.html.14d0fe6a.js"><link rel="prefetch" href="/main/assets/autoquote.html.92f82beb.js"><link rel="prefetch" href="/main/assets/command-filter.html.65b78fa6.js"><link rel="prefetch" href="/main/assets/console-time.html.5a749802.js"><link rel="prefetch" href="/main/assets/conversations.html.fbe1dd11.js"><link rel="prefetch" href="/main/assets/emoji.html.21d8cef1.js"><link rel="prefetch" href="/main/assets/files.html.2a36f497.js"><link rel="prefetch" href="/main/assets/fluent.html.aa26104d.js"><link rel="prefetch" href="/main/assets/guide.html.b01ae573.js"><link rel="prefetch" href="/main/assets/hydrate.html.020178d0.js"><link rel="prefetch" href="/main/assets/i18n.html.2fe7b7a7.js"><link rel="prefetch" href="/main/assets/keyboard.html.e40111c3.js"><link rel="prefetch" href="/main/assets/menu.html.190b8e20.js"><link rel="prefetch" href="/main/assets/middlewares.html.a8a8ed23.js"><link rel="prefetch" href="/main/assets/parse-mode.html.c8861f33.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.eec0f47c.js"><link rel="prefetch" href="/main/assets/router.html.56ac8eed.js"><link rel="prefetch" href="/main/assets/runner.html.eab4afce.js"><link rel="prefetch" href="/main/assets/session.html.fba3dac5.js"><link rel="prefetch" href="/main/assets/stateless-question.html.d7503f02.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.9240415f.js"><link rel="prefetch" href="/main/assets/comparison.html.b430d4d8.js"><link rel="prefetch" href="/main/assets/deno-deploy.html.e84c5445.js"><link rel="prefetch" href="/main/assets/gcf.html.476447b1.js"><link rel="prefetch" href="/main/assets/heroku.html.90a40863.js"><link rel="prefetch" href="/main/assets/supabase.html.df62c7bd.js"><link rel="prefetch" href="/main/assets/vps.html.16181c06.js"><link rel="prefetch" href="/main/assets/index.html.d3b0157e.js"><link rel="prefetch" href="/main/assets/auto-retry.html.f219e85a.js"><link rel="prefetch" href="/main/assets/autoquote.html.88deb958.js"><link rel="prefetch" href="/main/assets/command-filter.html.7cf697f5.js"><link rel="prefetch" href="/main/assets/console-time.html.40d31d22.js"><link rel="prefetch" href="/main/assets/conversations.html.7eec40d4.js"><link rel="prefetch" href="/main/assets/emoji.html.4650f805.js"><link rel="prefetch" href="/main/assets/files.html.36cfbe82.js"><link rel="prefetch" href="/main/assets/fluent.html.2855a59d.js"><link rel="prefetch" href="/main/assets/guide.html.2352c616.js"><link rel="prefetch" href="/main/assets/hydrate.html.278f0627.js"><link rel="prefetch" href="/main/assets/i18n.html.e01278a7.js"><link rel="prefetch" href="/main/assets/keyboard.html.76ded04e.js"><link rel="prefetch" href="/main/assets/menu.html.6fcd48d0.js"><link rel="prefetch" href="/main/assets/middlewares.html.89b819fb.js"><link rel="prefetch" href="/main/assets/parse-mode.html.13a7df81.js"><link rel="prefetch" href="/main/assets/ratelimiter.html.9dbde658.js"><link rel="prefetch" href="/main/assets/router.html.dea27e15.js"><link rel="prefetch" href="/main/assets/runner.html.8fc52056.js"><link rel="prefetch" href="/main/assets/stateless-question.html.29c3a2fe.js"><link rel="prefetch" href="/main/assets/transformer-throttler.html.f817d212.js"><link rel="prefetch" href="/main/assets/about.html.dca0cbb5.js"><link rel="prefetch" href="/main/assets/comparison.html.7cc189b6.js"><link rel="prefetch" href="/main/assets/faq.html.06b0e01d.js"><link rel="prefetch" href="/main/assets/404.html.4d9f984a.js">
    <link rel="stylesheet" href="/main/assets/style.39efc01d.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/main/id/" class=""><img class="logo" src="/main/Y.png" alt="grammY"><span class="site-name can-hide">grammY</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/main/id/guide/" class="" aria-label="Panduan"><!--[--><!--]--> Panduan <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Belajar"><span class="title">Belajar</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Belajar"><span class="title">Belajar</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Panduan</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/guide/" class="" aria-label="Gambaran Umum"><!--[--><!--]--> Gambaran Umum <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/introduction.html" class="" aria-label="Pengenalan"><!--[--><!--]--> Pengenalan <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/getting-started.html" class="" aria-label="Memulai"><!--[--><!--]--> Memulai <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/basics.html" class="" aria-label="Mengirim dan Menerima Pesan"><!--[--><!--]--> Mengirim dan Menerima Pesan <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/context.html" class="" aria-label="Context"><!--[--><!--]--> Context <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/api.html" class="" aria-label="API Bot"><!--[--><!--]--> API Bot <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/filter-queries.html" class="" aria-label="Filter Query dan bot.on()"><!--[--><!--]--> Filter Query dan bot.on() <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/commands.html" class="" aria-label="Command"><!--[--><!--]--> Command <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/middleware.html" class="" aria-label="Middleware"><!--[--><!--]--> Middleware <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/errors.html" class="" aria-label="Menangani Error"><!--[--><!--]--> Menangani Error <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/inline-queries.html" class="" aria-label="Inline Query"><!--[--><!--]--> Inline Query <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/files.html" class="" aria-label="Menangani File"><!--[--><!--]--> Menangani File <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/games.html" class="" aria-label="Game"><!--[--><!--]--> Game <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/deployment-types.html" class="" aria-label="Long Polling vs. Webhook"><!--[--><!--]--> Long Polling vs. Webhook <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Tingkat Lanjut</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/" class="" aria-label="Gambaran Umum"><!--[--><!--]--> Gambaran Umum <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/middleware.html" class="" aria-label="Membangkitkan Middleware"><!--[--><!--]--> Membangkitkan Middleware <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/structuring.html" class="" aria-label="Peningkatan I: Codebase Skala Besar"><!--[--><!--]--> Peningkatan I: Codebase Skala Besar <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/scaling.html" class="" aria-label="Peningkatan II: Beban Kerja Tinggi"><!--[--><!--]--> Peningkatan II: Beban Kerja Tinggi <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/reliability.html" class="" aria-label="Peningkatan III: Reliabilitas"><!--[--><!--]--> Peningkatan III: Reliabilitas <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/flood.html" class="" aria-label="Peningkatan IV: Limitasi Flood"><!--[--><!--]--> Peningkatan IV: Limitasi Flood <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/transformers.html" class="" aria-label="Transformer API Bot"><!--[--><!--]--> Transformer API Bot <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/proxy.html" class="" aria-label="Dukungan Proxy"><!--[--><!--]--> Dukungan Proxy <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/deployment.html" class="" aria-label="Daftar Periksa Deployment"><!--[--><!--]--> Daftar Periksa Deployment <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Plugin"><span class="title">Plugin</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Plugin"><span class="title">Plugin</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Pendahuluan</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/" class="" aria-label="Tentang Plugin"><!--[--><!--]--> Tentang Plugin <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/guide.html" class="" aria-label="Cara Membuat Plugin"><!--[--><!--]--> Cara Membuat Plugin <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Bawaan</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a aria-current="page" href="/main/id/plugins/session.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Session dan Penyimpanan Data"><!--[--><!--]--> Session dan Penyimpanan Data <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/keyboard.html" class="" aria-label="Keyboard Custom dan Inline"><!--[--><!--]--> Keyboard Custom dan Inline <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Resmi</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/conversations.html" class="" aria-label="Percakapan (conversations)"><!--[--><!--]--> Percakapan (conversations) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/menu.html" class="" aria-label="Menu Interaktif (menu)"><!--[--><!--]--> Menu Interaktif (menu) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/stateless-question.html" class="" aria-label="Stateless Question (stateless-question)"><!--[--><!--]--> Stateless Question (stateless-question) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/runner.html" class="" aria-label="Concurrency (runner)"><!--[--><!--]--> Concurrency (runner) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/hydrate.html" class="" aria-label="Hidrasi (hydrate)"><!--[--><!--]--> Hidrasi (hydrate) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/auto-retry.html" class="" aria-label="Pengulang Request Api (auto-retry)"><!--[--><!--]--> Pengulang Request Api (auto-retry) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/transformer-throttler.html" class="" aria-label="Kontrol Flood (transformer-throttler)"><!--[--><!--]--> Kontrol Flood (transformer-throttler) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/ratelimiter.html" class="" aria-label="Rate Limit Pengguna (ratelimiter)"><!--[--><!--]--> Rate Limit Pengguna (ratelimiter) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/files.html" class="" aria-label="File (files)"><!--[--><!--]--> File (files) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/i18n.html" class="" aria-label="Internationalization (i18n)"><!--[--><!--]--> Internationalization (i18n) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/fluent.html" class="" aria-label="Internationalization (fluent)"><!--[--><!--]--> Internationalization (fluent) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/router.html" class="" aria-label="Router (router)"><!--[--><!--]--> Router (router) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/emoji.html" class="" aria-label="Emoji (emoji)"><!--[--><!--]--> Emoji (emoji) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/parse-mode.html" class="" aria-label="Parse Mode (parse-mode)"><!--[--><!--]--> Parse Mode (parse-mode) <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Pihak Ketiga</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/console-time.html" class="" aria-label="Console Time"><!--[--><!--]--> Console Time <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/middlewares.html" class="" aria-label="Kumpulan Middleware yang Berguna"><!--[--><!--]--> Kumpulan Middleware yang Berguna <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/autoquote.html" class="" aria-label="Autoquote"><!--[--><!--]--> Autoquote <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/#buat-plugin-mu-sendiri" class="" aria-label="[Kirim PR-mu!]"><!--[--><!--]--> [Kirim PR-mu!] <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Contoh"><span class="title">Contoh</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Contoh"><span class="title">Contoh</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Contoh</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://github.com/grammyjs/awesome-grammY" rel="noopener noreferrer" target="_blank" aria-label="Awesome grammY"><!--[--><!--]--> Awesome grammY <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://github.com/grammyjs/examples" rel="noopener noreferrer" target="_blank" aria-label="Contoh Repositori Bot"><!--[--><!--]--> Contoh Repositori Bot <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Sumber Daya"><span class="title">Sumber Daya</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Sumber Daya"><span class="title">Sumber Daya</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>grammY</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/resources/about.html" class="" aria-label="Tentang grammY"><!--[--><!--]--> Tentang grammY <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://t.me/grammyjs" rel="noopener noreferrer" target="_blank" aria-label="Chat Komunitas (Inggris)"><!--[--><!--]--> Chat Komunitas (Inggris) <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://t.me/grammyjs_ru" rel="noopener noreferrer" target="_blank" aria-label="Chat Komunitas (Rusia)"><!--[--><!--]--> Chat Komunitas (Rusia) <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://t.me/grammyjs_news" rel="noopener noreferrer" target="_blank" aria-label="Berita"><!--[--><!--]--> Berita <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://twitter.com/grammy_js" rel="noopener noreferrer" target="_blank" aria-label="Twitter"><!--[--><!--]--> Twitter <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/resources/faq.html" class="" aria-label="FAQ"><!--[--><!--]--> FAQ <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/resources/comparison.html" class="" aria-label="Perbandingan dengan Framework Lainnya"><!--[--><!--]--> Perbandingan dengan Framework Lainnya <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Telegram</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots" rel="noopener noreferrer" target="_blank" aria-label="Pendahuluan untuk Developer"><!--[--><!--]--> Pendahuluan untuk Developer <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots/faq" rel="noopener noreferrer" target="_blank" aria-label="FAQ tentang Bot"><!--[--><!--]--> FAQ tentang Bot <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots/api" rel="noopener noreferrer" target="_blank" aria-label="Referensi API Bot"><!--[--><!--]--> Referensi API Bot <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots/webhooks#testing-your-bot-with-updates" rel="noopener noreferrer" target="_blank" aria-label="Contoh Update"><!--[--><!--]--> Contoh Update <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Hosting"><span class="title">Hosting</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Hosting"><span class="title">Hosting</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Gambaran Umum</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/hosting/comparison.html" class="" aria-label="Perbandingan"><!--[--><!--]--> Perbandingan <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Tutorial</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/hosting/deno-deploy.html" class="" aria-label="Deno Deploy"><!--[--><!--]--> Deno Deploy <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/hosting/supabase.html" class="" aria-label="Supabase Edge Functions"><!--[--><!--]--> Supabase Edge Functions <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/hosting/heroku.html" class="" aria-label="Heroku"><!--[--><!--]--> Heroku <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/hosting/gcf.html" class="" aria-label="Google Cloud Functions"><!--[--><!--]--> Google Cloud Functions <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/hosting/vps.html" class="" aria-label="Virtual Private Server"><!--[--><!--]--> Virtual Private Server <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://doc.deno.land/https://deno.land/x/grammy/mod.ts" rel="noopener noreferrer" target="_blank" aria-label="Referensi API"><!--[--><!--]--> Referensi API <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Bahasa</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Bahasa</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/main/plugins/session.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/main/es/plugins/session.html" class="" aria-label="Espaol"><!--[--><!--]--> Espaol <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/main/id/plugins/session.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Indonesia"><!--[--><!--]--> Indonesia <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/main/zh/plugins/session.html" class="" aria-label=""><!--[--><!--]-->  <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/grammyjs/grammY" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/main/id/guide/" class="" aria-label="Panduan"><!--[--><!--]--> Panduan <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Belajar"><span class="title">Belajar</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Belajar"><span class="title">Belajar</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Panduan</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/guide/" class="" aria-label="Gambaran Umum"><!--[--><!--]--> Gambaran Umum <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/introduction.html" class="" aria-label="Pengenalan"><!--[--><!--]--> Pengenalan <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/getting-started.html" class="" aria-label="Memulai"><!--[--><!--]--> Memulai <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/basics.html" class="" aria-label="Mengirim dan Menerima Pesan"><!--[--><!--]--> Mengirim dan Menerima Pesan <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/context.html" class="" aria-label="Context"><!--[--><!--]--> Context <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/api.html" class="" aria-label="API Bot"><!--[--><!--]--> API Bot <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/filter-queries.html" class="" aria-label="Filter Query dan bot.on()"><!--[--><!--]--> Filter Query dan bot.on() <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/commands.html" class="" aria-label="Command"><!--[--><!--]--> Command <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/middleware.html" class="" aria-label="Middleware"><!--[--><!--]--> Middleware <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/errors.html" class="" aria-label="Menangani Error"><!--[--><!--]--> Menangani Error <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/inline-queries.html" class="" aria-label="Inline Query"><!--[--><!--]--> Inline Query <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/files.html" class="" aria-label="Menangani File"><!--[--><!--]--> Menangani File <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/games.html" class="" aria-label="Game"><!--[--><!--]--> Game <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/guide/deployment-types.html" class="" aria-label="Long Polling vs. Webhook"><!--[--><!--]--> Long Polling vs. Webhook <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Tingkat Lanjut</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/" class="" aria-label="Gambaran Umum"><!--[--><!--]--> Gambaran Umum <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/middleware.html" class="" aria-label="Membangkitkan Middleware"><!--[--><!--]--> Membangkitkan Middleware <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/structuring.html" class="" aria-label="Peningkatan I: Codebase Skala Besar"><!--[--><!--]--> Peningkatan I: Codebase Skala Besar <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/scaling.html" class="" aria-label="Peningkatan II: Beban Kerja Tinggi"><!--[--><!--]--> Peningkatan II: Beban Kerja Tinggi <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/reliability.html" class="" aria-label="Peningkatan III: Reliabilitas"><!--[--><!--]--> Peningkatan III: Reliabilitas <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/flood.html" class="" aria-label="Peningkatan IV: Limitasi Flood"><!--[--><!--]--> Peningkatan IV: Limitasi Flood <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/transformers.html" class="" aria-label="Transformer API Bot"><!--[--><!--]--> Transformer API Bot <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/proxy.html" class="" aria-label="Dukungan Proxy"><!--[--><!--]--> Dukungan Proxy <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/advanced/deployment.html" class="" aria-label="Daftar Periksa Deployment"><!--[--><!--]--> Daftar Periksa Deployment <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Plugin"><span class="title">Plugin</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Plugin"><span class="title">Plugin</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Pendahuluan</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/" class="" aria-label="Tentang Plugin"><!--[--><!--]--> Tentang Plugin <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/guide.html" class="" aria-label="Cara Membuat Plugin"><!--[--><!--]--> Cara Membuat Plugin <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Bawaan</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a aria-current="page" href="/main/id/plugins/session.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Session dan Penyimpanan Data"><!--[--><!--]--> Session dan Penyimpanan Data <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/keyboard.html" class="" aria-label="Keyboard Custom dan Inline"><!--[--><!--]--> Keyboard Custom dan Inline <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Resmi</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/conversations.html" class="" aria-label="Percakapan (conversations)"><!--[--><!--]--> Percakapan (conversations) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/menu.html" class="" aria-label="Menu Interaktif (menu)"><!--[--><!--]--> Menu Interaktif (menu) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/stateless-question.html" class="" aria-label="Stateless Question (stateless-question)"><!--[--><!--]--> Stateless Question (stateless-question) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/runner.html" class="" aria-label="Concurrency (runner)"><!--[--><!--]--> Concurrency (runner) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/hydrate.html" class="" aria-label="Hidrasi (hydrate)"><!--[--><!--]--> Hidrasi (hydrate) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/auto-retry.html" class="" aria-label="Pengulang Request Api (auto-retry)"><!--[--><!--]--> Pengulang Request Api (auto-retry) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/transformer-throttler.html" class="" aria-label="Kontrol Flood (transformer-throttler)"><!--[--><!--]--> Kontrol Flood (transformer-throttler) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/ratelimiter.html" class="" aria-label="Rate Limit Pengguna (ratelimiter)"><!--[--><!--]--> Rate Limit Pengguna (ratelimiter) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/files.html" class="" aria-label="File (files)"><!--[--><!--]--> File (files) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/i18n.html" class="" aria-label="Internationalization (i18n)"><!--[--><!--]--> Internationalization (i18n) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/fluent.html" class="" aria-label="Internationalization (fluent)"><!--[--><!--]--> Internationalization (fluent) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/router.html" class="" aria-label="Router (router)"><!--[--><!--]--> Router (router) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/emoji.html" class="" aria-label="Emoji (emoji)"><!--[--><!--]--> Emoji (emoji) <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/parse-mode.html" class="" aria-label="Parse Mode (parse-mode)"><!--[--><!--]--> Parse Mode (parse-mode) <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Pihak Ketiga</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/console-time.html" class="" aria-label="Console Time"><!--[--><!--]--> Console Time <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/middlewares.html" class="" aria-label="Kumpulan Middleware yang Berguna"><!--[--><!--]--> Kumpulan Middleware yang Berguna <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/autoquote.html" class="" aria-label="Autoquote"><!--[--><!--]--> Autoquote <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/plugins/#buat-plugin-mu-sendiri" class="" aria-label="[Kirim PR-mu!]"><!--[--><!--]--> [Kirim PR-mu!] <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Contoh"><span class="title">Contoh</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Contoh"><span class="title">Contoh</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Contoh</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://github.com/grammyjs/awesome-grammY" rel="noopener noreferrer" target="_blank" aria-label="Awesome grammY"><!--[--><!--]--> Awesome grammY <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://github.com/grammyjs/examples" rel="noopener noreferrer" target="_blank" aria-label="Contoh Repositori Bot"><!--[--><!--]--> Contoh Repositori Bot <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Sumber Daya"><span class="title">Sumber Daya</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Sumber Daya"><span class="title">Sumber Daya</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>grammY</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/resources/about.html" class="" aria-label="Tentang grammY"><!--[--><!--]--> Tentang grammY <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://t.me/grammyjs" rel="noopener noreferrer" target="_blank" aria-label="Chat Komunitas (Inggris)"><!--[--><!--]--> Chat Komunitas (Inggris) <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://t.me/grammyjs_ru" rel="noopener noreferrer" target="_blank" aria-label="Chat Komunitas (Rusia)"><!--[--><!--]--> Chat Komunitas (Rusia) <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://t.me/grammyjs_news" rel="noopener noreferrer" target="_blank" aria-label="Berita"><!--[--><!--]--> Berita <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://twitter.com/grammy_js" rel="noopener noreferrer" target="_blank" aria-label="Twitter"><!--[--><!--]--> Twitter <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/resources/faq.html" class="" aria-label="FAQ"><!--[--><!--]--> FAQ <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/resources/comparison.html" class="" aria-label="Perbandingan dengan Framework Lainnya"><!--[--><!--]--> Perbandingan dengan Framework Lainnya <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Telegram</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots" rel="noopener noreferrer" target="_blank" aria-label="Pendahuluan untuk Developer"><!--[--><!--]--> Pendahuluan untuk Developer <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots/faq" rel="noopener noreferrer" target="_blank" aria-label="FAQ tentang Bot"><!--[--><!--]--> FAQ tentang Bot <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots/api" rel="noopener noreferrer" target="_blank" aria-label="Referensi API Bot"><!--[--><!--]--> Referensi API Bot <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="https://core.telegram.org/bots/webhooks#testing-your-bot-with-updates" rel="noopener noreferrer" target="_blank" aria-label="Contoh Update"><!--[--><!--]--> Contoh Update <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Hosting"><span class="title">Hosting</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Hosting"><span class="title">Hosting</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Gambaran Umum</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/hosting/comparison.html" class="" aria-label="Perbandingan"><!--[--><!--]--> Perbandingan <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Tutorial</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/main/id/hosting/deno-deploy.html" class="" aria-label="Deno Deploy"><!--[--><!--]--> Deno Deploy <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/hosting/supabase.html" class="" aria-label="Supabase Edge Functions"><!--[--><!--]--> Supabase Edge Functions <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/hosting/heroku.html" class="" aria-label="Heroku"><!--[--><!--]--> Heroku <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/hosting/gcf.html" class="" aria-label="Google Cloud Functions"><!--[--><!--]--> Google Cloud Functions <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/main/id/hosting/vps.html" class="" aria-label="Virtual Private Server"><!--[--><!--]--> Virtual Private Server <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://doc.deno.land/https://deno.land/x/grammy/mod.ts" rel="noopener noreferrer" target="_blank" aria-label="Referensi API"><!--[--><!--]--> Referensi API <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Bahasa</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Bahasa</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/main/plugins/session.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/main/es/plugins/session.html" class="" aria-label="Espaol"><!--[--><!--]--> Espaol <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/main/id/plugins/session.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Indonesia"><!--[--><!--]--> Indonesia <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/main/zh/plugins/session.html" class="" aria-label=""><!--[--><!--]-->  <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/grammyjs/grammY" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Session dan Penyimpanan Data (Built-In) <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/main/id/plugins/session.html#mengapa-kita-perlu-memikirkan-tempat-penyimpanan" class="router-link-active router-link-exact-active sidebar-item" aria-label="Mengapa Kita Perlu Memikirkan Tempat Penyimpanan?"><!--[--><!--]--> Mengapa Kita Perlu Memikirkan Tempat Penyimpanan? <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/id/plugins/session.html#apa-itu-session" class="router-link-active router-link-exact-active sidebar-item" aria-label="Apa Itu Session?"><!--[--><!--]--> Apa Itu Session? <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/id/plugins/session.html#kapan-kita-perlu-session" class="router-link-active router-link-exact-active sidebar-item" aria-label="Kapan Kita Perlu Session?"><!--[--><!--]--> Kapan Kita Perlu Session? <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/id/plugins/session.html#cara-menggunakan-session" class="router-link-active router-link-exact-active sidebar-item" aria-label="Cara Menggunakan Session"><!--[--><!--]--> Cara Menggunakan Session <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/main/id/plugins/session.html#contoh-penggunaan" class="router-link-active router-link-exact-active sidebar-item" aria-label="Contoh Penggunaan"><!--[--><!--]--> Contoh Penggunaan <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/id/plugins/session.html#data-awal-session" class="router-link-active router-link-exact-active sidebar-item" aria-label="Data Awal Session"><!--[--><!--]--> Data Awal Session <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/id/plugins/session.html#session-key" class="router-link-active router-link-exact-active sidebar-item" aria-label="Session Key"><!--[--><!--]--> Session Key <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/id/plugins/session.html#menyimpan-data" class="router-link-active router-link-exact-active sidebar-item" aria-label="Menyimpan Data"><!--[--><!--]--> Menyimpan Data <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/main/id/plugins/session.html#storage-adapter-yang-tersedia" class="router-link-active router-link-exact-active sidebar-item" aria-label="Storage Adapter yang Tersedia"><!--[--><!--]--> Storage Adapter yang Tersedia <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/main/id/plugins/session.html#ram-bawaan" class="router-link-active router-link-exact-active sidebar-item" aria-label="RAM (bawaan)"><!--[--><!--]--> RAM (bawaan) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/id/plugins/session.html#storage-gratis" class="router-link-active router-link-exact-active sidebar-item" aria-label="Storage Gratis"><!--[--><!--]--> Storage Gratis <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/id/plugins/session.html#storage-eksternal" class="router-link-active router-link-exact-active sidebar-item" aria-label="Storage Eksternal"><!--[--><!--]--> Storage Eksternal <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/main/id/plugins/session.html#multi-session" class="router-link-active router-link-exact-active sidebar-item" aria-label="Multi Session"><!--[--><!--]--> Multi Session <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/id/plugins/session.html#lazy-session" class="router-link-active router-link-exact-active sidebar-item" aria-label="Lazy Session"><!--[--><!--]--> Lazy Session <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/id/plugins/session.html#peningkatan-storage" class="router-link-active router-link-exact-active sidebar-item" aria-label="Peningkatan Storage"><!--[--><!--]--> Peningkatan Storage <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/main/id/plugins/session.html#timeout" class="router-link-active router-link-exact-active sidebar-item" aria-label="Timeout"><!--[--><!--]--> Timeout <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/main/id/plugins/session.html#migrasi" class="router-link-active router-link-exact-active sidebar-item" aria-label="Migrasi"><!--[--><!--]--> Migrasi <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/main/id/plugins/session.html#ringkasan-plugin" class="router-link-active router-link-exact-active sidebar-item" aria-label="Ringkasan Plugin"><!--[--><!--]--> Ringkasan Plugin <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="session-dan-penyimpanan-data-built-in" tabindex="-1"><a class="header-anchor" href="#session-dan-penyimpanan-data-built-in" aria-hidden="true">#</a> Session dan Penyimpanan Data (Built-In)</h1><p>Meski kamu bisa saja menulis sendiri kode untuk melakukan koneksi ke sebuah data storage favoritmu, namun grammY sudah menyediakan sebuah skema penyimpanan praktis yang disebut dengan <em>session</em>.</p><blockquote><p>Langsung <a href="#cara-menggunakan-session">lompat ke bawah</a> jika sudah tahu cara kerja session.</p></blockquote><h2 id="mengapa-kita-perlu-memikirkan-tempat-penyimpanan" tabindex="-1"><a class="header-anchor" href="#mengapa-kita-perlu-memikirkan-tempat-penyimpanan" aria-hidden="true">#</a> Mengapa Kita Perlu Memikirkan Tempat Penyimpanan?</h2><p>Berbeda dengan akun user Telegram biasa, bot memiliki <a href="https://core.telegram.org/bots#4-how-are-bots-different-from-humans" target="_blank" rel="noopener noreferrer">cloud storage yang terbatas<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> di Telegram cloud. Akibatnya, ada beberapa hal yang tidak bisa kamu lakukan di bot:</p><ol><li>Kamu tidak bisa mengakses pesan lama yang pernah diterima oleh bot-mu.</li><li>Kamu tidak bisa mengakses pesan lama yang pernah dikirim oleh bot-mu.</li><li>Kamu tidak bisa memperoleh daftar semua chat yang terhubung ke bot kamu.</li><li>Dan hal-hal lainnya, seperti tidak disediakannya media overview, dll.</li></ol><p>Dengan kata lain, <strong>bot hanya bisa mengakses informasi update yang datang pada saat itu saja</strong> (misal sebuah pesan), contohnya informasi yang tersedia di object context <code>ctx</code>.</p><p>Oleh karena itu, jika kamu <em>ingin mengakses</em> data lama, kamu perlu menyimpannya segera setelah data itu diterima. Kamu harus memiliki sebuah data storage, misalnya di file, database, atau in-memory.</p><p>Tentu saja, grammY sudah mengantisipasinya agar kamu tidak perlu repot-repot menyiapkannya sendiri. Kamu bisa menggunakan penyimpanan session grammY yang bisa langsung dipakai dan gratis untuk selamanya.</p><blockquote><p>Secara umum, ada banyak provider di luar sana yang menawarkan layanan data storage, dan grammY sudah terintegrasi dengan mereka tanpa ada kendala. Jika kamu hendak menjalankan database-mu sendiri, bisa dipastikan grammY juga mampu terintegrasi sama baiknya. <a href="#storage-adapter-yang-tersedia">Gulir ke bawah</a> untuk melihat daftar integrasi yang tersedia.</p></blockquote><h2 id="apa-itu-session" tabindex="-1"><a class="header-anchor" href="#apa-itu-session" aria-hidden="true">#</a> Apa Itu Session?</h2><p>Suatu hal yang lumrah untuk sebuah bot menyimpan beberapa data dari masing-masing chat. Contohnya, anggaplah kita ingin membuat sebuah bot yang menghitung berapa banyak pesan yang mengandung emoji  di teksnya. Bot kemudian dimasukkan ke dalam sebuah grup, dan dari sana kita bisa tahu seberapa besar kamu beserta teman-temanmu menyukai kucing.</p><p>Ketika bot kucing kita menerima sebuah pesan, ia harus mengingat sudah berapa kali ia melihat sebuah  di chat tersebut sebelumnya. Perhitungan kucingmu tentu saja tidak boleh berubah ketika temanmu menambahkan bot kucing ke grup lain, oleh karena itu yang kita butuhkan adalah menyimpan <em>satu perhitungan per chat</em> agar perhitungan masing-masing chat tidak saling tumpang tindih.</p><p>Session mampu menyimpan data <em>per chat</em> dengan cara yang lebih elegan. Kamu akan menggunakan chat identifier (chat id) sebagai key di database kamu, dan hasil perhitungan sebagai value-nya. Dari contoh di atas, kita bisa menggunakan chat identifier sebagai <em>session key</em>-nya (kamu bisa mempelajari lebih lanjut tentang session key di <a href="#session-key">bawah sini</a>). Alhasil, bot kamu akan menyimpan sebuah map chat identifier ke beberapa data session khusus, contohnya seperti ini:</p><div class="language-json ext-json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;271828&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;hitungKucing&quot;</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;314159&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;hitungKucing&quot;</span><span class="token operator">:</span> <span class="token number">265</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>Ketika kami menyebut database, kami benar-benar merujuk ke sebuah penyimpanan data, apapun bentuknya. Termasuk file, cloud storage, atau lainnya.</p></blockquote><p>OK, keren. Tapi, bagaimana sebenarnya cara kerja session di atas?</p><p>Kita bisa memasang middleware yang bertugas menyediakan data session dari suatu chat ke <code>ctx<wbr>.session</code> untuk setiap update. Plugin yang terpasang akan melakukan sesuatu baik sebelum maupun sesudah pemanggilan handler kita:</p><ol><li><strong>Sebelum middleware dijalankan.</strong> Plugin session mengambil dan memuat session data untuk chat terkait dari database. Ia menyimpan data tersebut di object context <code>ctx<wbr>.session</code>.</li><li><strong>Ketika middleware dijalankan.</strong> Kita bisa <em>membaca</em> <code>ctx<wbr>.session</code> untuk memeriksa value mana yang tersedia di database. Dari contoh di atas, jika sebuah pesan dikirim ke sebuah chat dengan identifier<code>314159</code>, ia akan menjadi <code>ctx<wbr>.session <wbr>=<wbr> { hitung<wbr>Kucing:<wbr> 265 }</code> ketika middleware dijalankan. Kita juga bisa <em>memodifikasi</em> <code>ctx<wbr>.session</code> sesuka hati, sehingga kita bisa menambah, mengubah serta menghapus field sesuai yang kita inginkan.</li><li><strong>Setelah middleware dijalankan.</strong> Middleware session memastikan bahwa data berhasil ditulis kembali ke database. Setiap kali middleware berhasil diproses, value <code>ctx<wbr>.session</code> akan disimpan kembali di database.</li></ol><p>Sekarang, kita tidak perlu lagi memikirkan cara berkomunikasi dengan data storage. Cukup dengan memodifikasi data di <code>ctx<wbr>.session</code>, lalu plugin akan mengurus sisanya.</p><h2 id="kapan-kita-perlu-session" tabindex="-1"><a class="header-anchor" href="#kapan-kita-perlu-session" aria-hidden="true">#</a> Kapan Kita Perlu Session?</h2><blockquote><p><a href="#cara-menggunakan-session">Lewati</a> jika kamu sudah yakin akan menggunakan session.</p></blockquote><p>Kamu mungkin sekarang berpikir, Sip! sekarang aku tidak perlu capek-capek mengatur database lagi. Yup, kamu benar, session merupakan solusi yang idealuntuk tipe data tertentu saja.</p><p>Berdasarkan pengalaman kami, ada beberapa situasi dimana session benar-benar berjaya. Di sisi lain, ada situasi-situasi tertentu dimana sebuah database tradisional mungkin lebih cocok dipakai.</p><p>Berikut tabel perbandingan yang mungkin bisa membantu kamu memutuskan perlu tidaknya menggunakan session:</p><table><thead><tr><th></th><th>Sessions</th><th>Database</th></tr></thead><tbody><tr><td><em>Akses</em></td><td>penyimpanan tunggal terisolasi <strong>per chat</strong></td><td>akses data yang sama dari <strong>berbagai chat</strong></td></tr><tr><td><em>Berbagi</em></td><td>data <strong>hanya digunakan oleh bot</strong></td><td>data <strong>digunakan oleh sistem lain</strong> (misal oleh sebuah web server yang terkoneksi)</td></tr><tr><td><em>Format</em></td><td>semua object JavaScript: string, angka, array, dll</td><td>semua macam bentuk data (binary, file, struktur, dll)</td></tr><tr><td><em>Ukuran per chat</em></td><td>sebaiknya kurang dari ~3 MB per chat</td><td>bebas, berapa pun ukurannya</td></tr><tr><td><em>Fitur eksklusif</em></td><td>Dibutuhkan oleh beberapa plugin grammY.</td><td>Mendukung transaksi database.</td></tr></tbody></table><p>Perlu diketahui bahwa dengan memilih salah satu session/database bukan berarti beberapa hal <em>tidak bisa bekerja</em> di session/database lain. Contohnya, kamu tentu saja bisa menyimpan data binary dalam jumlah besar di session-mu. Tetapi, bot kamu tidak akan mampu bekerja secara maksimal. Oleh karena itu, kami menyarankan untuk menggunakan session sewajarnya saja.</p><h2 id="cara-menggunakan-session" tabindex="-1"><a class="header-anchor" href="#cara-menggunakan-session" aria-hidden="true">#</a> Cara Menggunakan Session</h2><p>Kamu bisa menambahkan fitur session ke grammY menggunakan middleware session built-in.</p><h3 id="contoh-penggunaan" tabindex="-1"><a class="header-anchor" href="#contoh-penggunaan" aria-hidden="true">#</a> Contoh Penggunaan</h3><p>Berikut contoh bot yang menghitung jumlah pesan yang mengandung sebuah emoji kucing :</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">TypeScript</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">JavaScript</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">Deno</button></li></ul></div><!--[--><div class="code-group-item code-group-item__active" aria-selected="true"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Bot<span class="token punctuation">,</span> Context<span class="token punctuation">,</span> session<span class="token punctuation">,</span> SessionFlavor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;grammy&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Tentukan bentuk session kita.</span>
<span class="token keyword">interface</span> <span class="token class-name">SessionData</span> <span class="token punctuation">{</span>
  hitungKucing<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Tambahkan flavor yang berisi session ke type context.</span>
<span class="token keyword">type</span> <span class="token class-name">MyContext</span> <span class="token operator">=</span> Context <span class="token operator">&amp;</span> SessionFlavor<span class="token operator">&lt;</span>SessionData<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bot<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Pasang middleware session, kemudian tentukan nilai awal session.</span>
<span class="token keyword">function</span> <span class="token function">initial</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> SessionData <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> hitungKucing<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span> initial <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;meong&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> count <span class="token operator">=</span> ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>hitungKucing<span class="token punctuation">;</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Tingkat UwU kamu berada di level </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">hears</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*.*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>hitungKucing<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Bot<span class="token punctuation">,</span> session <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;grammy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bot</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Pasang middleware session, kemudian tentukan nilai awal session.</span>
<span class="token keyword">function</span> <span class="token function">initial</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">hitungKucing</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span> initial <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;meong&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">ctx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> count <span class="token operator">=</span> ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>hitungKucing<span class="token punctuation">;</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Tingkat UwU kamu berada di level </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">hears</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*.*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">ctx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>hitungKucing<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  Bot<span class="token punctuation">,</span>
  Context<span class="token punctuation">,</span>
  session<span class="token punctuation">,</span>
  SessionFlavor<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;https://deno.land/x/grammy@v1.11.1/mod.ts&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Tentukan bentuk session kita.</span>
<span class="token keyword">interface</span> <span class="token class-name">SessionData</span> <span class="token punctuation">{</span>
  hitungKucing<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Tambahkan flavor yang berisi session ke type context.</span>
<span class="token keyword">type</span> <span class="token class-name">MyContext</span> <span class="token operator">=</span> Context <span class="token operator">&amp;</span> SessionFlavor<span class="token operator">&lt;</span>SessionData<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bot<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Pasang middleware session, kemudian tentukan nilai awal session.</span>
<span class="token keyword">function</span> <span class="token function">initial</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> SessionData <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> hitungKucing<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span> initial <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;meong&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> count <span class="token operator">=</span> ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>hitungKucing<span class="token punctuation">;</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Tingkat UwU kamu berada di level </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">hears</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*.*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>hitungKucing<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p>Perhatikan bahwa kita perlu <a href="/main/id/guide/context.html#memodifikasi-object-context" class="">mengatur type context</a> agar session tersedia di dalamnya. Flavor context untuk session kita sebut dengan <code>Session<wbr>Flavor</code>.</p><h3 id="data-awal-session" tabindex="-1"><a class="header-anchor" href="#data-awal-session" aria-hidden="true">#</a> Data Awal Session</h3><p>Ketika user melakukan kontak ke bot untuk yang pertama kalinya, data session masih belum tersedia untuk user tersebut. Itulah kenapa kita perlu menentukan opsi <code>initial</code> sebagai nilai awal untuk middleware session. Buat sebuah function yang menghasilkan object baru yang didalamnya terdapat data awal untuk chat baru.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// Buat sebuah object baru yang akan digunakan sebagai data awal session.</span>
<span class="token keyword">function</span> <span class="token function">createInitialSessionData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    hitungKucing<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token comment">// Masukkan data lainnya di sini.</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span> initial<span class="token operator">:</span> createInitialSessionData <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Sama tetapi lebih singkat:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token function-variable function">initial</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> hitungKucing<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Berbagi Object</p><p>Pastikan untuk selalu membuat <em>object baru</em>. <strong>JANGAN</strong> lakukan ini:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// SALAH, STOP, FATAL, BERBAHAYA, JANGAN DITIRU</span>
<span class="token keyword">const</span> dataAwal <span class="token operator">=</span> <span class="token punctuation">{</span> hitungKucing<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// NGGAK!</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token function-variable function">initial</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> dataAwal <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// YA AMPUN!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Kalau kamu melakukannya, beberapa chat akan berbagi object session yang sama di memory. Akibatnya, mengubah data session di satu chat akan mempengaruhi data session di chat lain.</p></div><p>Kamu juga bisa mengabaikan opsi <code>initial</code>, meskipun kami menyarankan untuk tidak melakukannya. Kalau kamu tidak menentukan opsi tersebut, pembacaan <code>ctx<wbr>.session</code> akan mengakibatkan sebuah error untuk user baru.</p><h3 id="session-key" tabindex="-1"><a class="header-anchor" href="#session-key" aria-hidden="true">#</a> Session Key</h3><blockquote><p>Bagian ini membahas fitur lanjutan yang untuk sebagian besar orang bisa diabaikan. Kamu bisa melanjutkan ke bagian <a href="#menyimpan-data">Menyimpan Data</a>.</p></blockquote><p>Kamu bisa menentukan session key mana yang akan digunakan dengan cara memasukkan sebuah function bernama <code>get<wbr>Session<wbr>Key</code> ke <a href="https://doc.deno.land/https://deno.land/x/grammy/mod.ts/~/SessionOptions#getSessionKey" target="_blank" rel="noopener noreferrer">opsi session<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. Dengan begitu, kamu bisa mengubah perilaku plugin session sepenuhnya. Secara bawaan, data disimpan per chat. Tetapi, dengan menggunakan <code>get<wbr>Session<wbr>Key</code> kamu bisa menyimpan data entah itu per user, kombinasi per user dan chat, ataupun cara lainnya. Berikut ketiga contohnya:</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">TypeScript</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">JavaScript</button></li></ul></div><!--[--><div class="code-group-item code-group-item__active" aria-selected="true"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// Simpan data per chat (bawaan)</span>
<span class="token keyword">function</span> <span class="token function">getSessionKey</span><span class="token punctuation">(</span>ctx<span class="token operator">:</span> Context<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token punctuation">{</span>
  <span class="token comment">// Biarkan semua user di chat grup yang sama berbagi session yang sama juga,</span>
  <span class="token comment">// tetapi berikan session tersendiri untuk tiap user di chat pribadi</span>
  <span class="token keyword">return</span> ctx<span class="token punctuation">.</span>chat<span class="token operator">?.</span>id<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Simpan data per user.</span>
<span class="token keyword">function</span> <span class="token function">getSessionKey</span><span class="token punctuation">(</span>ctx<span class="token operator">:</span> Context<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token punctuation">{</span>
  <span class="token comment">// Beri setiap user penyimpanan session tersendiri</span>
  <span class="token comment">// (menggunakan session yang sama, baik di grup maupun di chat pribadi mereka)</span>
  <span class="token keyword">return</span> ctx<span class="token punctuation">.</span>from<span class="token operator">?.</span>id<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Simpan data kombinasi per user dan chat</span>
<span class="token keyword">function</span> <span class="token function">getSessionKey</span><span class="token punctuation">(</span>ctx<span class="token operator">:</span> Context<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token punctuation">{</span>
  <span class="token comment">// Beri setiap user penyimpanan session tersendiri untuk masing-masing chat</span>
  <span class="token comment">// (session tersendiri untuk setiap grup dan chat pribadi mereka)</span>
  <span class="token keyword">return</span> ctx<span class="token punctuation">.</span>from <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> ctx<span class="token punctuation">.</span>chat <span class="token operator">===</span> <span class="token keyword">undefined</span>
    <span class="token operator">?</span> <span class="token keyword">undefined</span>
    <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ctx<span class="token punctuation">.</span>from<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ctx<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span> getSessionKey <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Simpan data per chat (bawaan)</span>
<span class="token keyword">function</span> <span class="token function">getSessionKey</span><span class="token punctuation">(</span><span class="token parameter">ctx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Biarkan semua user di chat grup yang sama berbagi session yang sama juga,</span>
  <span class="token comment">// tetapi berikan session tersendiri untuk tiap user di chat pribadi</span>
  <span class="token keyword">return</span> ctx<span class="token punctuation">.</span>chat<span class="token operator">?.</span>id<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Simpan data per user.</span>
<span class="token keyword">function</span> <span class="token function">getSessionKey</span><span class="token punctuation">(</span><span class="token parameter">ctx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Beri setiap user penyimpanan session tersendiri</span>
  <span class="token comment">// (menggunakan session yang sama, baik di grup maupun di chat pribadi mereka)</span>
  <span class="token keyword">return</span> ctx<span class="token punctuation">.</span>from<span class="token operator">?.</span>id<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Simpan data kombinasi per user dan chat</span>
<span class="token keyword">function</span> <span class="token function">getSessionKey</span><span class="token punctuation">(</span><span class="token parameter">ctx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Beri setiap user penyimpanan session tersendiri untuk masing-masing chat</span>
  <span class="token comment">// (session tersendiri untuk setiap grup dan chat pribadi mereka)</span>
  <span class="token keyword">return</span> ctx<span class="token punctuation">.</span>from <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> ctx<span class="token punctuation">.</span>chat <span class="token operator">===</span> <span class="token keyword">undefined</span>
    <span class="token operator">?</span> <span class="token keyword">undefined</span>
    <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ctx<span class="token punctuation">.</span>from<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ctx<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span> getSessionKey <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p>Setiap kali <code>get<wbr>Session<wbr>Key</code> mengembalikan <code>undefined</code>, <code>ctx<wbr>.session</code> akan menghasilkan <code>undefined</code> juga. Contohnya, session key resolver bawaan tidak akan bekerja untuk update <code>poll</code>/<code>poll<wbr>_answer</code> ataupun <code>inline<wbr>_query</code>, karena mereka bukan bagian dari sebuah chat (<code>ctx<wbr>.chat</code> menghasilkan <code>undefined</code>).</p><div class="custom-container warning"><p class="custom-container-title">Session Key dan Webhook</p><p>Ketika kamu menjalankan bot di webhook, sebaiknya kamu tidak menggunakan opsi <code>get<wbr>Session<wbr>Key</code>. Telegram mengirim webhook secara berurutan untuk setiap chat, oleh karena itu session key resolver bawaan adalah satu-satunya cara yang bisa menjamin untuk terhindar dari kehilangan data.</p><p>Jika kamu terpaksa harus menggunakan opsi tersebut (yang mana masih bisa dilakukan), kamu harus paham betul dengan tindakan yang kamu lakukan. Pastikan memahami konsekuensi menggunakan konfigurasi ini dengan membaca <a href="/main/id/guide/deployment-types.html" class="">materi berikut</a>, khususnya <a href="/main/id/plugins/runner.html#pemrosesan-secara-berurutan-jika-diperlukan" class="">yang ini</a>.</p></div><h3 id="menyimpan-data" tabindex="-1"><a class="header-anchor" href="#menyimpan-data" aria-hidden="true">#</a> Menyimpan Data</h3><p>Semua data session dari contoh-contoh di atas disimpan di dalam RAM kamu, sehingga ketika bot kamu berhenti bekerja, semua data tersebut akan hilang. Ini adalah perilaku yang diharapkan ketika kamu mengembangkan sebuah bot ataupun melakukan berbagai pengetesan secara otomatis (database tidak diperlukan). Sebaliknya, <strong>perilaku ini kemungkinan besar tidak kita harapkan di tahap produksi</strong>. Pada tahap produksi, kamu kemungkinan besar ingin menyimpan data secara permanen, contohnya di sebuah file, database, ataupun tempat penyimpanan lainnya.</p><p>Kamu harus menggunakan opsi <code>storage</code> di middleware session supaya bisa terhubung ke database kamu. Kamu bisa menggunakan storage adapter yang disediakan oleh grammY (lihat <a href="#storage-adapter-yang-tersedia">di bawah</a>), jika tidak ada yang cocok, kamu hanya perlu menulis kurang lebih lima baris kode untuk mengimplementasikannya sendiri.</p><h2 id="storage-adapter-yang-tersedia" tabindex="-1"><a class="header-anchor" href="#storage-adapter-yang-tersedia" aria-hidden="true">#</a> Storage Adapter yang Tersedia</h2><p>Secara bawaan, session akan disimpan <a href="#ram-bawaan">di dalam memory kamu</a> oleh storage adapter built-in. Kamu juga bisa menggunakan session permanen yang grammy <a href="#storage-gratis">sediakan secara gratis</a>, ataupun melakukan koneksi ke <a href="#storage-eksternal">storage eksternal</a>.</p><p>Berikut cara memasang salah satu storage adapter yang tersedia di bawah:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> storageAdapter <span class="token operator">=</span> <span class="token operator">...</span> <span class="token comment">// tergantung dari jenis pemasangan</span>

bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  initial<span class="token operator">:</span> <span class="token operator">...</span>
  storage<span class="token operator">:</span> storageAdapter<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ram-bawaan" tabindex="-1"><a class="header-anchor" href="#ram-bawaan" aria-hidden="true">#</a> RAM (bawaan)</h3><p>Secara bawaan semua data disimpan di dalam RAM. Artinya, semua session akan terhapus di saat bot dihentikan.</p><p>Kamu bisa menggunakan class <code>Memory<wbr>Session<wbr>Storage</code> (<a href="https://doc.deno.land/https://deno.land/x/grammy/mod.ts/~/MemorySessionStorage" target="_blank" rel="noopener noreferrer">Referensi API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>) dari package inti grammY jika kamu ingin mengatur penyimpanan data di RAM.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  initial<span class="token operator">:</span> <span class="token operator">...</span>
  storage<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">MemorySessionStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// serta value bawaannya</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="storage-gratis" tabindex="-1"><a class="header-anchor" href="#storage-gratis" aria-hidden="true">#</a> Storage Gratis</h3><blockquote><p>Storage gratis diperuntukkan untuk proyek kecil. Pengaplikasian skala-produksi harus menggunakan database mereka sendiri. Daftar pilihan integrasi storage eksternal yang didukung tersedia <a href="#storage-eksternal">di bawah sini</a>.</p></blockquote><p>Keuntungan menggunakan grammY adalah kamu bisa mengakses cloud storage secara gratis. Ia tidak membutuhkan pengaturan sama sekalisemua autentikasi dilakukan menggunakan token bot-mu. Lihat <a href="https://github.com/grammyjs/storages/tree/main/packages/free" target="_blank" rel="noopener noreferrer">repositori berikut<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>!</p><p>Cara pemasangannya sangat mudah:</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">TypeScript</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">JavaScript</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">Deno</button></li></ul></div><!--[--><div class="code-group-item code-group-item__active" aria-selected="true"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> freeStorage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@grammyjs/storage-free&quot;</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  initial<span class="token operator">:</span> <span class="token operator">...</span>
  storage<span class="token operator">:</span> <span class="token generic-function"><span class="token function">freeStorage</span><span class="token generic class-name"><span class="token operator">&lt;</span>SessionData<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>bot<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> freeStorage <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&quot;@grammyjs/storage-free&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  initial<span class="token operator">:</span> <span class="token operator">...</span>
  storage<span class="token operator">:</span> <span class="token function">freeStorage</span><span class="token punctuation">(</span>bot<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> freeStorage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;https://deno.land/x/grammy_storages@v2.0.1/free/src/mod.ts&quot;</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  initial<span class="token operator">:</span> <span class="token operator">...</span>
  storage<span class="token operator">:</span> <span class="token generic-function"><span class="token function">freeStorage</span><span class="token generic class-name"><span class="token operator">&lt;</span>SessionData<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>bot<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p>Selesai! Bot kamu sekarang sudah menggunakan data storage permanen.</p><p>Berikut contoh utuh yang bisa kamu coba:</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">TypeScript</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">JavaScript</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">Deno</button></li></ul></div><!--[--><div class="code-group-item code-group-item__active" aria-selected="true"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Bot<span class="token punctuation">,</span> Context<span class="token punctuation">,</span> session<span class="token punctuation">,</span> SessionFlavor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;grammy&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> freeStorage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@grammyjs/storage-free&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Tentukan struktur session-nya.</span>
<span class="token keyword">interface</span> <span class="token class-name">SessionData</span> <span class="token punctuation">{</span>
  hitung<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">MyContext</span> <span class="token operator">=</span> Context <span class="token operator">&amp;</span> SessionFlavor<span class="token operator">&lt;</span>SessionData<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// Buat bot lalu masukkan middleware session.</span>
<span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bot<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- Taruh token bot-mu diantara &quot;&quot;</span>

bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">initial</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> hitung<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  storage<span class="token operator">:</span> <span class="token generic-function"><span class="token function">freeStorage</span><span class="token generic class-name"><span class="token operator">&lt;</span>SessionData<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>bot<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Gunakan data session permanen di handler update.</span>
bot<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>hitung<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Jumlah pesan: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>hitung<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Bot<span class="token punctuation">,</span> session <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&quot;grammy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> freeStorage <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&quot;@grammyjs/storage-free&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Buat bot lalu masukkan middleware session.</span>
<span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bot</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- Taruh token bot-mu diantara &quot;&quot;</span>

bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">initial</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> hitung<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  storage<span class="token operator">:</span> <span class="token function">freeStorage</span><span class="token punctuation">(</span>bot<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Gunakan data session permanen di handler update.</span>
bot<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>hitung<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Jumlah pesan: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>hitung<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  Bot<span class="token punctuation">,</span>
  Context<span class="token punctuation">,</span>
  session<span class="token punctuation">,</span>
  SessionFlavor<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;https://deno.land/x/grammy@v1.11.1/mod.ts&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> freeStorage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;https://deno.land/x/grammy_storages@v2.0.1/free/src/mod.ts&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Tentukan struktur session-nya.</span>
<span class="token keyword">interface</span> <span class="token class-name">SessionData</span> <span class="token punctuation">{</span>
  hitung<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">MyContext</span> <span class="token operator">=</span> Context <span class="token operator">&amp;</span> SessionFlavor<span class="token operator">&lt;</span>SessionData<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// Buat bot lalu masukkan middleware session.</span>
<span class="token keyword">const</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bot<span class="token operator">&lt;</span>MyContext<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- Taruh token bot-mu diantara &quot;&quot;</span>

bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">initial</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> hitung<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  storage<span class="token operator">:</span> <span class="token generic-function"><span class="token function">freeStorage</span><span class="token generic class-name"><span class="token operator">&lt;</span>SessionData<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>bot<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Gunakan data session permanen di handler update.</span>
bot<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>hitung<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Jumlah Pesan: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span>hitung<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bot<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bot<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="storage-eksternal" tabindex="-1"><a class="header-anchor" href="#storage-eksternal" aria-hidden="true">#</a> Storage Eksternal</h3><p>Kami mengelola daftar storage adapter resmi yang bisa kamu gunakan untuk menyimpan data session di berbagai tempat. Masing-masing dari mereka mengharuskan kamu untuk mendaftar di sebuah penyedia layanan hosting, ataupun meng-hosting storage-mu sendiri.</p><ul><li>Supabase: <a href="https://github.com/grammyjs/storages/tree/main/packages/supabase" target="_blank" rel="noopener noreferrer">https://<wbr>github<wbr>.com<wbr>/grammyjs<wbr>/storages<wbr>/tree<wbr>/main<wbr>/packages<wbr>/supabase<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Deta.sh Base: <a href="https://github.com/grammyjs/storages/tree/main/packages/deta" target="_blank" rel="noopener noreferrer">https://<wbr>github<wbr>.com<wbr>/grammyjs<wbr>/storages<wbr>/tree<wbr>/main<wbr>/packages<wbr>/deta<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Google Firestore (hanya untuk Node.js): <a href="https://github.com/grammyjs/storages/tree/main/packages/firestore" target="_blank" rel="noopener noreferrer">https://<wbr>github<wbr>.com<wbr>/grammyjs<wbr>/storages<wbr>/tree<wbr>/main<wbr>/packages<wbr>/firestore<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Files: <a href="https://github.com/grammyjs/storages/tree/main/packages/file" target="_blank" rel="noopener noreferrer">https://<wbr>github<wbr>.com<wbr>/grammyjs<wbr>/storages<wbr>/tree<wbr>/main<wbr>/packages<wbr>/file<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>MongoDB: <a href="https://github.com/grammyjs/storages/tree/main/packages/mongodb" target="_blank" rel="noopener noreferrer">https://<wbr>github<wbr>.com<wbr>/grammyjs<wbr>/storages<wbr>/tree<wbr>/main<wbr>/packages<wbr>/mongodb<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Redis: <a href="https://github.com/grammyjs/storages/tree/main/packages/redis" target="_blank" rel="noopener noreferrer">https://<wbr>github<wbr>.com<wbr>/grammyjs<wbr>/storages<wbr>/tree<wbr>/main<wbr>/packages<wbr>/redis<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>PostgreSQL: <a href="https://github.com/grammyjs/storages/tree/main/packages/psql" target="_blank" rel="noopener noreferrer">https://<wbr>github<wbr>.com<wbr>/grammyjs<wbr>/storages<wbr>/tree<wbr>/main<wbr>/packages<wbr>/psql<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>TypeORM (hanya untuk Node.js): <a href="https://github.com/grammyjs/storages/tree/main/packages/typeorm" target="_blank" rel="noopener noreferrer">https://<wbr>github<wbr>.com<wbr>/grammyjs<wbr>/storages<wbr>/tree<wbr>/main<wbr>/packages<wbr>/typeorm<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>DenoDB (hanya untuk Deno): <a href="https://github.com/grammyjs/storages/tree/main/packages/denodb" target="_blank" rel="noopener noreferrer">https://<wbr>github<wbr>.com<wbr>/grammyjs<wbr>/storages<wbr>/tree<wbr>/main<wbr>/packages<wbr>/denodb<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Prisma (hanya untuk Node.js): <a href="https://github.com/grammyjs/storages/tree/main/packages/prisma" target="_blank" rel="noopener noreferrer">https://<wbr>github<wbr>.com<wbr>/grammyjs<wbr>/storages<wbr>/tree<wbr>/main<wbr>/packages<wbr>/prisma<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><div class="custom-container tip"><p class="custom-container-title">Storage pilihanmu belum didukung? Tidak masalah!</p><p>Membuat storage adapter sendiri sangat mudah dilakukan. Opsi <code>storage</code> bekerja dengan berbagai object yang menganut <a href="https://doc.deno.land/https://deno.land/x/grammy/mod.ts/~/StorageAdapter" target="_blank" rel="noopener noreferrer">interface berikut<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, sehingga kamu bisa melakukan koneksi ke storage-mu hanya dengan beberapa baris kode.</p><blockquote><p>Kalau kamu ingin mempublikasikan storage adapter buatanmu, silahkan ubah halaman ini dan sertakan juga link-nya agar orang-orang bisa menggunakannya.</p></blockquote></div><p>Semua storage adapter bisa diinstal dengan cara yang sama. Pertama, kamu harus mencari tahu nama package adapter pilihanmu. Sebagai contoh, storage adapter Supabase memiliki nama package <code>supabase</code>.</p><p><strong>Di Node.js</strong>, kamu bisa menginstal adapter melalui <code>npm i @grammyjs<wbr>/storage<wbr>-&lt;nama<wbr>_adapter&gt;</code>. Misal, storage adapter Supabase bisa diinstal dengan cara <code>npm i @grammyjs<wbr>/storage<wbr>-supabase</code>.</p><p><strong>Di Deno</strong>, semua storage adapter dipublikasikan di module Deno yang sama. Kamu bisa meng-import adapter yang kamu butuhkan melalui <code>https://<wbr>deno<wbr>.land<wbr>/x<wbr>/grammy<wbr>_storages<wbr>/&lt;nama<wbr>_adapter&gt;<wbr>/src<wbr>/mod<wbr>.ts</code>. Misal, storage adapter Supabase bisa di-import melalui <code>https://<wbr>deno<wbr>.land<wbr>/x<wbr>/grammy<wbr>_storages<wbr>/supabase<wbr>/src<wbr>/mod<wbr>.ts</code>.</p><p>Lihat bagian pemasangan di repositori masing-masing untuk mengetahui cara menghubungkan adapter terkait ke storage pilihanmu.</p><p>Kamu juga bisa <a href="#peningkatan-storage">scroll ke bawah</a> untuk mempelajari bagaimana plugin session bisa meningkatkan storage adapter.</p><h2 id="multi-session" tabindex="-1"><a class="header-anchor" href="#multi-session" aria-hidden="true">#</a> Multi Session</h2><p>Plugin session mampu menyimpan beberapa fragmen data session di beberapa tempat. Cara kerjanya sama seperti kamu menginstal beberapa instance plugin session, tetapi untuk setiap instance-nya dipasang pengaturan yang berbeda.</p><p>Setiap fragmen data akan diberi nama sesuai dengan tempat di mana data tersebut disimpan. Dengan begitu, kamu bisa mengakses <code>ctx<wbr>.session<wbr>.foo</code> dan <code>ctx<wbr>.session<wbr>.bar</code>. Kedua nilai tersebut akan dimuat dari data storage yang berbeda-beda, lalu ditulis kembali ke data storage lainnya. Selain itu, kamu juga bisa menggunakan storage yang sama menggunakan konfigurasi yang berbeda.</p><p>Penggunaan <a href="#session-key">session key</a> yang berbeda untuk setiap fragmen data juga bisa dilakukan. Sehingga, kamu bisa menyimpan beberapa data untuk setiap chat dan beberapa data lain untuk setiap user.</p><blockquote><p>Kalau kamu menggunakan <a href="/main/id/plugins/runner.html" class="">grammY runner</a>, jangan lupa untuk mengatur <code>sequentialize</code> secara tepat dengan cara mengembalikan <strong>semua</strong> session key sebagai constraint dari function terkait.</p></blockquote><p>Kamu bisa menggunakan fitur ini dengan cara menambahkan <code>type:<wbr> &quot;multi&quot;</code> ke konfigurasi session. Setelah itu, kamu perlu mengatur konfigurasi untuk setiap fragmen.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;multi&quot;</span><span class="token punctuation">,</span>
  foo<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// value bawaan juga tersedia</span>
    storage<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">MemorySessionStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">initial</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getSessionKey</span><span class="token operator">:</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ctx<span class="token punctuation">.</span>from<span class="token operator">?.</span>id<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  bar<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">initial</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> prop<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    storage<span class="token operator">:</span> <span class="token function">freeStorage</span><span class="token punctuation">(</span>bot<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  baz<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Perlu diingat bahwa kamu harus menambahkan sebuah konfigurasi untuk setiap entry yang ingin kamu gunakan. Kalau ingin menggunakan konfigurasi bawaanya, kamu bisa menambahkan sebuah object kosong (seperti yang kita lakukan pada <code>baz</code> di contoh atas).</p><p>Data session kamu nantinya tetap berisi sebuah object dengan beberapa property. Itulah kenapa context flavor kamu tidak akan berubah. Contoh di atas bisa menggunakan interface berikut ketika mengubah context object:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">SessionData</span> <span class="token punctuation">{</span>
  foo<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  bar<span class="token operator">:</span> <span class="token punctuation">{</span> prop<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  baz<span class="token operator">:</span> <span class="token punctuation">{</span> width<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> height<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Dengan begitu, kamu masih bisa menggunakan <code>Session<wbr>Flavor&lt;Session<wbr>Data&gt;</code> di context object-mu.</p><h2 id="lazy-session" tabindex="-1"><a class="header-anchor" href="#lazy-session" aria-hidden="true">#</a> Lazy Session</h2><blockquote><p>Bagian ini membahas optimisasi performa yang untuk sebagian besar orang bisa diabaikan. Silahkan lewati bagian ini jika dirasa tidak perlu.</p></blockquote><p>Lazy sessions adalah salah satu bentuk implementasi dari sebuah session yang berfungsi untuk mengurangi beban database bot kamu secara signifikan dengan cara mengurangi operasi baca dan tulis yang tidak diperlukan.</p><p>Anggaplah bot kamu berada di dalam sebuah chat grup dimana ia hanya merespon command, selain itu tidak akan direspon. Tanpa session, berikut yang akan terjadi:</p><ol><li>Update yang berisi pesan baru dikirimkan ke bot kamu.</li><li>Tidak ada handler yang dipanggil, sehingga tidak ada aksi yang perlu dilakukan.</li><li>Middleware selesai dijalankan begitu saja.</li></ol><p>Segera setelah kamu memasang session bawaan (strict), yang mana menyediakan data session di object context, berikut yang akan terjadi:</p><ol><li>Update yang berisi pesan baru dikirimkan ke bot kamu</li><li>Data session dimuat dari penyimpanan session (misal database)</li><li>Tidak ada handler yang dipanggil, sehingga tidak ada aksi yang perlu dilakukan</li><li>Data session yang sama ditulis kembali ke penyimpanan session</li><li>Middleware selesai dijalankan, dan telah melakukan operasi baca serta tulis ke data storage</li></ol><p>Perilaku tersebut tentu akan menghasilkan banyak operasi baca dan tulis yang tidak diperlukan. Lazy Session dapat mengabaikan langkah 2 dan 4 jika memang tidak ada handler yang membutuhkan data session. Dengan begitu, tidak ada data yang perlu dibaca maupun ditulis kembali ke data storage.</p><p>Ini bisa dilakukan dengan cara memotong akses <code>ctx<wbr>.session</code>. Jika tidak ada handler yang dipanggil, <code>ctx<wbr>.session</code> tidak akan diakses. Lazy session menggunakannya sebagai indikator untuk mencegah agar komunikasi ke database tidak dilakukan .</p><p>Dalam praktiknya, alih-alih memiliki data session di <code>ctx<wbr>.session</code>, kamu sekarang akan memiliki <em>sebuah data session dalam bentuk promise</em> yang tersedia di <code>ctx<wbr>.session</code>.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// session bawaan (strict sessions)</span>
bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;settings&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// `session` adalah data session-nya</span>
  <span class="token keyword">const</span> session <span class="token operator">=</span> ctx<span class="token punctuation">.</span>session<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Lazy session</span>
bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;settings&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// `promise` adalah sebuah promise dari data session-nya, sedangkan</span>
  <span class="token keyword">const</span> promise <span class="token operator">=</span> ctx<span class="token punctuation">.</span>session<span class="token punctuation">;</span>
  <span class="token comment">// `session` adalah data session-nya</span>
  <span class="token keyword">const</span> session <span class="token operator">=</span> <span class="token keyword">await</span> ctx<span class="token punctuation">.</span>session<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Jika kamu tidak mengakses <code>ctx<wbr>.session</code> sama sekali, tidak ada operasi yang dijalankan. Sebaliknya, di saat kamu mengakses property <code>session</code> di object context, maka operasi baca akan dijalankan. Ketika kamu tidak melakukan operasi baca sama sekali (atau menambahkan sebuah value baru langsung ke <code>ctx<wbr>.session</code>), maka kita tidak butuh melakukan operasi tulis, karena tidak ada data yang perlu diubah. Oleh karena itu, kita bisa mengabaikan operasi tulis juga. Hasilnya, kita bisa menghemat operasi baca dan tulis. Selain itu, kamu bisa menggunakan session hampir sama seperti sebelumnya, bedanya kamu cuma perlu menambahkan beberapa keyword <code>async</code> dan <code>await</code> di kodemu.</p><p>Jadi, apa yang harus diperhatikan saat menggunakan lazy session alih-alih session bawaan (strict)? Ada tiga hal yang harus kamu perhatikan:</p><ol><li>Gunakan flavor <code>Lazy<wbr>Session<wbr>Flavor</code> alih-alih <code>Session<wbr>Flavor</code> ke context-mu. Kedua flavor tersebut bekerja dengan cara yang sama. Bedanya untuk varian lazy, <code>ctx<wbr>.session</code> dibungkus oleh sebuah promise.</li><li>Gunakan <code>lazy<wbr>Session</code> alih-alih <code>session</code> ketika menambahkan middleware session-mu.</li><li>Selalu tambahkan sebuah inline <code>await ctx<wbr>.session</code> alih-alih <code>ctx<wbr>.session</code> di semua tempat middleware kamu, baik untuk operasi baca maupun tulis. Jangan khawatir, kamu bisa <code>await</code> promise data session-mu sebanyak yang kamu mau. Karena kamu akan selalu merujuk ke value yang sama, maka operasi baca cukup dilakukan sekali untuk satu update, meskipun kamu memanggil <code>await</code> berkali-kali.</li></ol><p>Perlu diketahui bahwa di lazy session, kamu bisa menambahkan baik object biasa maupun object dalam bentuk promise ke <code>ctx<wbr>.session</code>. Kalau kamu menambahkan <code>ctx<wbr>.session</code> sebagai sebuah promise, maka ia akan di-<code>await</code> sebelum data ditulis kembali ke data storage. Dengan begitu, kode berikut dapat dilakukan:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>bot<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&quot;reset&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Lebih singkat dibandingkan menggunakan `await ctx.session`:</span>
  ctx<span class="token punctuation">.</span>session <span class="token operator">=</span> ctx<span class="token punctuation">.</span>session<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>stats<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    stats<span class="token punctuation">.</span>counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Meski beberapa orang berpendapat bahwa lebih disarankan untuk menggunakan <code>await</code> secara eksplisit ketika menambahkan sebuah promise ke <code>ctx<wbr>.session</code>, namun intinya adalah kamu tetap <em>bisa</em> melakukannya jika kamu lebih menyukai menulis kode dengan gaya penulisan tersebut.</p><div class="custom-container tip"><p class="custom-container-title">Plugin-Plugin yang Membutuhkan Session</p><p>Developer plugin yang memanfaatkan <code>ctx<wbr>.session</code> harus selalu memperbolehkan user untuk menambahkan <code>Session<wbr>Flavor | Lazy<wbr>Session<wbr>Flavor</code> dan juga mendukung kedua mode. Selalu await <code>ctx<wbr>.session</code> di kode plugin: di saat sebuah object non-promise ditambahkan, object tersebut akan dievaluasi ke dirinya sendiri, jadi kamu hanya perlu menulis kode untuk lazy session dan secara otomatis ia juga akan mendukung strict session.</p></div><h2 id="peningkatan-storage" tabindex="-1"><a class="header-anchor" href="#peningkatan-storage" aria-hidden="true">#</a> Peningkatan Storage</h2><p>Plugin session dapat meningkatkan kemampuan storage adapter dengan cara menambahkan beberapa fitur: <a href="#timeout">timeout</a> dan <a href="#migrasi">migrasi</a>.</p><p>Kedua fitur tersebut bisa diinstal dengan menggunakan function <code>enhance<wbr>Storage</code>.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// Buat sebuah storage adapter.</span>
<span class="token keyword">const</span> storage <span class="token operator">=</span> <span class="token function">freeStorage</span><span class="token punctuation">(</span>bot<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// jangan lupa diatur</span>
<span class="token comment">// Tingkatkan kemampuan storage.</span>
<span class="token keyword">const</span> enhanced <span class="token operator">=</span> <span class="token function">enhanceStorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  storage<span class="token punctuation">,</span>
  <span class="token comment">// tulis konfigurasinya di sini</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Gunakan storage adapter yang sudah ditingkatkan.</span>
bot<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span> storage<span class="token operator">:</span> enhanced <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Kamu juga bisa menggunakan kedua fitur secara bersamaan.</p><h3 id="timeout" tabindex="-1"><a class="header-anchor" href="#timeout" aria-hidden="true">#</a> Timeout</h3><p>Fitur timeout mampu menambahkan rentang waktu kedaluwarsa ke data session. Jika dalam kurun waktu tersebut session tidak mengalami perubahan, data untuk chat terkait akan dihapus.</p><p>Kamu bisa menggunakan session timeout melalui opsi <code>milliseconds<wbr>ToLive</code>.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> enhanced <span class="token operator">=</span> <span class="token function">enhanceStorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  storage<span class="token punctuation">,</span>
  millisecondsToLive<span class="token operator">:</span> <span class="token number">30</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// 30 menit</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Perlu dicatat bahwa proses penghapusan data hanya akan dilakukan saat data session terkait dibaca di sesi berikutnya.</p><h3 id="migrasi" tabindex="-1"><a class="header-anchor" href="#migrasi" aria-hidden="true">#</a> Migrasi</h3><p>Migrasi akan berguna di saat kamu sedang mengembangkan bot tetapi masih terdapat data session di dalamnya. Fitur ini bisa digunakan jika kamu ingin mengubah data session tanpa merusak data-data yang sudah ada.</p><p>Ini bisa dilakukan dengan cara memberi nomor versi ke data terkait, lalu menulis function migrasi sederhana. Function migrasi tersebut yang akan menentukan bagaimana session data di-upgrade dari satu versi ke versi yang lain.</p><p>Kita akan mengilustrasikannya dengan sebuah contoh. Anggaplah kamu menyimpan informasi daftar hewan peliharaan dari suatu user. Sejauh ini, kamu hanya menyimpan nama hewan peliharaanya saja dalam bentuk string array di <code>ctx<wbr>.session<wbr>.pet<wbr>Names</code>.</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">SessionData</span> <span class="token punctuation">{</span>
  petNames<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Sekarang, kamu berencana untuk menyimpan umurnya juga.</p><p>Untuk melakukannya, kamu bisa melakukan ini:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">SessionData</span> <span class="token punctuation">{</span>
  petNames<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  petBirthdays<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Cara seperti ini memang tidak akan merusak data yang sudah ada. Namun, ini bukan cara yang baik, karena nama dan tanggal lahirnya akan disimpan di tempat yang berbeda. Semestinya data session kamu terlihat seperti ini:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Pet</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  birthday<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">SessionData</span> <span class="token punctuation">{</span>
  pets<span class="token operator">:</span> Pet<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Function migrasi bisa kamu gunakan untuk mengubah string array yang lama menjadi array object pet yang baru.</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">TypeScript</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">JavaScript</button></li></ul></div><!--[--><div class="code-group-item code-group-item__active" aria-selected="true"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">addBirthdayToPets</span><span class="token punctuation">(</span>old<span class="token operator">:</span> <span class="token punctuation">{</span> petNames<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> SessionData <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    pets<span class="token operator">:</span> old<span class="token punctuation">.</span>petNames<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> enhanced <span class="token operator">=</span> <span class="token function">enhanceStorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  storage<span class="token punctuation">,</span>
  migrations<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token number">1</span><span class="token operator">:</span> addBirthdayToPets<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">addBirthdayToPets</span><span class="token punctuation">(</span>old<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    pets<span class="token operator">:</span> old<span class="token punctuation">.</span>petNames<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> enhanced <span class="token operator">=</span> <span class="token function">enhanceStorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  storage<span class="token punctuation">,</span>
  migrations<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token number">1</span><span class="token operator">:</span> addBirthdayToPets<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p>Setiap kali data session dibaca, fitur peningkatan storage akan mengecek apakah data session tersebut sudah berada di versi <code>1</code>. Jika versinya di bawah itu (atau bahkan tidak ditemukan karena kamu sebelumnya tidak menggunakan fitur ini), maka function migrasi akan dijalankan. Proses ini akan meningkatkan versi datanya menjadi <code>1</code>. Oleh karena itu, kamu bisa dengan yakin mengasumsikan bahwa data session tersebut memiliki struktur yang paling baru, dan peningkatan storage terkait akan mengurus sisanya serta memigrasi data tersebut jika memang diperlukan.</p><p>Kamu bisa menambah beberapa function migrasi lain seiring dengan berkembangnya bot kamu:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> enhanced <span class="token operator">=</span> <span class="token function">enhanceStorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  storage<span class="token punctuation">,</span>
  migrations<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token number">1</span><span class="token operator">:</span> addBirthdayToPets<span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token operator">:</span> addIsFavoriteFlagToPets<span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token operator">:</span> addUserSettings<span class="token punctuation">,</span>
    <span class="token number">10</span><span class="token operator">:</span> extendUserSettings<span class="token punctuation">,</span>
    <span class="token number">10.1</span><span class="token operator">:</span> fixUserSettings<span class="token punctuation">,</span>
    <span class="token number">11</span><span class="token operator">:</span> compressData<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Kamu bisa memilih berbagai macam penomoran sebagai versinya, selama ia berupa JavaScript number. Tidak peduli seberapa besar data session sebuah chat telah berubah, segera setelah ia dibaca, ia akan dimigrasikan ke versi yang telah ditentukan hingga ia menggunakan struktur yang terbaru.</p><h2 id="ringkasan-plugin" tabindex="-1"><a class="header-anchor" href="#ringkasan-plugin" aria-hidden="true">#</a> Ringkasan Plugin</h2><p>Plugin ini tersedia secara built-in di dalam package inti grammy. Kamu tidak perlu memasang package tambahan untuk menggunakannya. Cukup import yang kamu butuhkan langsung dari grammY.</p><p>Selain itu, baik referensi API maupun dokumentasinya telah dijadikan satu dengan package inti.</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/grammyjs/website/edit/main/site/docs/id/plugins/session.md" rel="noopener noreferrer" target="_blank" aria-label="Edit halaman ini di GitHub"><!--[--><!--]--> Edit halaman ini di GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Terakhir diperbarui: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Kontributor: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: git.fytyt@aleeas.com">Ciki Momogi</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--[--><hr class="my-divider"><footer class="my-footer footer"> Based on commit <code><a href="https://github.com/grammyjs/website/pull/main/commits/ee464dc80d531556d05e156a520f233913a115d7" target="_blank">ee464dc80d531556d05e156a520f233913a115d7</a></code></footer><!--]--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/main/assets/app.2f873437.js" defer></script>
  </body>
</html>
